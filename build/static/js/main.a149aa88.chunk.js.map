{"version":3,"sources":["assets/images/loading.gif","containers/App/style.js","commons/Theme/index.js","components/GlobalLoading/style.js","components/GlobalLoading/index.js","components/CModal/styles.js","actions/modal.js","constants/modal.js","components/CModal/index.js","containers/AdminHomePage/style.js","containers/AdminHomePage/index.js","components/Tasks/TaskItems/styles.js","components/Tasks/TaskItems/index.js","components/Tasks/TaskList/index.js","actions/task.js","constants/task.js","actions/orderActions.js","constants/order.js","actions/customerActions.js","constants/customer.js","components/SearchBox/styles.js","components/SearchBox/index.js","containers/TaskForm/validate.js","containers/TaskForm/style.js","components/FormHelper/TextField/index.js","components/FormHelper/Select/styles.js","components/FormHelper/Select/index.js","containers/TaskForm/index.js","containers/Taskboard/style.js","containers/Taskboard/index.js","actions/errorActions.js","constants/ActionTypes.js","actions/authActions.js","containers/LoginPage/style.js","containers/LoginPage/validate.js","containers/LoginPage/index.js","containers/SignupPage/style.js","containers/SignupPage/index.js","containers/PageNotFound/style.js","containers/PageNotFound/index.js","actions/fastReportActions.js","constants/fastReport.js","actions/imageActions.js","constants/image.js","containers/FastReports/style.js","actions/fileActions.js","constants/file.js","containers/FastReportForm/validate.js","containers/FastReportForm/style.js","components/DropzoneDialog/style.js","components/DropzoneDialog/index.js","containers/FastReportForm/index.js","actions/ui.js","constants/ui.js","containers/FastReports/index.js","actions/toolActions.js","constants/tool.js","containers/FastReportDetail/style.js","components/FileInput/style.js","components/FileInput/index.js","containers/FastReportDetail/index.js","containers/Orders/style.js","containers/OrderForm/validate.js","containers/OrderForm/style.js","containers/OrderForm/index.js","containers/Orders/index.js","containers/OrderDetail/style.js","containers/OrderDetail/index.js","actions/cchttActions.js","constants/cchtt.js","containers/Changechtts/style.js","containers/CchttForm/validate.js","containers/CchttForm/style.js","containers/CchttForm/index.js","containers/Changechtts/index.js","containers/CchttDetail/style.js","containers/CchttDetail/index.js","actions/cgsatActions.js","constants/cgsat.js","containers/Changegsats/style.js","containers/CgsatForm/validate.js","containers/CgsatForm/style.js","containers/CgsatForm/index.js","containers/Changegsats/index.js","containers/CgsatDetail/style.js","containers/CgsatDetail/index.js","actions/bbdgktActions.js","constants/bbdgkt.js","containers/Bbdgkts/style.js","containers/BbdgktForm/validate.js","containers/BbdgktForm/style.js","containers/BbdgktForm/index.js","containers/Bbdgkts/index.js","containers/BbdgktDetail/style.js","containers/BbdgktDetail/index.js","actions/thongkeActions.js","constants/thongke.js","containers/ThongKes/style.js","containers/ThongKes/index.js","actions/bptcActions.js","constants/bptc.js","containers/Bptcs/style.js","containers/BptcForm/validate.js","containers/BptcForm/style.js","containers/BptcForm/index.js","containers/Bptcs/index.js","containers/BptcDetail/style.js","containers/BptcDetail/index.js","containers/ToolForm/validate.js","containers/ToolForm/style.js","containers/ToolForm/index.js","containers/Tools/style.js","containers/Tools/index.js","containers/CustomerForm/validate.js","containers/CustomerForm/style.js","containers/CustomerForm/index.js","containers/Customers/style.js","containers/Customers/index.js","constants/index.js","components/Dashboard/styles.js","components/Dashboard/Header/styles.js","containers/ExportToolForm/validate.js","containers/ExportToolForm/style.js","commons/utils/apiCaller.js","apis/auth.js","containers/ExportToolForm/index.js","components/Dashboard/Header/index.js","components/Dashboard/Sidebar/styles.js","components/Dashboard/Sidebar/index.js","components/Dashboard/Footer/styles.js","components/Dashboard/Footer/index.js","components/Dashboard/index.js","commons/Layout/AdminLayoutRoute/index.js","commons/Layout/DefaultLayoutRoute/index.js","containers/App/index.js","serviceWorker.js","helpers/toastHelper.js","reducers/task.js","reducers/ui.js","reducers/modal.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/order.js","reducers/fastReport.js","reducers/cchtt.js","reducers/cgsat.js","reducers/bbdgkt.js","reducers/bptc.js","reducers/thongke.js","reducers/customer.js","reducers/tool.js","reducers/image.js","reducers/file.js","reducers/tempImageForTool.js","constants/tempImageForTool.js","reducers/index.js","sagas/login.js","apis/order.js","sagas/orderSaga.js","apis/fastReport.js","sagas/fastReportSaga.js","apis/cchtt.js","sagas/cchttSaga.js","apis/cgsat.js","sagas/cgsatSaga.js","apis/bbdgkt.js","sagas/bbdgktSaga.js","apis/bptc.js","sagas/bptcSaga.js","apis/thongke.js","sagas/thongkeSaga.js","apis/customer.js","sagas/customerSaga.js","apis/tool.js","sagas/toolSaga.js","apis/image.js","sagas/imageSaga.js","apis/file.js","sagas/fileSaga.js","redux/configureStore.js","index.js"],"names":["module","exports","style","box","display","alignItems","shape","padding","margin","backgroundColor","borderRadius","color","theme","createMuiTheme","palette","primary","main","secondary","error","textColor","menuLink","defaultTextColor","typography","fontFamily","backgroudColor","transitions","duration","shortest","shorter","short","standard","complex","enteringScreen","leavingScreen","styles","globalLoading","position","left","right","top","bottom","zIndex","background","icon","marginLeft","marginRight","width","GlobalLoading","this","props","classes","xhtml","showLoading","className","src","loadingIcon","alt","Component","withConnect","connect","state","ownProps","ui","dispatch","compose","withStyles","modal","paper","boxShadow","shadows","maxWidth","TextField","header","spacing","title","fontWeight","textTransform","content","showModal","type","hideModal","hideTempModal","changeModalTitle","payload","changeModalContent","component","ModalMain","onClose","console","log","open","modalActionsCreator","Dialog","aria-labelledby","md","Grid","container","direction","justify","onClick","DialogContent","bindActionCreators","modalActions","flexDirection","justifyContent","minHeight","textAlign","flex","AdminHomePage","renderAuthenticates","isAuthenticated","to","auth","cardActions","card","marginBottom","TaskItem","tasks","onClickEdit","status","_id","onClickDelete","WO","PCT","timeStart","userId","timeStop","Card","key","CardContent","item","name","moment","format","CardActions","Fab","aria-label","fab","size","Icon","fontSize","TaskList","xs","value","Box","mt","mb","wrapperListTask","map","task","index","fetchListTask","params","fetchListTaskSuccess","data","fetchListTaskFail","addListTask","description","addListTaskSuccess","addListTaskFail","updateTask","STATUSES","updateTaskSuccess","updateTaskFail","deleteTask","id","deleteTaskSuccess","deleteTaskFail","filterTask","keyword","filterTaskSuccess","setTaskEditing","listAllOrders","listAllOrdersSuccess","listAllOrdersFail","searchOrder","searchOrderSuccess","searchOrderFail","getIdOrder","getIdOrderSuccess","getIdOrderFail","addOrder","addOrderSuccess","addOrderFail","deleteOrder","deleteOrderSuccess","deleteOrderFail","updateOrder","updateOrderSuccess","updateOrderNote","updateOrderFail","setOrderEditing","order","listAllCustomers","listAllCustomersSuccess","listAllCustomersFail","addCustomer","addCustomerSuccess","addCustomerFail","deleteCustomer","deleteCustomerSuccess","deleteCustomerFail","updateCustomer","updateCustomerSuccess","updateCustomerFail","setCustomerEditing","customer","marginTop","SearchBox","handleChange","autoComplete","label","variant","onChange","validate","values","errors","trim","length","transform","select","renderTextField","input","meta","touched","invalid","custom","placeholder","helperText","formControl","minWidth","children","FormControl","InputLabel","htmlFor","Select","FormHelperText","renderFromHelper","TaskForm","handleSubmitForm","taskActionsCreator","taskEditing","Field","renderSelectField","MenuItem","handleSubmit","submitting","onSubmit","multiline","rowsMax","renderStatusSelection","Button","disabled","initialValues","taskActions","withReduxForm","reduxForm","form","contentTaskboard","modalConfirmTextBold","TaskBoard","handleEditTask","handleDeleteTask","showModalDeleteTask","modalDelete","modalConfirmText","ml","handleFilter","e","target","toastTest","toast","loadData","openForm","handleClose","setState","orders","taskFilter","filter","orderActionsCreator","customerActionsCreator","user","admin","m","renderSearchBox","renderBoard","listTask","listTasks","showModalStatus","orderActions","customerActions","returnErrors","msg","loadUser","getState","axios","get","URL","tokenConfig","then","res","catch","err","response","token","config","headers","logout","loginAction","loginSuccess","loginFail","alert","login","forEach","field","email","test","LoginPage","authActionsCreator","renderLoginFail","msgError","Alert","severity","nextprops","history","push","Typography","authActions","withRouter","signup","SignupPage","varianr","textField","fullWidth","FormControlLabel","control","Checkbox","fullwidth","PageNotFound","listAllFastReports","listAllFastReportsSuccess","listAllFastReportsFail","searchFastReport","searchFastReportSuccess","searchFastReportFail","getIdFastReport","getIdFastReportSuccess","getIdFastReportFail","addFastReport","addFastReportSuccess","addFastReportFail","deleteFastReport","deleteFastReportSuccess","deleteFastReportFail","updateFastReport","updateFastReportSuccess","updateFastReportNote","updateFastReportFail","setFastReportEditing","fastReport","getImage","getImageSuccess","getImageFail","uploadImages","getImagesInDb","uploadImagesSuccess","uploadImagesFail","deleteImage","deleteImageSuccess","deleteImageFail","cleanImageStore","paddingRight","paddingLeft","dataTable","borderTop","borderLeft","borderRight","height","overflowY","borderBottom","getFile","getFileSuccess","getFileFail","uploadFiles","uploadFilesSuccess","uploadFilesFail","deleteFile","deleteFileSuccess","deleteFileFail","cleanFileStore","_d","valueOf","heading","witdth","TextFieldCustomer","picture","showImage","button","DropzoneDialogExample","handleOpen","image","kks","arrayImage","i","compressImage","fileCompress","fileFinal","File","lastModified","Date","now","listFile","files","nameTool","imageActionsCreator","_image","options","maxSizeMB","maxWidthOrHeight","quality","useWebWorker","fileType","imageCompression","compressedFile","dialogTitle","onSave","handleSave","bind","acceptedFiles","showPreviews","maxFileSize","TOOL_MANAGEMENT","FASTREPORT_MANAGEMENT","KKS","imageActions","FastReportForm","fastReportActionsCreator","fastReportEditting","images","location","result","employ","time","newFastReport","imageError","imageSuccess","statusTool","toolId","handleChangeCustomer","event","renderToolImages","overflowX","idImage","data-filename","objectFit","onClickPicture","currentTarget","dataset","filename","anchorEl","cancelSelectImage","renderDetailPicture","isMenuOpen","Boolean","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","handleMenuClose","compareArrays","arr1","arr2","differentElements","includes","renderFastReportFail","notSave","imageInDB","imageDif","showSearch","openSelectCustomer","nameCustomer","userIdSelect","customerActionCreator","DropzoneDialog","fastReports","customers","FastReportActions","fileActionsCreator","fileActions","hideLoading","showSidebar","hideSidebar","popupConfirm","html","ifOk","ifCancel","fnOK","fnCancel","Swal","fire","showCancelButton","confirmButtonText","cancelButtonText","isConfirmed","popupConfirmYesNo","FastReports","renderRedirect","redirect","idRedirect","tool","dataSearch","self","fastReportActionCreator","JSON","parse","stringify","onClickView","onCloseWo","pkt","handleSearch","pagination","selectedUserIds","users","search","skip","limit","rowPerPage","some","group","department","handleChangePage","page","total","handleChangeRowsPerPage","genData","rowPerPageOption","columnsGrid","center","cell","checkUser","checkVip","vip","Visibility","Edit","DeleteForever","selector","sortable","fastReportsTotal","onInput","labelId","inputProps","Input","Array","from","Set","multiple","c","noHeader","keyField","columns","striped","paginationServer","paginationDefaultPage","paginationPerPage","paginationRowsPerPageOptions","paginationTotalRows","onChangePage","onChangeRowsPerPage","fastReportActions","listAllTools","listAllToolsSuccess","listAllToolsFail","searchTools","searchToolsSuccess","searchToolsFail","getIdTool","getIdToolSuccess","getIdToolFail","addTool","addToolSuccess","addToolFail","deleteTool","deleteToolSuccess","deleteToolFail","updateTool","updateToolSuccess","updateToolFail","setToolEditing","containerPanel","flexWrap","transition","gridList","boxActions","maskLoading","fileUpload","cursor","FileInput","handleFileInputChange","selectedFiles","handleFileUpload","React","DocumentCreator","employees","workFastReportInfo","listTool","document","Document","addSection","Paragraph","text","HeadingLevel","HEADING_1","alignment","AlignmentType","CENTER","createContactInfo","createHeading","wo","arr","createInstitutionHeader","createRoleText","CHTT","reduce","prev","curr","concat","createHeaderTableNV","nv","createContentTableNV","createHeaderTable","createContentTableTool","phoneNumber","profileUrl","TextRun","break","HEADING_3","thematicBreak","HEADING_2","institutionName","dateText","tabStops","TabStopType","RIGHT","TabStopPosition","MAX","bold","roleText","italics","bullet","level","skills","skill","join","achivements","achievement","interests","split","startDate","endDate","isCurrent","startDateText","getMonthFromInt","month","year","endDateText","TableCellD","TableRowD","createTableCell","String","stt","quantity","TableD","rows","createTableRowTool","WidthType","AUTO","columnWidths","createTableRowNV","firstCol","secondCol","thirCol","tableHeader","columnSpan","FastReportDetail","generateDox","NV","element","toolName","sortToolName","sort","indexT","elementCurrent","doc","create","Packer","toBlob","blob","saveAs","onClickShowTool","currentIdTool","showRightPanel","urlRedirect","onClickAddTool","onClickGotoList","onClickRemoveDoc","toolActionCreator","newTool","indexTool","findIndex","splice","idFile","onClickReturnTool","onClickAddToolInList","saveFileToData","addFile","onClickVerify","haveToolInList","groupButtonActions","toolComplete","returnToolComplete","countToolId","renderStatusText","classAddTool","original","thumbnail","addandremoveUserNV","onChangeNote","note","isChange","onBlurNote","generateDocs","isAction","selectedImage","onCloseFullScreen","renderFullScreenImage","maxHeight","fileInDB","fastReportAction","href","match","fastReportId","upFileSuccess","ArrowBackIos","InputProps","readOnly","noDataComponent","date","toolActions","OrderForm","orderEditting","workTypeSelected","newOrder","workType","renderOrderFail","setValueWorkType","native","paddingTop","OrderActions","Orders","orderActionCreator","param","workTypeLong","toLowerCase","ordersTotal","workOrderInfo","OrderDetail","onClickRemoveTool","onClickCreateFastReport","img","genarateTools","orderAction","KeyboardReturn","columnsGridComplete","orderId","onBlur","selectedValues","onSelect","onRemove","displayValue","disable","onRowClicked","manufacturer","items","listAllCchtts","listAllCchttsSuccess","listAllCchttsFail","searchCchtt","searchCchttSuccess","searchCchttFail","getIdCchtt","getIdCchttSuccess","getIdCchttFail","addCchtt","addCchttSuccess","addCchttFail","deleteCchtt","deleteCchttSuccess","deleteCchttFail","updateCchtt","updateCchttSuccess","updateCchttNote","updateCchttFail","setCchttEditing","cchtt","CchttForm","cchttActionsCreator","cchttEditting","timeChange","newCchtt","rendercchttFail","PCCHTT","InputLabelProps","shrink","cchtts","cchttActions","Changechtts","cchttActionCreator","pct","CchttsTotal","CchttDetail","cchttAction","cchttId","listAllCgsats","listAllCgsatsSuccess","listAllCgsatsFail","searchCgsat","searchCgsatSuccess","searchCgsatFail","getIdCgsat","getIdCgsatSuccess","getIdCgsatFail","addCgsat","addCgsatSuccess","addCgsatFail","deleteCgsat","deleteCgsatSuccess","deleteCgsatFail","updateCgsat","updateCgsatSuccess","updateCgsatNote","updateCgsatFail","setCgsatEditing","cgsat","CgsatForm","cgsatActionsCreator","cgsatEditting","newCgsat","rendercgsatFail","PCGSAT","cgsats","cgsatActions","Changegsats","cgsatActionCreator","CgsatsTotal","CgsatDetail","cgsatAction","cgsatId","listAllBbdgkts","listAllBbdgktsSuccess","listAllBbdgktsFail","searchBbdgkt","searchBbdgktSuccess","searchBbdgktFail","getIdBbdgkt","getIdBbdgktSuccess","getIdBbdgktFail","addBbdgkt","addBbdgktSuccess","addBbdgktFail","deleteBbdgkt","deleteBbdgktSuccess","deleteBbdgktFail","updateBbdgkt","updateBbdgktSuccess","updateBbdgktNote","updateBbdgktFail","setBbdgktEditing","bbdgkt","BbdgktForm","bbdgktActionsCreator","bbdgktEditting","newBbdgkt","renderbbdgktFail","BBDGKT","bbdgkts","bbdgktActions","Bbdgkts","bbdgktActionCreator","bbdgktsTotal","BbdgktDetail","newbbdgkt","bbdgktAction","bbdgktId","listAllThongkes","listAllThongkesSuccess","listAllThongkesFail","searchThongke","searchThongkeSuccess","searchThongkeFail","getIdThongke","getIdThongkeSuccess","getIdThongkeFail","addThongke","addThongkeSuccess","addThongkeFail","deleteThongke","deleteThongkeSuccess","deleteThongkeFail","updateThongke","updateThongkeSuccess","updateThongkeNote","updateThongkeFail","setThongkeEditing","thongke","ThongKes","thongkeActionCreator","thongkes","ThongKeTotal","thongkesTotal","thongkeActions","listAllBptcs","listAllBptcsSuccess","listAllBptcsFail","searchBptc","searchBptcSuccess","searchBptcFail","getIdBptc","getIdBptcSuccess","getIdBptcFail","addBptc","addBptcSuccess","addBptcFail","deleteBptc","deleteBptcSuccess","deleteBptcFail","updateBptc","updateBptcSuccess","updateBptcNote","updateBptcFail","setBptcEditing","bptc","BptcForm","bptcActionsCreator","bptcEditting","newBptc","renderbptcFail","BPTC","paddingBottom","JSA","bptcs","bptcActions","Bptcs","bptcActionCreator","BptcsTotal","BptcDetail","bptcAction","bptcId","parseInt","ToolForm","toolActionsCreator","toolEditting","statusSelected","saveToolFail","Paper","renderToolImagesNew","setValueStatus","imageSelected","tools","tempImageForTool","imagesInTool","ToolActions","showImageProduct","showImageProduct1","boxImage","largeImage","imgLarge","smallImage","itemSmallImage","imgSmall","showDetail","showTable","widthIcon","widthInput","width100per","border","colorSuccess","boxGridTable","Tools","onClickWorkOrder","lstTool","indexOf","hasTool","unshift","woInfo","window","onClickRow","filenameImageTool","countFile","arrayFile","totalSize","limitSizeImage","preventDefault","becomeLargeImage","handleRowClicked","dataSelected","removeVietnameseTones","str","replace","generateTools","_tools","t","lstIdTool","userName","userInfo","showInfo","woName","searchTerm","allowOverflow","wrap","CustomerForm","customerEditting","phone","newCustomer","password","resetPassword","handleAdmin","checked","handlePkt","isEditPassword","CustomerActions","Customers","perPage","generateCustomers","_customers","permit","API_ENDPOINT","STATUS_CODE","ADMIN_ROUTES","path","exact","onlyAdmin","iconSidebar","SupervisorAccountIcon","isHide","PagesIcon","labelButtonAdd","WorkIcon","isExport","SwapHorizontalCircleIcon","DescriptionIcon","MenuBookIcon","ChromeReaderModeIcon","BuildIcon","FaceIcon","Thongkes","ROUTES","wrapper","wrapperContent","easing","easeIn","dashboard","shiftLeft","grow","flexGrow","menuButton","breakpoints","up","fade","common","white","searchIcon","pointerEvents","inputRoot","inputInput","sectionDesktop","sectionMobile","btnBack","dateRange","getWithToken","endpoint","Object","keys","method","url","Config","postWithToken","deleteWithToken","patchWithToken","body","callApi","getToken","localStorage","getItem","ExportToolForm","range","toJSON","Status","StatusCode","Data","Row","_","flattenDeep","row","lstTypeTool","uniq","tmp","wb","XLSX","utils","book_new","wsAll","aoa_to_sheet","cols","wch","book_append_sheet","writeFile","setDateRange","setOpen","locale","vi","editableDateInputs","selection","moveRangeOnFirstSelection","ranges","Header","handleProfileMenuOpen","handleMyProfile","handleLogout","renderMenu","handleToggleSidebar","onToggleSidebar","FormComponent","onClickGotoUrl","convertArrayOfObjectsToCSV","array","ctr","generateOrder","generateCchtt","generateCgsat","generateBbdgkt","generateBptc","generateFastReport","generateTool","handleExport","dataBind","nameSheet","checkPermissionAdd","showExportToolType","handleExportToolType","isGetToolforOrder","AppBar","Toolbar","IconButton","edge","noWrap","GetApp","aria-controls","aria-haspopup","drawerPaper","textDecoration","menuLinkActive","Sidebar","toggleDrawer","list","List","activeClassName","ListItem","listItem","ListItemIcon","ListItemText","Drawer","anchor","renderList","subheader","appBar","fabButton","Footer","Dashboard","uiActionsCreator","cn","uiActions","AdminLayoutRoute","YourComponent","remainProps","render","routeProps","DefaultLayoutRoute","App","genPath","r","route","ThemeProvider","CssBaseline","renderAdminRoutes","renderDefaultRoutes","hostname","toastError","message","toastSuccess","success","initialState","reducer","action","newList","slice","isLoading","loading","isCreateSuccess","myReducer","Total","thongkeEditting","imagesSaveDB","file","rootReducer","combineReducers","taskReducer","uiReducer","modalReducer","formReducer","pathURL","pathname","_url","setItem","removeItem","loginSaga","loginActionSaga","call","resp","put","takeLatest","getAllOrder","addOrderRequest","deleteOrderRequest","patchOrderRequest","getAllOrderSaga","searchOrderSaga","getIdOrderSaga","addOrderSaga","deleteOrderSaga","updateOrderSaga","orderSaga","_resp","orderEdited","orderSendReducer","getAllFastReport","addFastReportRequest","deleteFastReportRequest","patchFastReportRequest","fastReportEditing","getAllFastReportSaga","searchFastReportSaga","getIdFastReportSaga","addFastReportSaga","deleteFastReportSaga","updateFastReportSaga","fastReportSaga","fastReportEdited","fastReportSendReducer","getAllCchtt","addCchttRequest","deleteCchttRequest","patchCchttRequest","getAllCchttSaga","searchCchttSaga","getIdCchttSaga","addCchttSaga","deleteCchttSaga","updateCchttSaga","cchttSaga","cchttEdited","cchttSendReducer","getAllCgsat","addCgsatRequest","deleteCgsatRequest","patchCgsatRequest","getAllCgsatSaga","searchCgsatSaga","getIdCgsatSaga","addCgsatSaga","deleteCgsatSaga","updateCgsatSaga","cgsatSaga","cgsatEdited","cgsatSendReducer","getAllBbdgkt","addBbdgktRequest","deleteBbdgktRequest","patchBbdgktRequest","getAllBbdgktSaga","searchBbdgktSaga","getIdBbdgktSaga","addBbdgktSaga","deleteBbdgktSaga","updateBbdgktSaga","bbdgktSaga","bbdgktEdited","bbdgktSendReducer","getAllBptc","addBptcRequest","deleteBptcRequest","patchBptcRequest","getAllBptcSaga","searchBptcSaga","getIdBptcSaga","addBptcSaga","deleteBptcSaga","updateBptcSaga","bptcSaga","bptcEdited","bptcSendReducer","getAllThongke","addThongkeRequest","deleteThongkeRequest","patchThongkeRequest","getAllThongkeSaga","searchThongkeSaga","getIdThongkeSaga","addThongkeSaga","deleteThongkeSaga","updateThongkeSaga","thongkeSaga","thongkeEdited","thongkeSendReducer","getAllCustomer","addCustomerRequest","deleteCustomerRequest","patchCustomerRequest","getAllCustomerSaga","addCustomerSaga","deleteCustomerSaga","updateCustomerSaga","customerSaga","customerEdited","customerSendReducer","getAllTool","addToolRequest","deleteToolRequest","patchToolRequest","getAllToolSaga","searchToolsSaga","getIdToolSaga","addToolSaga","deleteToolSaga","updateToolSaga","toolSaga","toolEdited","toolSendReducer","uploadImagesRequest","formData","FormData","append","post","postImagesWithToken","deleteImageRequest","deleteImageWithToken","uploadImagesSaga","deleteImageSaga","imageSaga","uploadFilesRequest","postFilesWithToken","addFileRequest","addFileRequestToBBDGKT","deleteFileRequest","deleteFileWithToken","uploadFilesSaga","deleteFileSaga","fileSaga","dataSend","undefined","arrayFilesFastReport","idFastReport","arrayFilesbbdgkt","idbbdgkt","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","shouldHotReload","sagaMiddleware","createSagaMiddleware","store","middlewares","thunk","enhancers","applyMiddleware","createStore","run","configureStore","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a149aa88.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.c4c1f064.gif\";","const style = () => ({\r\n  box: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  shape: {\r\n    padding: 10,\r\n    margin: 2,\r\n    backgroundColor: 'red',\r\n    borderRadius: 10,\r\n    color: 'yellow',\r\n  },\r\n});\r\nexport default style;\r\n","import { createMuiTheme } from '@material-ui/core';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#3949ab',\r\n    },\r\n    secondary: {\r\n      main: '#f44336',\r\n    },\r\n  },\r\n  color: {\r\n    primary: 'blue',\r\n    secondary: '#00BCD4',\r\n    error: '#E64A19',\r\n    textColor: '#FFFFFF',\r\n    menuLink: 'black',\r\n    //defaultTextColor: '#3949ab',\r\n    defaultTextColor: '#3949ab',\r\n  },\r\n  typography: {\r\n    fontFamily: 'Roboto',\r\n  },\r\n  shape: {\r\n    borderRadius: 4,\r\n    backgroudColor: 'blue',\r\n    color: 'white',\r\n  },\r\n\r\n  transitions: {\r\n    duration: {\r\n      shortest: 1000,\r\n      shorter: 1000,\r\n      short: 1000,\r\n      standard: 100,\r\n      complex: 1000,\r\n      enteringScreen: 1000,\r\n      leavingScreen: 1000\r\n    }\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","const styles = () => ({\r\n  globalLoading: {\r\n    position: 'fixed',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    zIndex: 99,\r\n    background: 'rgba(0,0,0,0.5)',\r\n  },\r\n  icon: {\r\n    position: 'fixed',\r\n    left: 0,\r\n    right: 0,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    top: '30%',\r\n    width: 200,\r\n  },\r\n});\r\n\r\nexport default styles;\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core';\r\nimport styles from './style';\r\nimport loadingIcon from '../../assets/images/loading.gif';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nclass GlobalLoading extends Component {\r\n  render() {\r\n    const { classes, showLoading } = this.props;\r\n    let xhtml = null;\r\n    if (showLoading) {\r\n      xhtml = (\r\n        <div className={classes.globalLoading}>\r\n          <img src={loadingIcon} alt=\"loading\" className={classes.icon} />\r\n          Dang loading.....\r\n        </div>\r\n      );\r\n    }\r\n    return xhtml;\r\n  }\r\n}\r\nGlobalLoading.propTypes = {\r\n  classes: PropTypes.object,\r\n  showLoadingL: PropTypes.bool,\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    // dispatch1: () => {\r\n    //   dispatch(actionCreator);\r\n    // },\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    showLoading: state.ui.showLoading,\r\n  };\r\n};\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(withStyles(styles), withConnect)(GlobalLoading);\r\n","const styles = (theme) => ({\r\n    modal: {     \r\n      backgroundColor: theme.palette.background.paper,\r\n      boxShadow: theme.shadows[5],\r\n      position: \"absolute\",\r\n      zIndex: -2,\r\n      '&.export-tool-type .MuiDialog-paperWidthSm': {\r\n        maxWidth: \"750px\"\r\n      }\r\n    },\r\n    TextField: {\r\n      width: '100%',\r\n    },\r\n    header: {\r\n      backgroundColor: theme.color.primary,\r\n      color: theme.color.textColor,\r\n      padding: theme.spacing(2),\r\n    },\r\n    title: {\r\n      color: theme.color.textColor,\r\n      fontWeight: 700,\r\n      textTransform: 'capitalize',\r\n      fontFamily: 'Roboto'\r\n    },\r\n    content: {\r\n      padding: theme.spacing(2),\r\n    },\r\n  });\r\n  \r\n  export default styles;\r\n  ","import * as modalTypes from './../constants/modal';\r\nexport const showModal = () => ({\r\n  type: modalTypes.SHOW_MODAL,\r\n});\r\nexport const hideModal = () => ({\r\n  type: modalTypes.HIDE_MODAL\r\n});\r\nexport const hideTempModal = () => ({\r\n  type: modalTypes.HIDE_TEMP_MODAL,\r\n});\r\nexport const changeModalTitle = (title) => ({\r\n  type: modalTypes.CHANGE_MODAL_TITLE,\r\n  payload: {\r\n    title,\r\n  },\r\n});\r\nexport const changeModalContent = (component) => ({\r\n  type: modalTypes.CHANGE_MODAL_CONTENT,\r\n  payload: {\r\n    component,\r\n  },\r\n});\r\n","export const SHOW_MODAL = 'SHOW_MODAL';\r\nexport const HIDE_MODAL = 'HIDE_MODAL';\r\nexport const HIDE_TEMP_MODAL = 'HIDE_TEMP_MODAL';\r\nexport const CHANGE_MODAL_CONTENT = 'CHANGE_MODAL_CONTENT';\r\nexport const CHANGE_MODAL_TITLE = 'CHANGE_MODAL_TITLE';\r\n","import React, { Component } from 'react';\r\nimport { withStyles, Modal, Grid, Dialog, DialogContent, Typography, IconButton, } from '@material-ui/core';\r\nimport MuiDialogTitle from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/Dialog';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './styles';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\n\r\nclass ModalMain extends Component {\r\n\r\n  onClose = () => {\r\n    console.log('close')\r\n  }\r\n\r\n\r\n  render() {\r\n    const {\r\n      open,\r\n      onClose,\r\n      classes,\r\n      component,\r\n      modalActionsCreator,\r\n      title,\r\n    } = this.props;\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      // <Modal open={open} onClose={onClose}>\r\n      <Dialog className={classes.modal + (title === \"Export Tool Type\" ? \" export-tool-type\" : \"\")} aria-labelledby=\"form-dialog-title\" open={open} onClose={onClose} md={12}>\r\n        <div className={classes.header}>\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"space-between\"\r\n            alignItems=\"center\">\r\n            <span className={classes.title}>{title}</span>\r\n            <CloseIcon className={classes.icon} onClick={hideModal} />\r\n          </Grid>          \r\n        </div>\r\n        <DialogContent>\r\n          {component}\r\n        </DialogContent>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nModalMain.propTypes = {\r\n  classes: PropTypes.object,\r\n  open: PropTypes.bool,\r\n  onClose: PropTypes.func,\r\n  component: PropTypes.object,\r\n  modalActionsCreator: PropTypes.shape({\r\n    hideModal: PropTypes.func,\r\n  }),\r\n  title: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    open: state.modal.showModal,\r\n    component: state.modal.component,\r\n    title: state.modal.title,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default compose(withStyles(styles), withConnect)(ModalMain);\r\n","const style = (theme) => ({\r\n background:{\r\n   backgroundColor: theme.palette.primary.main,\r\n   padding:40,\r\n   display: 'flex',\r\n   flexDirection: 'column',\r\n   alignItems: 'center',\r\n   justifyContent:'center',\r\n   minHeight: '100vh',\r\n   textAlign: 'center',\r\n   flex: '1 0 auto',\r\n }\r\n});\r\nexport default style;\r\n","import React, { Component } from 'react';\r\nimport { withStyles,  } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport { compose, } from 'redux';\r\nimport styles from './style';\r\nimport { Redirect } from \"react-router-dom\";\r\nclass AdminHomePage extends Component {\r\n    renderAuthenticates = () => {\r\n        const { isAuthenticated } = this.props;\r\n        let xhtml = null;\r\n        if (isAuthenticated) {\r\n            xhtml = <div>is au then ti cated</div>;\r\n        }\r\n        return xhtml;\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Redirect to=\"/admin/order\" />\r\n                <h1>AdminHomePage</h1>\r\n                {this.renderAuthenticates()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n\r\n    };\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        isAuthenticated: state.auth.isAuthenticated,\r\n    };\r\n};\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withConnect,\r\n)(AdminHomePage);","const styles = () => ({\r\n  cardActions: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  card: {\r\n    marginBottom: \"20px\"\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import React, { Component } from 'react';\r\nimport {\r\n  withStyles,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Typography,\r\n  Fab,\r\n  Icon,\r\n} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './styles';\r\nimport moment from 'moment'\r\n\r\nclass TaskItem extends Component {\r\n  render() {\r\n    const { classes, tasks, status, onClickEdit, onClickDelete } = this.props;\r\n    const { _id, WO, PCT, timeStart, timeStop, userId } = tasks;\r\n    return (\r\n      <Card key={_id} className={classes.card}>\r\n        <CardContent >\r\n          <Grid container justify=\"space-between\">\r\n            <Grid item md={12}>\r\n              Work Order: {WO}\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              PCT: {PCT}\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              Người dùng: {userId ? userId.name : ''}\r\n            </Grid>\r\n          </Grid>\r\n          <p>{ `${moment(timeStart).format('DD/MM/YYYY')} - ${moment(timeStart).format('DD/MM/YYYY')}`}</p>\r\n        </CardContent>\r\n        <CardActions className={classes.cardActions}>\r\n          <Fab\r\n            color=\"primary\"\r\n            aria-label=\"Edit\"\r\n            className={classes.fab}\r\n            size=\"small\"\r\n            onClick={onClickEdit}\r\n          >\r\n            <Icon fontSize=\"small\">visibility_icon</Icon>\r\n          </Fab>\r\n          {/* <Fab\r\n            color=\"secondary\"\r\n            aria-label=\"Delete\"\r\n            className={classes.fab}\r\n            size=\"small\"\r\n            onClick={onClickDelete}\r\n          >\r\n            <Icon fontSize=\"small\">delete_icon</Icon>\r\n          </Fab> */}\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\nTaskItem.propTypes = {\r\n  classes: PropTypes.object,\r\n  tasks: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(TaskItem);\r\n","import React, { Component } from 'react';\r\nimport { withStyles, Grid, Box } from '@material-ui/core';\r\nimport propTypes from 'prop-types';\r\nimport styles from './styles';\r\nimport TaskItem from '../TaskItems';\r\n\r\nclass TaskList extends Component {\r\n  render() {\r\n    const { classes, tasks, status, onClickEdit, onClickDelete } = this.props;\r\n    return (\r\n      <Grid item md={4} xs={12} key={status.value}>\r\n        <Box mt={1} mb={1}>\r\n          <div className={classes.status}>{status}</div>\r\n        </Box>\r\n        <div className={classes.wrapperListTask}>\r\n          {tasks.map((task, index) => (\r\n            <TaskItem\r\n              key={index}\r\n              tasks={task}\r\n              status={status}\r\n              onClickEdit={() => onClickEdit(task)}\r\n              onClickDelete={() => {\r\n                onClickDelete(task);\r\n              }}\r\n            />\r\n          ))}\r\n        </div>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nTaskList.propTypes = {\r\n  classes: propTypes.object,\r\n  tasks: propTypes.array,\r\n  onClickEdit: propTypes.func,\r\n  onClickDelete: propTypes.func,\r\n};\r\nexport default withStyles(styles)(TaskList);\r\n","import * as taskContants from '../constants/task';\r\nimport {STATUSES}  from '../constants/index';\r\n\r\nexport const fetchListTask = (params = {}) => {\r\n  return {\r\n    type: taskContants.FETCH_TASK,\r\n    payload: {params,}\r\n  };\r\n};\r\n\r\nexport const fetchListTaskSuccess = (data) => {\r\n  return {\r\n    type: taskContants.FETCH_TASK_SUCCESS,\r\n    payload: { data },\r\n  };\r\n};\r\n\r\nexport const fetchListTaskFail = (error) => {\r\n  return {\r\n    type: taskContants.FETCH_TASK_FAIL,\r\n    payload: { error },\r\n  };\r\n};\r\nexport const addListTask = (title, description) => {\r\n  return {\r\n    type: taskContants.ADD_TASK,\r\n    payload: {\r\n      title,\r\n      description,\r\n    },\r\n  };\r\n};\r\n\r\nexport const addListTaskSuccess = (data) => {\r\n  return {\r\n    type: taskContants.ADD_TASK_SUCCESS,\r\n    payload: { data },\r\n  };\r\n};\r\n\r\nexport const addListTaskFail = (error) => {\r\n  return {\r\n    type: taskContants.ADD_TASK_FAIL,\r\n    payload: { error },\r\n  };\r\n};\r\n\r\n\r\nexport const updateTask = (title, description, status = STATUSES[0].value) => {\r\n  return {\r\n    type: taskContants.UPDATE_TASK,\r\n    payload: {\r\n      title,\r\n      description,\r\n      status\r\n    },\r\n  };\r\n};\r\n\r\nexport const updateTaskSuccess = (data) => {\r\n  return {\r\n    type: taskContants.UPDATE_TASK_SUCCESS,\r\n    payload: { data },\r\n  };\r\n};\r\n\r\nexport const updateTaskFail = (error) => {\r\n  return {\r\n    type: taskContants.UPDATE_TASK_FAIL,\r\n    payload: { error },\r\n  };\r\n};\r\nexport const deleteTask = (id) => {\r\n  return {\r\n    type: taskContants.DELETE_TASK,\r\n    payload: {\r\n      id,\r\n    },\r\n  };\r\n};\r\n\r\nexport const deleteTaskSuccess = (id) => {\r\n  return {\r\n    type: taskContants.DELETE_TASK_SUCCESS,\r\n    payload: { id },\r\n  };\r\n};\r\n\r\nexport const deleteTaskFail = (error) => {\r\n  return {\r\n    type: taskContants.DELETE_TASK_FAIL,\r\n    payload: { error },\r\n  };\r\n};\r\n\r\nexport const filterTask = (keyword) => ({\r\n  type: taskContants.FILTER_TASK,\r\n  payload: {\r\n    keyword,\r\n  },\r\n});\r\n\r\nexport const filterTaskSuccess = (data) => ({\r\n  type: taskContants.FILTER_TASK_SUCCESS,\r\n  payload: {\r\n    data,\r\n  },\r\n});\r\nexport const setTaskEditing = (task) => ({\r\n  type: taskContants.SET_TASK_EDITING,\r\n  payload: {\r\n    task,\r\n  },\r\n});\r\n","export const FETCH_TASK = 'FETCH_TASK';\r\nexport const FETCH_TASK_SUCCESS = 'FETCH_TASK_SUCCESS';\r\nexport const FETCH_TASK_FAIL = 'FETCH_TASK_FAIL';\r\nexport const FILTER_TASK = 'FILTER_TASK';\r\nexport const FILTER_TASK_SUCCESS = 'FILTER_TASK_SUCCESS';\r\n\r\nexport const ADD_TASK = 'ADD_TASK';\r\nexport const ADD_TASK_SUCCESS = 'ADD_TASK_SUCCESS';\r\nexport const ADD_TASK_FAIL = 'ADD_TASK_FAIL';\r\n\r\nexport const UPDATE_TASK = 'UPDATE_TASK';\r\nexport const UPDATE_TASK_SUCCESS = 'UPDATE_TASK_SUCCESS';\r\nexport const UPDATE_TASK_FAIL = 'UPDATE_TASK_FAIL';\r\n\r\nexport const DELETE_TASK = 'DELETE_TASK';\r\nexport const DELETE_TASK_SUCCESS = 'DELETE_TASK_SUCCESS';\r\nexport const DELETE_TASK_FAIL = 'DELETE_TASK_FAIL';\r\n\r\nexport const SET_TASK_EDITING = 'SET_TASK_EDITING';\r\n","import * as orderConstants from '../constants/order';\r\n\r\nexport const listAllOrders = (params = {}) => {\r\n  return {\r\n    type: orderConstants.GET_ALL_ORDERS,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const listAllOrdersSuccess = (data) => {\r\n  return {\r\n    type: orderConstants.GET_ALL_ORDERS_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const listAllOrdersFail = (error) => {\r\n  return {\r\n    type: orderConstants.GET_ALL_ORDERS_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const searchOrder = (params = {}) => {\r\n  return {\r\n    type: orderConstants.SEARCH_ORDER,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const searchOrderSuccess = (data, params) => {\r\n  return {\r\n    type: orderConstants.SEARCH_ORDER_SUCCESS,\r\n    payload: { data, params }\r\n  }\r\n}\r\nexport const searchOrderFail = (error) => {\r\n  return {\r\n    type: orderConstants.SEARCH_ORDER_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const getIdOrder = (payload) => {\r\n  return {\r\n    type: orderConstants.GET_ID_ORDER,\r\n    payload\r\n  }\r\n}\r\nexport const getIdOrderSuccess = (payload) => {\r\n  return {\r\n    type: orderConstants.GET_ID_ORDER_SUCCESS,\r\n    payload\r\n  }\r\n}\r\nexport const getIdOrderFail = (payload) => {\r\n  return {\r\n    type: orderConstants.GET_ID_ORDER_FAIL,\r\n    payload\r\n  }\r\n}\r\nexport const addOrder = (payload) => {\r\n  return {\r\n    type: orderConstants.ADD_ORDER,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addOrderSuccess = (payload) => {\r\n  return {\r\n    type: orderConstants.ADD_ORDER_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addOrderFail = (payload) => {\r\n  return {\r\n    type: orderConstants.ADD_ORDER_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteOrder = (payload, params) => {\r\n  return {\r\n    type: orderConstants.DELETE_ORDER,\r\n    payload: {\r\n      ...payload,\r\n      params\r\n    },\r\n  };\r\n};\r\n\r\nexport const deleteOrderSuccess = (payload) => {\r\n  return {\r\n    type: orderConstants.DELETE_ORDER_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteOrderFail = (payload) => {\r\n  return {\r\n    type: orderConstants.DELETE_ORDER_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateOrder = (payload) => {\r\n  return {\r\n    type: orderConstants.UPDATE_ORDER,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateOrderSuccess = (payload) => {\r\n  return {\r\n    type: orderConstants.UPDATE_ORDER_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateOrderNote = (payload) => {\r\n  return {\r\n    type: orderConstants.UPDATE_ORDER_NOTE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateOrderFail = (payload) => {\r\n  return {\r\n    type: orderConstants.UPDATE_ORDER_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\n\r\nexport const setOrderEditing = (order) => ({\r\n  type: orderConstants.SET_ORDER_EDITING,\r\n  payload: {\r\n    order,\r\n  },\r\n});","export const GET_ALL_ORDERS = 'GET_ALL_ORDERS';\r\nexport const GET_ALL_ORDERS_SUCCESS = 'GET_ALL_ORDERS_SUCCESS';\r\nexport const GET_ALL_ORDERS_FAIL = 'GET_ALL_ORDERS_FAIL';\r\n\r\nexport const SEARCH_ORDER = 'SEARCH_ORDER';\r\nexport const SEARCH_ORDER_SUCCESS = 'SEARCH_ORDER_SUCCESS';\r\nexport const SEARCH_ORDER_FAIL = 'SEARCH_ORDER_FAIL';\r\n\r\nexport const GET_ID_ORDER = 'GET_ID_ORDER';\r\nexport const GET_ID_ORDER_SUCCESS = 'GET_ID_ORDER_SUCCESS';\r\nexport const GET_ID_ORDER_FAIL = 'GET_ID_ORDER_FAIL';\r\n\r\n\r\nexport const ADD_ORDER = 'ADD_ORDER';\r\nexport const ADD_ORDER_SUCCESS = 'ADD_ORDER_SUCCESS';\r\nexport const ADD_ORDER_FAIL = 'ADD_ORDER_FAIL';\r\n\r\nexport const DELETE_ORDER = 'DELETE_ORDER';\r\nexport const DELETE_ORDER_SUCCESS = 'DELETE_ORDER_SUCCESS';\r\nexport const DELETE_ORDER_FAIL = 'DELETE_ORDER_FAIL';\r\n\r\nexport const UPDATE_ORDER = 'UPDATE_ORDER';\r\nexport const UPDATE_ORDER_SUCCESS = 'UPDATE_ORDER_SUCCESS';\r\nexport const UPDATE_ORDER_NOTE = 'UPDATE_ORDER_NOTE';\r\nexport const UPDATE_ORDER_FAIL = 'UPDATE_ORDER_FAIL';\r\nexport const SET_ORDER_EDITING ='SET_ORDER_EDITING';","import * as customerConstants from '../constants/customer';\r\n\r\nexport const listAllCustomers = (params = {}) => {\r\n  return {\r\n    type: customerConstants.GET_ALL_CUSTOMERS,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const listAllCustomersSuccess = (data) => {\r\n  return {\r\n    type: customerConstants.GET_ALL_CUSTOMERS_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const listAllCustomersFail = (error) => {\r\n  return {\r\n    type: customerConstants.GET_ALL_CUSTOMERS_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const addCustomer = (payload) => {\r\n  return {\r\n    type: customerConstants.ADD_CUSTOMER,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addCustomerSuccess = (payload) => {\r\n  return {\r\n    type: customerConstants.ADD_CUSTOMER_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addCustomerFail = (payload) => {\r\n  return {\r\n    type: customerConstants.ADD_CUSTOMER_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteCustomer = (payload) => {\r\n  return {\r\n    type: customerConstants.DELETE_CUSTOMER,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteCustomerSuccess = (payload) => {\r\n  return {\r\n    type: customerConstants.DELETE_CUSTOMER_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteCustomerFail = (payload) => {\r\n  return {\r\n    type: customerConstants.DELETE_CUSTOMER_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCustomer = (payload) => {\r\n  return {\r\n    type: customerConstants.UPDATE_CUSTOMER,\r\n    payload,\r\n  };\r\n};\r\nexport const updateCustomerSuccess = (payload) => {\r\n  return {\r\n    type: customerConstants.UPDATE_CUSTOMER_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCustomerFail = (payload) => {\r\n  return {\r\n    type: customerConstants.UPDATE_CUSTOMER_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const setCustomerEditing = (customer) => ({\r\n  type: customerConstants.SET_CUSTOMER_EDITING,\r\n  payload: {\r\n    customer,\r\n  },\r\n});","export const GET_ALL_CUSTOMERS = 'GET_ALL_CUSTOMERS';\r\nexport const GET_ALL_CUSTOMERS_SUCCESS = 'GET_ALL_CUSTOMERS_SUCCESS';\r\nexport const GET_ALL_CUSTOMERS_FAIL = 'GET_ALL_CUSTOMERS_FAIL';\r\n\r\n\r\nexport const ADD_CUSTOMER = 'ADD_CUSTOMER';\r\nexport const ADD_CUSTOMER_SUCCESS = 'ADD_CUSTOMER_SUCCESS';\r\nexport const ADD_CUSTOMER_FAIL = 'ADD_CUSTOMER_FAIL';\r\n\r\nexport const DELETE_CUSTOMER = 'DELETE_CUSTOMER';\r\nexport const DELETE_CUSTOMER_SUCCESS = 'DELETE_CUSTOMER_SUCCESS';\r\nexport const DELETE_CUSTOMER_FAIL = 'DELETE_CUSTOMER_FAIL';\r\n\r\nexport const UPDATE_CUSTOMER = 'UPDATE_CUSTOMER';\r\nexport const UPDATE_CUSTOMER_SUCCESS = 'UPDATE_CUSTOMER_SUCCESS';\r\nexport const UPDATE_CUSTOMER_FAIL = 'UPDATE_CUSTOMER_FAIL';\r\nexport const SET_CUSTOMER_EDITING ='SET_CUSTOMER_EDITING';","const styles = () => ({\r\n    container: {\r\n      marginTop:20\r\n    },\r\n   \r\n  });\r\n  \r\n  export default styles;\r\n  ","import React, { Component } from 'react';\r\nimport { withStyles, TextField } from '@material-ui/core';\r\nimport styles from './styles';\r\nimport PropTypes from 'prop-types';\r\nclass SearchBox extends Component {\r\n  render() {\r\n    const { classes, handleChange } = this.props;\r\n    return (\r\n      <form className={classes.container}>\r\n        <TextField\r\n          autoComplete=\"off\"\r\n          id=\"outlined-search\"\r\n          label=\"Tìm kiếm từ khóa...\"\r\n          type=\"search\"\r\n          variant=\"outlined\"\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\nSearchBox.propTypes = {\r\n  classes: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(SearchBox);\r\n","const validate = (values) => {\r\n  const errors = {};\r\n  const { title } = values;\r\n  if (!title) {\r\n    errors.title = 'Vui long nhap tieu de';\r\n  } else if (title.trim() !== null && title.length < 5) {\r\n    errors.title = 'Toi thieu 5 ky tu';\r\n  }\r\n  return errors;\r\n};\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n  modal: {\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    position: 'absolute',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n  TextField: {\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.color.primary,\r\n    color: theme.color.textColor,\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color: theme.color.textColor,\r\n    fontWeight: 700,\r\n    textTransform: 'capitalize',\r\n    fontFamily: 'Roboto'\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import React from 'react';\r\nimport { TextField} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst renderTextField = ({\r\n  label,\r\n  input,\r\n  meta: { touched, invalid, error },\r\n  ...custom\r\n}) => (\r\n  <TextField\r\n    label={label}\r\n    placeholder={label}\r\n    error={touched && invalid}\r\n    helperText={touched && error}\r\n    {...input}\r\n    {...custom}\r\n  />\r\n);\r\n\r\n\r\nrenderTextField.propTypes = {\r\n  label: PropTypes.string,\r\n  input: PropTypes.object,\r\n  meta: PropTypes.object,\r\n};\r\n\r\n\r\n\r\n\r\nexport default renderTextField;\r\n","const styles = (theme) => ({\r\n    formControl: {\r\n        //margin: theme.spacing(2),\r\n        minWidth: 120,\r\n      },\r\n});\r\n\r\nexport default styles;\r\n","import React from 'react';\r\nimport {\r\n  Select,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  withStyles,\r\n} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './styles';\r\n\r\nconst renderFromHelper = ({ touched, error }) => {\r\n  if (!(touched && error)) {\r\n    return null;\r\n  } else {\r\n    return <FormHelperText>{touched && error}</FormHelperText>;\r\n  }\r\n};\r\nconst renderSelectField = ({\r\n  classes,\r\n  input,\r\n  label,\r\n  meta: { touched, error },\r\n  children,\r\n  ...custom\r\n}) => (\r\n  <FormControl\r\n    className={classes.formControl}\r\n    error={touched && error}>\r\n    <InputLabel htmlFor=\"age-native-simple\">{label}</InputLabel>\r\n    <Select\r\n      {...input}\r\n      {...custom}\r\n    // inputProps={{\r\n    //   name: 'age',\r\n    //   id: 'age-native-simple',\r\n    // }}\r\n    //value={input.value} //lấy từ Initial của redux-form\r\n    >\r\n      {children}\r\n    </Select>\r\n    {renderFromHelper({ touched, error })}\r\n  </FormControl>\r\n);\r\n\r\nrenderSelectField.propTypes = {\r\n  label: PropTypes.string,\r\n  input: PropTypes.object,\r\n  meta: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(renderSelectField);\r\n","import React, { Component } from 'react';\r\nimport { withStyles, Grid, Button, MenuItem } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as taskActions from '../../actions/task';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\nimport renderSelectField from '../../components/FormHelper/Select';\r\n\r\nclass TaskForm extends Component {\r\n  handleSubmitForm = (data) => {\r\n    const { taskActionsCreator, taskEditing } = this.props;\r\n    const { addListTask, updateTask } = taskActionsCreator;\r\n    const { title, description, status } = data;\r\n\r\n    if (taskEditing && taskEditing.id) {\r\n      updateTask(title, description, status);\r\n    } else {\r\n      addListTask(title, description);\r\n    }\r\n  };\r\n  renderStatusSelection() {\r\n    const { taskEditing, classes } = this.props;\r\n    let xhtml;\r\n    if (taskEditing) {\r\n      xhtml = (\r\n        <Field\r\n          id=\"status\"\r\n          name=\"status\"\r\n          label=\"Trạng thái\"\r\n          className={classes.select}\r\n          component={renderSelectField}\r\n        >\r\n          <MenuItem value={0}>Ready</MenuItem>\r\n          <MenuItem value={1}>In Progress</MenuItem>\r\n          <MenuItem value={2}>Complete</MenuItem>\r\n        </Field>\r\n      );\r\n    }\r\n    return xhtml;\r\n  }\r\n  render() {\r\n    const {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n    } = this.props;\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n        <Grid container>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"name\"\r\n              name=\"name\"\r\n              label=\"Tên Công Cụ\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"manufacturer\"\r\n              label=\"Hãng sản xuất\"\r\n              multiline\r\n              rowsMax={4}\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              name=\"description\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {this.renderStatusSelection()}\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-end\"\r\n            alignItems=\"flex-end\"\r\n          >\r\n            <Button onClick={hideModal}>Hủy</Button>\r\n            <Button disabled={invalid || submitting} type=\"submit\">\r\n              Lưu\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nTaskForm.propTypes = {\r\n  classes: PropTypes.object,\r\n  open: PropTypes.bool,\r\n  onClose: PropTypes.func,\r\n  component: PropTypes.object,\r\n  modalActionsCreator: PropTypes.shape({\r\n    hideModal: PropTypes.func,\r\n  }),\r\n  taskActionsCreator: PropTypes.shape({\r\n    addListTask: PropTypes.func,\r\n    taskEditing: PropTypes.object,\r\n  }),\r\n  title: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    taskEditing: state.task.taskEditing,\r\n    initialValues: {\r\n      title: state.task.taskEditing ? state.task.taskEditing.title : null,\r\n      description: state.task.taskEditing\r\n        ? state.task.taskEditing.description\r\n        : null,\r\n      status: state.task.taskEditing ? state.task.taskEditing.status : null,\r\n    },\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    taskActionsCreator: bindActionCreators(taskActions, dispatch),\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'TASK_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm\r\n)(TaskForm);\r\n","const style = (theme) => ({\r\n  contentTaskboard: {\r\n    marginTop: '65px'\r\n  },\r\n  box: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  shape: {\r\n    padding: 10,\r\n    margin: 2,\r\n    backgroundColor: theme.color.primary,\r\n    borderRadius: 10,\r\n    color: 'yellow',\r\n  },\r\n  modalConfirmTextBold: {\r\n    fontWeight: 700,\r\n  },\r\n});\r\nexport default style;\r\n","import React, { Component } from 'react';\r\nimport { withStyles, Button, Grid, Box } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { STATUSES } from '../../constants';\r\nimport TaskList from '../../components/Tasks/TaskList';\r\nimport * as taskActions from '../../actions/task';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as orderActions from '../../actions/orderActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport propTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport SearchBox from '../../components/SearchBox';\r\nimport TaskForm from '../TaskForm';\r\nimport styles from './style';\r\n\r\nclass TaskBoard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    };\r\n  }\r\n  handleEditTask = (task) => {\r\n    const { modalActionsCreator, taskActionsCreator } = this.props;\r\n    const { setTaskEditing } = taskActionsCreator;\r\n    setTaskEditing(task);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sua cong viec');\r\n    changeModalContent(<TaskForm />);\r\n  };\r\n  handleDeleteTask = (task) => {\r\n    console.log(task);\r\n    const { taskActionsCreator } = this.props;\r\n    const { deleteTask } = taskActionsCreator;\r\n    deleteTask(task.id);\r\n  };\r\n  showModalDeleteTask = (task) => {\r\n    const { modalActionsCreator, classes } = this.props;\r\n    const {\r\n      showModal,\r\n      hideModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Xoa cong viec');\r\n    changeModalContent(\r\n      <div className={classes.modalDelete}>\r\n        <div className={classes.modalConfirmText}>\r\n          Ban co muon xoa{' '}\r\n          <span className={classes.modalConfirmTextBold}>{task.title}</span> ?\r\n        </div>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justify=\"flex-end\"\r\n          alignItems=\"flex-end\"\r\n        >\r\n          <Box ml={1}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              style={{ marginRight: '20px' }}\r\n              onClick={() => this.handleDeleteTask(task)}\r\n            >\r\n              Dong y\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"default\"\r\n              style={{ marginRight: '20px' }}\r\n              onClick={hideModal}\r\n            >\r\n              Huy bo\r\n            </Button>\r\n          </Box>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  };\r\n  renderBoard() {\r\n    var { orders } = this.props;\r\n    if (typeof orders !== 'undefined') {\r\n      let xhtml = null;\r\n      xhtml = (\r\n        <Grid container spacing={2}>\r\n          {STATUSES.map((status, index) => {\r\n            const taskFilter = orders.filter(\r\n              (order) => order.status === status.label\r\n            );\r\n            return (\r\n              <TaskList\r\n                key={index}\r\n                tasks={taskFilter}\r\n                status={status.label}\r\n                onClickEdit={this.handleEditTask}\r\n                onClickDelete={this.showModalDeleteTask}\r\n              />\r\n            );\r\n          })}\r\n        </Grid>\r\n      );\r\n      return xhtml;\r\n    }\r\n  }\r\n\r\n  handleFilter = (e) => {\r\n    const { taskActionsCreator } = this.props;\r\n    const { filterTask } = taskActionsCreator;\r\n    const value = e.target.value;\r\n    filterTask(value);\r\n  };\r\n  renderSearchBox() {\r\n    let xhtml = null;\r\n    xhtml = <SearchBox handleChange={this.handleFilter} />;\r\n    return xhtml;\r\n  }\r\n  toastTest = () => {\r\n    toast('wow easy');\r\n  };\r\n  loadData = () => {\r\n    const { taskActionsCreator } = this.props;\r\n    const { fetchListTask } = taskActionsCreator;\r\n    fetchListTask();\r\n  };\r\n\r\n  openForm = () => {\r\n    const { modalActionsCreator, taskActionsCreator } = this.props;\r\n    const { setTaskEditing } = taskActionsCreator;\r\n    setTaskEditing(null);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;                                             \r\n    showModal();\r\n    changeModalTitle('Thêm mới công việc');\r\n    changeModalContent(<TaskForm />);\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    const { taskActionsCreator, orderActionsCreator, customerActionsCreator } = this.props;\r\n    const { listAllOrders } = orderActionsCreator;\r\n    const { listAllCustomers } = customerActionsCreator;\r\n    const { fetchListTask } = taskActionsCreator;\r\n    listAllOrders();\r\n    listAllCustomers();\r\n    fetchListTask();\r\n  }\r\n  render() {\r\n    const { classes, user } = this.props;\r\n    return (\r\n      user && user.admin ?\r\n        <Box m={2} className={classes.contentTaskboard}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            style={{ marginRight: '20px' }}\r\n            onClick={this.loadData}\r\n          >\r\n            <AddIcon />\r\n            Load data\r\n          </Button>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={this.openForm}>\r\n            <AddIcon />\r\n            Thêm mới công việc\r\n          </Button>\r\n          {this.renderSearchBox()}\r\n          {this.renderBoard()}\r\n        </Box>\r\n      : <></>\r\n    );\r\n  }\r\n}\r\n\r\nTaskBoard.propTypes = {\r\n  listTask: propTypes.array,\r\n  modalActionsCreator: propTypes.shape({\r\n    showModal: propTypes.func,\r\n    hideModal: propTypes.func,\r\n  }),\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    taskActionsCreator: bindActionCreators(taskActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    orderActionsCreator: bindActionCreators(orderActions, dispatch),\r\n    customerActionsCreator: bindActionCreators(customerActions, dispatch),\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    listTask: state.task.listTasks,\r\n    showModalStatus: state.modal.showModal,\r\n    orders: state.orders.orders,\r\n    user: state.auth.user\r\n  };\r\n};\r\n\r\nexport default withStyles(styles)(\r\n  connect(mapStateToProps, mapDispatchToProps)(TaskBoard)\r\n);\r\n","import { GET_ERRORS, CLEAR_ERRORS } from '../constants/ActionTypes'\r\n\r\n//return errors\r\nexport const returnErrors = (msg, status, id = null) => {\r\n    return {\r\n        type: GET_ERRORS,\r\n        payload: { msg, status, id }\r\n    }\r\n}\r\n\r\nexport const clearErrors = () => {\r\n    return {\r\n        type: CLEAR_ERRORS\r\n    }\r\n}","export const LIST_ALL_ORDER = \"LIST_ALL_ORDER\";\r\nexport const ADD_ORDER = \"ADD_ORDER\";\r\nexport const DELETE_ORDER = \"DELETE_ORDER\";\r\n\r\nexport const ORDERS_LOADING = \"ORDERS_LOADING\";\r\nexport const ADD_ORDER_ERRORS = 'ADD_ORDER_ERRORS';\r\nexport const LISTALL_ORDER_ERRORS = 'LISTALL_ORDER_ERRORS';\r\nexport const CLEAR_ORDER_ERRORS = 'CLEAR_ORDER_ERRORS';\r\nexport const ADD_ORDER_FAIL = 'ADD_ORDER_FAIL';\r\nexport const CLEAR_ACTION ='CLEAR_ACTION';\r\nexport const SEARCH_ORDER = 'SEARCH_ORDER';\r\nexport const UPDATE_ORDER = 'UPDATE_ORDER';\r\nexport const GET_ORDER_EDIT = 'GET_ORDER_EDIT';\r\nexport const UPDATE_ORDER_ERRORS = 'UPDATE_ORDER_ERRORS';\r\n\r\nexport const GET_ALL_PRODUCT = 'GET_ALL_PRODUCT';\r\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\r\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\r\n\r\nexport const PRODUCT_LOADING = \"PRODUCT_LOADING\";\r\nexport const ADD_PRODUCT_ERRORS = 'ADD_PRODUCT_ERRORS';\r\nexport const DELETE_PRODUCT_ERRORS = 'DELETE_PRODUCT_ERRORS';\r\nexport const LISTALL_PRODUCT_ERRORS = 'LISTALL_PRODUCT_ERRORS';\r\nexport const CLEAR_PRODUCT_ERRORS = 'CLEAR_PRODUCT_ERRORS';\r\nexport const ADD_PRODUCT_FAIL = 'ADD_PRODUCT_FAIL';\r\nexport const CLEAR_ACTION_PRODUCT ='CLEAR_ACTION_PRODUCT';\r\nexport const SEARCH_PRODUCT = 'SEARCH_PRODUCT';\r\nexport const UPDATE_PRODUCT = 'UPDATE_PRODUCT';\r\nexport const UPDATE_PRODUCT_ERRORS = 'UPDATE_PRODUCT_ERRORS';\r\nexport const GET_PRODUCT_EDIT = 'GET_PRODUCT_EDIT';\r\n\r\nexport const GET_ALL_CUSTOMER = 'GET_ALL_CUSTOMER';\r\nexport const ADD_CUSTOMER = \"ADD_CUSTOMER\";\r\nexport const DELETE_CUSTOMER = \"DELETE_CUSTOMER\";\r\n\r\nexport const CUSTOMERS_LOADING = \"CUSTOMERS_LOADING\";\r\nexport const ADD_CUSTOMER_ERRORS = 'ADD_CUSTOMER_ERRORS';\r\nexport const DELETE_CUSTOMER_ERRORS = 'DELETE_CUSTOMER_ERRORS';\r\nexport const LISTALL_CUSTOMER_ERRORS = 'LISTALL_CUSTOMER_ERRORS';\r\nexport const CLEAR_CUSTOMER_ERRORS = 'CLEAR_CUSTOMER_ERRORS';\r\nexport const ADD_CUSTOMER_FAIL = 'ADD_CUSTOMER_FAIL';\r\nexport const CLEAR_ACTION_CUSTOMER ='CLEAR_ACTION_CUSTOMER';\r\nexport const SEARCH_CUSTOMER = 'SEARCH_CUSTOMER';\r\nexport const UPDATE_CUSTOMER = 'UPDATE_CUSTOMER';\r\nexport const UPDATE_CUSTOMER_ERRORS = 'UPDATE_CUSTOMER_ERRORS';\r\nexport const GET_CUSTOMER_EDIT = 'GET_CUSTOMER_EDIT';\r\n\r\nexport const USER_LOADING = \"USER_LOADING\";\r\nexport const USER_LOADED = \"USER_LOADED\";\r\nexport const AUTH_ERROR = \"AUTH_ERROR\";\r\n\r\nexport const LOGIN = \"LOGIN\";\r\n\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\r\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\r\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\r\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\r\n\r\nexport const GET_ERRORS = 'GET_ERRORS';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\n\r\n\r\nexport const GET_PRICE_FROM_PRODUCT = 'GET_PRICE_FROM_PRODUCT';\r\n\r\nexport const OPEN_MODAL = 'OPEN_MODAL';","import axios from 'axios';\r\nimport { returnErrors } from './errorActions';\r\nimport {API_ENDPOINT as URL} from '../constants';\r\nimport {\r\n    USER_LOADED,\r\n    USER_LOADING,\r\n    AUTH_ERROR,\r\n    LOGIN_FAIL,\r\n    LOGIN_SUCCESS,\r\n    LOGOUT_SUCCESS,\r\n    LOGIN\r\n} from '../constants/ActionTypes';\r\n\r\n//check token & load user\r\nexport const loadUser = () => (dispatch, getState) => {\r\n    //user loading\r\n    dispatch({ type: USER_LOADING })\r\n    axios.get(`${URL}/users/user`, tokenConfig(getState))\r\n        .then(res => dispatch({\r\n            type: USER_LOADED,\r\n            payload: res.data\r\n        })).catch(err => {\r\n            dispatch(returnErrors(err.response.data, err.response.status))\r\n            dispatch({\r\n                type: AUTH_ERROR,\r\n            })\r\n        })\r\n}\r\n\r\n//setup config/headers and token\r\nexport const tokenConfig = getState => {\r\n    //get token from localStoreage\r\n    const token = getState().auth.token;\r\n    // headers\r\n    const config = {\r\n        headers: {\r\n            \"Content-type\": \"application/json\"\r\n        }\r\n    }\r\n    //if token, add to headers\r\n    if (token) {\r\n        config.headers['auth-token'] = token;\r\n    }\r\n    return config;\r\n}\r\n\r\n// //register user\r\n// export const register = newUser => dispatch => {\r\n//     //headers \r\n//     const config = {\r\n//         headers: {\r\n//             \"Content-type\": \"application/json\"\r\n//         }\r\n//     }\r\n\r\n//     //request body\r\n//     const body = newUser;\r\n\r\n//     console.log(body)\r\n//     axios.post(`${URL}/users/register`, body, config)\r\n//         .then(\r\n//             res => dispatch({\r\n//                 type: REGISTER_SUCCESS,\r\n//                 payload: res.data\r\n//             })\r\n//         ).catch(err => {\r\n//             console.log(err.response.data)\r\n//             dispatch(returnErrors(err.response.data, err.response.status, 'REGISTER_FAIL'))\r\n//             dispatch({\r\n//                 type: REGISTER_FAIL\r\n//             })\r\n//         })\r\n// }\r\n//login user\r\n// export const login = user => dispatch => {\r\n//     //headers \r\n//     const config = {\r\n//         headers: {\r\n//             \"Content-type\": \"application/json\"\r\n//         }\r\n//     }\r\n\r\n//     //request body\r\n//     const body = user;\r\n//     axios.post(`${URL}/users/login`, body, config)\r\n//         .then(\r\n//             res => dispatch({\r\n//                 type: LOGIN_SUCCESS,\r\n//                 payload: res.data\r\n//             })\r\n//         ).catch(err => {\r\n//             console.log(err.response.data)\r\n//             dispatch(returnErrors(err.response.data, err.response.status, 'LOGIN_FAIL'))\r\n//             dispatch({\r\n//                 type: LOGIN_FAIL\r\n//             })\r\n//         })\r\n// }\r\n\r\nexport const logout = () => {\r\n    return {\r\n        type: LOGOUT_SUCCESS\r\n    }\r\n}\r\n\r\nexport const loginAction =(user)=> {\r\n    return{\r\n        type: LOGIN,\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport const loginSuccess = (data)=> {\r\n    return{\r\n        type: LOGIN_SUCCESS,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const loginFail = (err) => {\r\n    return{\r\n        type: LOGIN_FAIL,\r\n        payload: err\r\n    }\r\n}","const style = (theme) => ({\r\n background:{\r\n   backgroundColor: theme.palette.primary.main,\r\n   padding:40,\r\n   display: 'flex',\r\n   flexDirection: 'column',\r\n   alignItems: 'center',\r\n   justifyContent:'center',\r\n   minHeight: '100vh',\r\n   textAlign: 'center',\r\n   flex: '1 0 auto',\r\n },\r\n alert: {\r\n  display: 'flex',\r\n   margin: '10px',\r\n   flexDirection: 'column',\r\n   alignItems: 'center',\r\n   justifyContent:'center',\r\n },\r\n login : {\r\n   maxWidth: '600px',\r\n }\r\n});\r\nexport default style;\r\n","// const validate = (values) => {\r\n//   const errors = {};\r\n//   const { email } = values;\r\n//   console.log(values);\r\n//   if (!email) {\r\n//     errors.email = 'Vui lòng nhập Email';\r\n//   } else if (email.trim() !== null && email.length < 5) {\r\n//     errors.email = 'Toi thieu 5 ky tu';\r\n//   }\r\n//   return errors;\r\n// };\r\n// export default validate;\r\nconst validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'firstName',\r\n    'lastName',\r\n    'email',\r\n    'password',\r\n    'notes'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (!values[field]) {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  if (\r\n    values.email &&\r\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)\r\n  ) {\r\n    errors.email = 'Sai cú pháp example@domain.com'\r\n  }\r\n  return errors\r\n}\r\nexport default validate;","import React, { Component } from 'react';\r\nimport { withStyles, Typography, Button, Grid } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { connect } from 'react-redux';\r\nimport * as authActions from '../../actions/authActions';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styles from './style';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { Link } from 'react-router-dom';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\nimport validate from './validate';\r\nimport { withRouter } from 'react-router';\r\n\r\nclass LoginPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      msgError: ''\r\n    }\r\n  }\r\n\r\n  handleSubmitForm = (user) => {\r\n    const { authActionsCreator } = this.props;\r\n    const { loginAction } = authActionsCreator;\r\n    loginAction(user);\r\n  }\r\n\r\n  //@check login success adn error\r\n  componentDidUpdate(nextprops) {\r\n    const { msgError, isAuthenticated, history } = this.props;\r\n\r\n    if (isAuthenticated !== nextprops.isAuthenticated) {\r\n      if (isAuthenticated) {\r\n        history.push('/admin/order');\r\n      }\r\n    }\r\n    if (msgError !== nextprops.msgError) {\r\n      this.setState({\r\n        msgError\r\n      })\r\n    }\r\n  }\r\n  renderLoginFail = () => {\r\n    const { msgError } = this.state;\r\n    let xhtml = null;\r\n    xhtml = msgError ? (<Alert variant=\"standard\" severity=\"error\">\r\n      {msgError}\r\n    </Alert>) : null\r\n    return xhtml;\r\n  }\r\n  render() {\r\n    const {\r\n      classes,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n    } = this.props;\r\n    return (\r\n      <div className={classes.background}>\r\n        <div className={classes.login}>\r\n          <Card>\r\n            <CardContent>\r\n              <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n                <div>\r\n                  <Typography variant=\"caption\">\r\n                    Đăng nhập để tiếp tục\r\n                  </Typography>\r\n                </div>\r\n                <Grid container>\r\n                  <Grid item xs={12}>\r\n                    <Field\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      label=\"Email\"\r\n                      type=\"email\"\r\n                      margin=\"normal\"\r\n                      component={renderTextField}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Field\r\n                      id=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      margin=\"normal\"\r\n                      name=\"password\"\r\n                      component={renderTextField}\r\n                    ></Field>\r\n                  </Grid>\r\n                  <Grid\r\n                    container item xs={12}\r\n                    direction=\"column\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <div className={classes.alert}>\r\n                      {this.renderLoginFail()}\r\n                    </div>\r\n                  </Grid>\r\n                  <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <Button disabled={invalid || submitting} type=\"submit\">\r\n                      ĐĂNG NHẬP\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nLoginPage.propTypes = {\r\n\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    authActionsCreator: bindActionCreators(authActions, dispatch),\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    msgError: state.error.msg,\r\n  };\r\n};\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'LOGIN_PAGE';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n  withRouter,\r\n)(LoginPage);\r\n","const style = (theme) => ({\r\n background:{\r\n   backgroundColor: theme.palette.primary.main,\r\n   padding:40,\r\n   display: 'flex',\r\n   flexDirection: 'column',\r\n   alignItems: 'center',\r\n   justifyContent:'center',\r\n   minHeight: '100vh',\r\n   textAlign: 'center',\r\n   flex: '1 0 auto',\r\n },\r\n signup:{\r\n   maxWidth: 400,\r\n }\r\n});\r\nexport default style;\r\n","import React, { Component } from 'react';\r\nimport { withStyles, Typography, TextField, Button, FormControlLabel, Checkbox } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styles from './style';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass SignupPage extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className={classes.background}>\r\n        <div className={classes.signup}>\r\n          <Card>\r\n            <CardContent>\r\n              <form>\r\n                <div>\r\n                  <Typography varianr=\"caption\">\r\n                    Dang ky tai khoan\r\n                  </Typography>\r\n                </div>\r\n                <TextField\r\n                  id=\"email\"\r\n                  label=\"email\"\r\n                  className={classes.textField}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                />\r\n                <TextField\r\n                  id=\"name\"\r\n                  label=\"Ten nguoi dung\"\r\n                  className={classes.textField}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                />\r\n                <TextField\r\n                  id=\"password\"\r\n                  label=\"password\"\r\n                  className={classes.textField}\r\n                  type=\"password\"\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                />\r\n                <TextField\r\n                  id=\"cpassword\"\r\n                  label=\"Confirm Password\"\r\n                  className={classes.textField}\r\n                  type=\"password\"\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                />\r\n                <FormControlLabel\r\n                  control={<Checkbox value=\"agree\" />} \r\n                  label=\"Dong y dieu khoan\"\r\n                  className = {classes.fullwidth} />\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  fullWidth\r\n                  type=\"submit\"\r\n                >\r\n                  Sign Up\r\n                </Button>\r\n                <div>\r\n                  <Link to=\"/login\">\r\n                    <Button>Da co tai khoan ?</Button>\r\n                  </Link>\r\n                </div>\r\n              </form>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSignupPage.propTypes = {\r\n\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n\r\n  };\r\n};\r\n\r\nexport default withStyles(styles)(\r\n  connect(mapStateToProps, mapDispatchToProps)(SignupPage)\r\n);\r\n","const style = (theme) => ({\r\n background:{\r\n   backgroundColor: theme.palette.primary.main,\r\n   padding:40,\r\n   display: 'flex',\r\n   flexDirection: 'column',\r\n   alignItems: 'center',\r\n   justifyContent:'center',\r\n   minHeight: '100vh',\r\n   textAlign: 'center',\r\n   flex: '1 0 auto',\r\n },\r\n alert: {\r\n  display: 'flex',\r\n   margin: '10px',\r\n   flexDirection: 'column',\r\n   alignItems: 'center',\r\n   justifyContent:'center',\r\n },\r\n login : {\r\n   maxWidth: '600px',\r\n }\r\n});\r\nexport default style;\r\n","import React, { Component } from 'react';\r\nimport { withStyles, } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport * as authActions from '../../actions/authActions';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styles from './style';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nclass PageNotFound extends Component {\r\n \r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className={classes.background}>\r\n        <div className={classes.login}>\r\n          <Card>\r\n            <CardContent>\r\n              <h1>Page Not Found</h1>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    authActionsCreator: bindActionCreators(authActions, dispatch),\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    msgError: state.error.msg,\r\n  };\r\n};\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(PageNotFound);\r\n","import * as fastReportConstants from '../constants/fastReport';\r\n\r\nexport const listAllFastReports = (params = {}) => {\r\n  return {\r\n    type: fastReportConstants.GET_ALL_FASTREPORTS,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const listAllFastReportsSuccess = (data) => {\r\n  return {\r\n    type: fastReportConstants.GET_ALL_FASTREPORTS_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const listAllFastReportsFail = (error) => {\r\n  return {\r\n    type: fastReportConstants.GET_ALL_FASTREPORTS_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const searchFastReport = (params = {}) => {\r\n  return {\r\n    type: fastReportConstants.SEARCH_FASTREPORT,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const searchFastReportSuccess = (data, params) => {\r\n  return {\r\n    type: fastReportConstants.SEARCH_FASTREPORT_SUCCESS,\r\n    payload: { data, params }\r\n  }\r\n}\r\nexport const searchFastReportFail = (error) => {\r\n  return {\r\n    type: fastReportConstants.SEARCH_FASTREPORT_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const getIdFastReport = (payload) => {\r\n  return {\r\n    type: fastReportConstants.GET_ID_FASTREPORT,\r\n    payload\r\n  }\r\n}\r\nexport const getIdFastReportSuccess = (payload) => {\r\n  return {\r\n    type: fastReportConstants.GET_ID_FASTREPORT_SUCCESS,\r\n    payload\r\n  }\r\n}\r\nexport const getIdFastReportFail = (payload) => {\r\n  return {\r\n    type: fastReportConstants.GET_ID_FASTREPORT_FAIL,\r\n    payload\r\n  }\r\n}\r\nexport const addFastReport = (payload) => {\r\n  return {\r\n    type: fastReportConstants.ADD_FASTREPORT,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addFastReportSuccess = (payload) => {\r\n  return {\r\n    type: fastReportConstants.ADD_FASTREPORT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addFastReportFail = (payload) => {\r\n  return {\r\n    type: fastReportConstants.ADD_FASTREPORT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteFastReport = (payload, params) => {\r\n  return {\r\n    type: fastReportConstants.DELETE_FASTREPORT,\r\n    payload: {\r\n      ...payload,\r\n      params\r\n    },\r\n  };\r\n};\r\n\r\nexport const deleteFastReportSuccess = (payload) => {\r\n  return {\r\n    type: fastReportConstants.DELETE_FASTREPORT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteFastReportFail = (payload) => {\r\n  return {\r\n    type: fastReportConstants.DELETE_FASTREPORT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateFastReport = (payload) => {\r\n  return {\r\n    type: fastReportConstants.UPDATE_FASTREPORT,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateFastReportSuccess = (payload) => {\r\n  return {\r\n    type: fastReportConstants.UPDATE_FASTREPORT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateFastReportNote = (payload) => {\r\n  return {\r\n    type: fastReportConstants.UPDATE_FASTREPORT_NOTE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateFastReportFail = (payload) => {\r\n  return {\r\n    type: fastReportConstants.UPDATE_FASTREPORT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\n\r\nexport const setFastReportEditing = (fastReport) => ({\r\n  type: fastReportConstants.SET_FASTREPORT_EDITING,\r\n  payload: {\r\n    fastReport,\r\n  },\r\n});","export const GET_ALL_FASTREPORTS = 'GET_ALL_FASTREPORTS';\r\nexport const GET_ALL_FASTREPORTS_SUCCESS = 'GET_ALL_FASTREPORTS_SUCCESS';\r\nexport const GET_ALL_FASTREPORTS_FAIL = 'GET_ALL_FASTREPORTS_FAIL';\r\n\r\nexport const SEARCH_FASTREPORT = 'SEARCH_FASTREPORT';\r\nexport const SEARCH_FASTREPORT_SUCCESS = 'SEARCH_FASTREPORT_SUCCESS';\r\nexport const SEARCH_FASTREPORT_FAIL = 'SEARCH_FASTREPORT_FAIL';\r\n\r\nexport const GET_ID_FASTREPORT = 'GET_ID_FASTREPORT';\r\nexport const GET_ID_FASTREPORT_SUCCESS = 'GET_ID_FASTREPORT_SUCCESS';\r\nexport const GET_ID_FASTREPORT_FAIL = 'GET_ID_FASTREPORT_FAIL';\r\n\r\n\r\nexport const ADD_FASTREPORT = 'ADD_FASTREPORT';\r\nexport const ADD_FASTREPORT_SUCCESS = 'ADD_FASTREPORT_SUCCESS';\r\nexport const ADD_FASTREPORT_FAIL = 'ADD_FASTREPORT_FAIL';\r\n\r\nexport const DELETE_FASTREPORT = 'DELETE_FASTREPORT';\r\nexport const DELETE_FASTREPORT_SUCCESS = 'DELETE_FASTREPORT_SUCCESS';\r\nexport const DELETE_FASTREPORT_FAIL = 'DELETE_FASTREPORT_FAIL';\r\n\r\nexport const UPDATE_FASTREPORT = 'UPDATE_FASTREPORT';\r\nexport const UPDATE_FASTREPORT_SUCCESS = 'UPDATE_FASTREPORT_SUCCESS';\r\nexport const UPDATE_FASTREPORT_NOTE = 'UPDATE_FASTREPORT_NOTE';\r\nexport const UPDATE_FASTREPORT_FAIL = 'UPDATE_FASTREPORT_FAIL';\r\nexport const SET_FASTREPORT_EDITING = 'SET_FASTREPORT_EDITING';","import * as imageConstants from '../constants/image';\r\n\r\nexport const getImage = (params = {}) => {\r\n  return {\r\n    type: imageConstants.GET_IMAGE,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const getImageSuccess = (data) => {\r\n  return {\r\n    type: imageConstants.GET_IMAGE_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const getImageFail = (error) => {\r\n  return {\r\n    type: imageConstants.GET_IMAGE_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const uploadImages = (payload) => {\r\n  return {\r\n    type: imageConstants.UPLOAD_IMAGE,\r\n    payload,\r\n  };\r\n};\r\nexport const getImagesInDb = (payload) => {\r\n  return {\r\n    type: imageConstants.GET_IMAGE_IN_DB,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const uploadImagesSuccess = (payload) => {\r\n  return {\r\n    type: imageConstants.UPLOAD_IMAGE_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const uploadImagesFail = (payload) => {\r\n  return {\r\n    type: imageConstants.UPLOAD_IMAGE_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteImage = (payload) => {\r\n  return {\r\n    type: imageConstants.DELETE_IMAGE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteImageSuccess = (payload) => {\r\n  return {\r\n    type: imageConstants.DELETE_IMAGE_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteImageFail = (payload) => {\r\n  return {\r\n    type: imageConstants.DELETE_IMAGE_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const cleanImageStore = () => {\r\n  return {\r\n    type: imageConstants.CLEAN_IMAGES,\r\n  };\r\n};","export const GET_IMAGE = 'GET_IMAGE';\r\nexport const GET_IMAGE_IN_DB = 'GET_IMAGE_IN_DB';\r\nexport const GET_IMAGE_SUCCESS = 'GET_IMAGE_SUCCESS';\r\nexport const GET_IMAGE_FAIL = 'GET_IMAGE_FAIL';\r\n\r\nexport const UPLOAD_IMAGE = 'UPLOAD_IMAGE';\r\nexport const UPLOAD_IMAGE_SUCCESS = 'UPLOAD_IMAGE_SUCCESS';\r\nexport const UPLOAD_IMAGE_FAIL = 'UPLOAD_IMAGE_FAIL';\r\n\r\nexport const DELETE_IMAGE = 'DELETE_IMAGE';\r\nexport const DELETE_IMAGE_SUCCESS = 'DELETE_IMAGE_SUCCESS';\r\nexport const DELETE_IMAGE_FAIL = 'DELETE_IMAGE_FAIL';\r\n\r\nexport const CLEAN_IMAGES = 'CLEAN_IMAGES';\r\n","const style = (theme) => ({\r\n  content: {\r\n    marginTop: '65px',\r\n    '& .box-search': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n      '& .lb-search': {\r\n        width: '100px',\r\n        fontSize: '1rem',\r\n      },\r\n      '& .field-search': {\r\n        width: 'calc((100% - 100px) / 5)',\r\n        maxWidth: '300px',\r\n        paddingRight: '15px',\r\n        '& .multiple-select': {\r\n          backgroundColor: '#e7e7e7',\r\n          '& .lb-user': {\r\n            top: '-5px',\r\n            paddingLeft: '12px',\r\n            '&.Mui-focused, &.MuiFormLabel-filled': {\r\n              top: '10px'\r\n            }\r\n          },\r\n          '& .lb-user + .sl-user': {\r\n            marginTop: '24px'\r\n          },\r\n          '& .sl-user .MuiSelect-selectMenu': {\r\n            paddingLeft: '12px'\r\n          },\r\n          '& .sl-user.Mui-focused .MuiSelect-selectMenu': {\r\n            backgroundColor: '#e7e7e7',\r\n            paddingLeft: '12px'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        width: '100%',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        height: 'calc(100vh - 255px)',\r\n        overflowY: 'overlay !important',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      }\r\n    },\r\n    '& .lb-status': {\r\n      width: '160px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-start': {\r\n        backgroundColor: '#6c757d'\r\n      },\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-inprg-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-inprg-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-in-progress-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-complete': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-close': {\r\n        backgroundColor: '#000000'\r\n      }\r\n    }\r\n  },\r\n});\r\nexport default style;","import * as fileConstants from '../constants/file';\r\n\r\nexport const getFile = (params = {}) => {\r\n  return {\r\n    type: fileConstants.GET_FILE,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const getFileSuccess = (data) => {\r\n  return {\r\n    type: fileConstants.GET_FILE_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const getFileFail = (error) => {\r\n  return {\r\n    type: fileConstants.GET_FILE_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const uploadFiles = (payload) => {\r\n  return {\r\n    type: fileConstants.UPLOAD_FILE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const uploadFilesSuccess = (payload) => {\r\n  return {\r\n    type: fileConstants.UPLOAD_FILE_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const uploadFilesFail = (payload) => {\r\n  return {\r\n    type: fileConstants.UPLOAD_FILE_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteFile = (payload) => {\r\n  return {\r\n    type: fileConstants.DELETE_FILE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteFileSuccess = (payload) => {\r\n  return {\r\n    type: fileConstants.DELETE_FILE_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteFileFail = (payload) => {\r\n  return {\r\n    type: fileConstants.DELETE_FILE_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const cleanFileStore = () => {\r\n  return {\r\n    type: fileConstants.CLEAN_FILES,\r\n  };\r\n};","export const GET_FILE = 'GET_FILE';\r\nexport const GET_FILE_SUCCESS = 'GET_FILE_SUCCESS';\r\nexport const GET_FILE_FAIL = 'GET_FILE_FAIL';\r\n\r\nexport const UPLOAD_FILE = 'UPLOAD_FILE';\r\nexport const UPLOAD_FILE_SUCCESS = 'UPLOAD_FILE_SUCCESS';\r\nexport const UPLOAD_FILE_FAIL = 'UPLOAD_FILE_FAIL';\r\n\r\nexport const DELETE_FILE = 'DELETE_FILE';\r\nexport const DELETE_FILE_SUCCESS = 'DELETE_FILE_SUCCESS';\r\nexport const DELETE_FILE_FAIL = 'DELETE_FILE_FAIL';\r\n\r\nexport const CLEAN_FILES = 'CLEAN_FILES';\r\n","import moment from 'moment';\r\nconst validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'WO',\r\n    'KKS',\r\n    'dateStart',\r\n    'dateStop'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (values[field] === null || values[field] === '') {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  if (values.timeStart && values.timeStop) {\r\n    let timeStart = moment(values.timeStart, \"YYYY-MM-DD\")._d.valueOf()\r\n    let timeStop = moment(values.timeStop, \"YYYY-MM-DD\")._d.valueOf()\r\n    if (timeStop - timeStart < 0) {\r\n      errors.timeStop = 'Ngày kết thúc > Ngày bắt đầu';\r\n    }\r\n  }\r\n  return errors\r\n}\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n  modal: {\r\n    //top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    //position: 'absolute',\r\n    position: 'fixed',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n  TextField: {\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.color.primary,\r\n    color: theme.color.textColor,\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color: theme.color.textColor,\r\n    fontWeight: 700,\r\n    textTransform: 'capitalize',\r\n    fontFamily: 'Roboto'\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    witdth: '100%',\r\n  },\r\n  textField: {\r\n    width: \"100%\",\r\n  },\r\n  TextFieldCustomer: {\r\n    width: \"100%\",\r\n    margin: \"16px 0 8px\"\r\n  },\r\n  alert: {\r\n    display: 'flex',\r\n    margin: '10px',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  picture: {\r\n    width: '100%',\r\n    height: '200px'\r\n  },\r\n  showImage: {\r\n    marginTop: 20,\r\n    display: 'flex', // Add display flex\r\n    justifyContent: 'flex-start', // Align the thumbnails to the left\r\n    overflowY: 'auto', // Allow horizontal scrolling\r\n    \"& > img\": {\r\n      width: 50, // Adjust the width of the thumbnails as per your requirement\r\n      height: 50, // Adjust the height of the thumbnails as per your requirement\r\n      margin: 5, // Add margin between the thumbnails\r\n    },\r\n  },\r\n});\r\n\r\nexport default styles;","const style = (theme) => ({\r\n  button: {\r\n    backgroundColor: \"green\",\r\n    color: \"red\",\r\n  }\r\n\r\n});\r\nexport default style;","import React, { Component } from 'react';\r\nimport styles from './style';\r\nimport { withStyles } from '@material-ui/core';\r\nimport { DropzoneDialog } from 'material-ui-dropzone'\r\nimport Button from '@material-ui/core/Button';\r\nimport { limitSizeImage } from '../../constants';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport imageCompression from 'browser-image-compression';\r\nimport * as imageActions from '../../actions/imageActions';\r\n//import sharp from 'sharp';\r\n\r\nvar resizeImage = function (settings) {\r\n    var file = settings.file;\r\n    var maxSize = settings.maxSize;\r\n    var reader = new FileReader();\r\n    var image = new Image();\r\n    var canvas = document.createElement('canvas');\r\n    var dataURItoBlob = function (dataURI) {\r\n        var bytes = dataURI.split(',')[0].indexOf('base64') >= 0 ?\r\n            atob(dataURI.split(',')[1]) :\r\n            unescape(dataURI.split(',')[1]);\r\n        var mime = dataURI.split(',')[0].split(':')[1].split(';')[0];\r\n        var max = bytes.length;\r\n        var ia = new Uint8Array(max);\r\n        for (var i = 0; i < max; i++)\r\n            ia[i] = bytes.charCodeAt(i);\r\n        return new Blob([ia], { type: mime });\r\n    };\r\n    var resize = function () {\r\n        var width = image.width;\r\n        var height = image.height;\r\n        if (width > height) {\r\n            if (width > maxSize) {\r\n                height *= maxSize / width;\r\n                width = maxSize;\r\n            }\r\n        } else {\r\n            if (height > maxSize) {\r\n                width *= maxSize / height;\r\n                height = maxSize;\r\n            }\r\n        }\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        canvas.getContext('2d').drawImage(image, 0, 0, width, height);\r\n        var dataUrl = canvas.toDataURL('image/jpeg');\r\n        return dataURItoBlob(dataUrl);\r\n    };\r\n    return new Promise(function (ok, no) {\r\n        if (!file.type.match(/image.*/)) {\r\n            no(new Error(\"Not an image\"));\r\n            return;\r\n        }\r\n        reader.onload = function (readerEvent) {\r\n            image.onload = function () { return ok(resize()); };\r\n            image.src = readerEvent.target.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n    });\r\n};\r\n\r\nclass DropzoneDialogExample extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            files: [],\r\n            listFile: [],\r\n            nameTool: null\r\n        };\r\n    }\r\n\r\n    handleClose() {\r\n        this.setState({\r\n            open: false\r\n        });\r\n    }\r\n\r\n    handleSave(files) {\r\n        //Saving files to state for further use and closing Modal.\r\n        this.setState({\r\n            files: files,\r\n            open: false,\r\n        });\r\n\r\n        const { imageActionsCreator } = this.props;\r\n        const { uploadImages, uploadImagesSuccess } = imageActionsCreator;\r\n        console.log('dropzone submit')\r\n        if (this.state.listFile && this.state.listFile.length > 0) {\r\n            var { listFile } = this.state;\r\n\r\n            uploadImages(listFile[listFile.length - 1]);\r\n            this.setState({\r\n                listFile: []\r\n            })\r\n        } else {\r\n            alert('Vui long chon anh ...')\r\n        }\r\n    }\r\n    handleOpen = () => {\r\n        this.setState({\r\n            open: true,\r\n        });\r\n    }\r\n\r\n    async compressImage(_image) {\r\n        // return new Promise(async (resolve, reject) => {\r\n        const options = {\r\n            maxSizeMB: 1,\r\n            maxWidthOrHeight: 800,\r\n            quality: 1, // Giữ nguyên chất lượng ảnh sau khi nén\r\n            useWebWorker: true,\r\n            fileType: 'image/*'\r\n        }\r\n        try {\r\n            const compressedFile = await imageCompression(_image, options);\r\n            return compressedFile\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        // })\r\n    }\r\n\r\n\r\n    onChange = async (image) => {\r\n        const { name, kks } = this.props;\r\n        console.log(kks)\r\n        let arrayImage = [];\r\n        // Read in file\r\n        for (let i = 0; i < image.length; i++) {\r\n            var fileCompress = await this.compressImage(image[i])\r\n\r\n            console.log(kks)\r\n            //var fileFinal = new File([fileCompress], image[i].name, { type: image[i].type, lastModified: Date.now() });\r\n            if (name) var fileFinal = new File([fileCompress], `${name}.jpg`, { type: image[i].type, lastModified: Date.now() });\r\n            if (kks) var fileFinal = new File([fileCompress], `${kks}.jpg`, { type: image[i].type, lastModified: Date.now() });\r\n\r\n            // await promise.then(async function (result) {\r\n            //     await arrayImage.push(result);\r\n            // })\r\n            arrayImage.push(fileFinal);\r\n        }\r\n        //@ after resize image success\r\n        console.log(arrayImage);\r\n        console.log(\"upload resized image\")\r\n        this.setState({\r\n            listFile: [...this.state.listFile, [arrayImage]]\r\n        })\r\n    }\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <div>\r\n                <Button className={classes.button} onClick={this.handleOpen}>\r\n                    add images\r\n                </Button>\r\n                <DropzoneDialog\r\n                    dialogTitle=\"Tải ảnh lên\"\r\n                    open={this.state.open}\r\n                    onSave={this.handleSave.bind(this)}\r\n                    acceptedFiles={['image/jpeg', 'image/png', 'image/bmp']}\r\n                    showPreviews={true}\r\n                    maxFileSize={10000000}\r\n                    onChange={this.onChange}\r\n                    onClose={this.handleClose.bind(this)}\r\n                />\r\n            </div >\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        name: state.form.TOOL_MANAGEMENT ? state.form.TOOL_MANAGEMENT.values.name : null,\r\n        kks: state.form.FASTREPORT_MANAGEMENT ? state.form.FASTREPORT_MANAGEMENT.values.KKS : null,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        imageActionsCreator: bindActionCreators(imageActions, dispatch),\r\n    };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n    withStyles(styles),\r\n    withConnect,\r\n)(DropzoneDialogExample);\r\n\r\n\r\n","import React, { Component, Fragment } from 'react';\r\nimport { withStyles, Grid, Button, Typography, Menu, MenuItem, Paper } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as FastReportActions from '../../actions/fastReportActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport * as imageActions from '../../actions/imageActions';\r\nimport * as fileActions from '../../actions/fileActions';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\nimport moment from 'moment';\r\nimport { ConsoleWriter } from 'istanbul-lib-report';\r\nimport DropzoneDialog from '../../components/DropzoneDialog';\r\n\r\nconst menuId = 'primary-search-account-menu';\r\nclass FastReportForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showSearch: true,\r\n      openSelectCustomer: false,\r\n      nameCustomer: '',\r\n      userIdSelect: '',\r\n      msgError: '',\r\n      imageInDB: []\r\n    }\r\n  }\r\n  //@check login success adn error\r\n  componentDidUpdate(nextprops) {\r\n    const { msgError } = this.props;\r\n\r\n    if (msgError !== nextprops.msgError) {\r\n      this.setState({\r\n        msgError\r\n      })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { customerActionCreator, fastReportEditting } = this.props;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    listAllCustomers();\r\n    this.setState({\r\n      imageInDB: fastReportEditting ? fastReportEditting.images : []\r\n    })\r\n  }\r\n  handleSubmitForm = (data) => {\r\n    const { fastReportActionsCreator, fastReportEditting, user, images } = this.props;\r\n    // const { userIdSelect } = this.state;\r\n    const { addFastReport, updateFastReport } = fastReportActionsCreator;\r\n    const { WO, timeStart, timeStop, content, location, KKS, error, result, employ, time, imageError, imageSuccess } = data;\r\n    const newFastReport = {\r\n      ...(fastReportEditting || {}),\r\n      WO,\r\n      timeStart,\r\n      timeStop,\r\n      location,\r\n      KKS,\r\n      userId: user._id,\r\n      status: 'START',\r\n      statusTool: 'START',\r\n      content: content || '',\r\n      error,\r\n      result,\r\n      employ,\r\n      time,\r\n      images,\r\n    }\r\n    console.log(data)\r\n    console.log(newFastReport)\r\n    console.log(fastReportEditting)\r\n    if (fastReportEditting) {\r\n      // newFastReport.PCT = fastReportEditting.PCT\r\n      newFastReport.toolId = fastReportEditting.toolId\r\n      newFastReport.userId = fastReportEditting.userId\r\n      newFastReport.status = fastReportEditting.status\r\n      newFastReport.statusTool = fastReportEditting.statusTool\r\n      if (user.admin || newFastReport.userId._id === user._id) {\r\n        updateFastReport(newFastReport);\r\n      }\r\n    } else {\r\n      newFastReport.status = 'START'\r\n      newFastReport.statusTool = 'START'\r\n      addFastReport(newFastReport);\r\n    }\r\n  };\r\n  handleChangeCustomer = (event) => {\r\n    const name = event.target.name;\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n  renderToolImages = () => {\r\n    let { images, classes } = this.props;\r\n    let xhtml = null;\r\n    if (images) {\r\n      if (images.length > 0) {\r\n        xhtml = (\r\n          <div style={{ display: 'flex', overflowX: 'auto' }}>\r\n            {images.map((image, index) => (\r\n              <div key={image.id} style={{ marginRight: '10px' }} >\r\n                <img\r\n                  src={`https://drive.google.com/uc?export=view&id=${image.idImage}`}\r\n                  data-filename={image.idImage}\r\n                  style={{ height: '200px', objectFit: 'cover' }}\r\n                  onClick={this.onClickPicture}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return xhtml;\r\n  };\r\n  onClickPicture = (event) => {\r\n    console.log(event.currentTarget.dataset.filename)\r\n    this.setState({\r\n      anchorEl: event.currentTarget,\r\n      filename: event.currentTarget.dataset.filename,\r\n    });\r\n  };\r\n\r\n  cancelSelectImage = () => {\r\n    this.setState({\r\n      anchorEl: null,\r\n    });\r\n  };\r\n  deleteImage = () => {\r\n    const { imageActionsCreator, images } = this.props;\r\n    const { deleteImage } = imageActionsCreator;\r\n    const { filename } = this.state;\r\n    console.log(filename)\r\n    deleteImage(filename);\r\n    this.setState({\r\n      anchorEl: null,\r\n    });\r\n  }\r\n\r\n  renderDetailPicture = () => {\r\n    const { anchorEl } = this.state;\r\n    const isMenuOpen = Boolean(anchorEl);\r\n    return (\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        id={menuId}\r\n        keepMounted\r\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        open={isMenuOpen}\r\n        onClose={this.handleMenuClose}\r\n      >\r\n        <MenuItem onClick={this.deleteImage}>Xóa</MenuItem>\r\n        <MenuItem onClick={this.cancelSelectImage}>Hủy bỏ</MenuItem>\r\n      </Menu>\r\n    );\r\n  };\r\n  compareArrays = (arr1, arr2) => {\r\n    const differentElements = [];\r\n\r\n    // Tìm các phần tử không giống nhau giữa hai mảng\r\n    for (let i = 0; i < arr1.length; i++) {\r\n      if (!arr2.includes(arr1[i])) {\r\n        differentElements.push(arr1[i]);\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < arr2.length; i++) {\r\n      if (!arr1.includes(arr2[i])) {\r\n        differentElements.push(arr2[i]);\r\n      }\r\n    }\r\n\r\n    return differentElements;\r\n  }\r\n\r\n  renderFastReportFail = () => {\r\n    const { msgError } = this.state;\r\n    console.log(msgError);\r\n    let xhtml = null;\r\n    xhtml = msgError ? (<Alert variant=\"standard\" severity=\"error\">\r\n      {msgError}\r\n    </Alert>) : null\r\n    return xhtml;\r\n  }\r\n  notSave = () => {\r\n    const { modalActionsCreator, images, imageActionsCreator } = this.props;\r\n    const { deleteImage } = imageActionsCreator;\r\n    const { imageInDB } = this.state;\r\n    console.log(imageInDB);\r\n    let imageDif = []\r\n    const { hideModal } = modalActionsCreator;\r\n    imageDif = this.compareArrays(imageInDB, images)\r\n    console.log(imageDif)\r\n    // Loop through imageDif and delete images\r\n    imageDif.forEach((image) => {\r\n      deleteImage(image.idImage); // Assuming deleteImage takes an image as an argument\r\n    });\r\n\r\n    hideModal();\r\n  }\r\n  render() {\r\n    const {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n      // customers,\r\n      // user,\r\n      initialValues,\r\n      fastReportEditting\r\n    } = this.props;\r\n\r\n\r\n    return (\r\n      <Fragment>\r\n        {this.renderDetailPicture()}\r\n        <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n          <Grid container className={classes.form}>\r\n\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"WO\"\r\n                name=\"WO\"\r\n                label=\"Work FastReport\"\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"location\"\r\n                name=\"location\"\r\n                label=\"Địa điểm công tác\"\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"KKS\"\r\n                name=\"KKS\"\r\n                label=\"Hệ thống / KKS\"\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"timeStart\"\r\n                name=\"timeStart\"\r\n                label={initialValues.WO == null ? \"Ngày bắt đầu dự kiến\" : \"Ngày bắt đầu thực tế\"}\r\n                type=\"date\"\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"timeStop\"\r\n                name=\"timeStop\"\r\n                label={initialValues.WO == null ? \"Ngày kết thúc dự kiến\" : \"Ngày kết thúc thực tế\"}\r\n                type=\"date\"\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"content\"\r\n                name=\"content\"\r\n                label=\"Nội dung công tác\"\r\n                multiline\r\n                rowsMax={4}\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"error\"\r\n                name=\"error\"\r\n                label=\"Hiện tượng lỗi\"\r\n                multiline\r\n                rowsMax={4}\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            {\r\n              fastReportEditting ?\r\n                <Fragment>\r\n                  <Grid item md={12}>\r\n                    <Grid item md={12}>\r\n                      <DropzoneDialog />\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid item md={12} xs={12}>\r\n                    <Grid item>\r\n                      <Typography variant=\"h6\" >Hình ảnh hiện tượng lỗi</Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                  {this.renderToolImages()}\r\n                </Fragment>\r\n\r\n                : <></>\r\n            }\r\n\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"result\"\r\n                name=\"result\"\r\n                label=\"Cách khắc phục, kết quả\"\r\n                multiline\r\n                rowsMax={4}\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"employ\"\r\n                name=\"employ\"\r\n                label=\"Nhân sự\"\r\n                multiline\r\n                rowsMax={4}\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"time\"\r\n                name=\"time\"\r\n                label=\"Thời gian\"\r\n                multiline\r\n                rowsMax={4}\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            {\r\n              // user && user.admin && !initialValues.WO ?\r\n              //   <Grid item md={12}>\r\n              //     <FormControl className={classes.TextFieldCustomer}>\r\n              //       <InputLabel htmlFor=\"age-native-simple\">Người dùng</InputLabel>\r\n              //       <Select\r\n              //         native\r\n              //         fullWidth\r\n              //         value={userIdSelect}\r\n              //         onChange={this.handleChangeCustomer}\r\n              //         inputProps={{\r\n              //           name: 'userIdSelect',\r\n              //           id: 'userId',\r\n              //         }}\r\n              //       >\r\n              //         <option aria-label=\"None\" value=\"\" />\r\n              //         {\r\n              //           customers.map((customer) => {\r\n              //             return <option key={customer._id} value={customer._id}>{customer.name}</option>\r\n              //           })\r\n              //         }\r\n              //       </Select>\r\n              //     </FormControl>\r\n              //   </Grid>\r\n              //   : <></>\r\n            }\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justify=\"flex-end\"\r\n              alignItems=\"flex-end\"\r\n            >\r\n              {this.renderFastReportFail()}\r\n              <Button onClick={this.notSave}>Hủy</Button>\r\n              <Button disabled={invalid || submitting} type=\"submit\">\r\n                Lưu\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Fragment>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nFastReportForm.propTypes = {\r\n  customerId: PropTypes.string,\r\n  product: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    fastReportEditting: state.fastReports.fastReport ? state.fastReports.fastReport : null,\r\n    initialValues: {\r\n      WO: state.fastReports.fastReport ? state.fastReports.fastReport.WO : null,\r\n      PCT: state.fastReports.fastReport ? state.fastReports.fastReport.PCT : null,\r\n      location: state.fastReports.fastReport ? state.fastReports.fastReport.location : null,\r\n      KKS: state.fastReports.fastReport ? state.fastReports.fastReport.KKS : '',\r\n      content: state.fastReports.fastReport ? state.fastReports.fastReport.content : '',\r\n      error: state.fastReports.fastReport ? state.fastReports.fastReport.error : '',\r\n      result: state.fastReports.fastReport ? state.fastReports.fastReport.result : '',\r\n      employ: state.fastReports.fastReport ? state.fastReports.fastReport.employ : '',\r\n      time: state.fastReports.fastReport ? state.fastReports.fastReport.time : '',\r\n      timeStart: state.fastReports.fastReport ? moment(state.fastReports.fastReport.timeStart).format('YYYY-MM-DD') : moment().format('YYYY-MM-DD'),\r\n      timeStop: state.fastReports.fastReport ? moment(state.fastReports.fastReport.timeStop).format('YYYY-MM-DD') : moment().format('YYYY-MM-DD'),\r\n      image: state.fastReports.fastReport ? state.fastReports.fastReport.image : '',\r\n      files: state.fastReports.fastReport ? state.fastReports.fastReport.files : '',\r\n    },\r\n    customers: state.customers ? state.customers.customers : [],\r\n    user: state.auth.user,\r\n    msgError: state.error.msg,\r\n    images: state.images.images\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    fastReportActionsCreator: bindActionCreators(FastReportActions, dispatch),\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    imageActionsCreator: bindActionCreators(imageActions, dispatch),\r\n    fileActionsCreator: bindActionCreators(fileActions, dispatch),\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'FASTREPORT_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(FastReportForm);\r\n","import * as uiTypes from '../constants/ui';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport const showLoading = () => ({ type: uiTypes.SHOW_LOADING });\r\nexport const hideLoading = () => ({ type: uiTypes.HIDE_LOADING });\r\nexport const showSidebar = () => ({ type: uiTypes.SHOW_SIDEBAR });\r\nexport const hideSidebar = () => ({ type: uiTypes.HIDE_SIDEBAR });\r\n\r\nexport const popupConfirm = ({title = '', html = '', ifOk = () => {}, ifCancel = () => {}}) => {\r\n    let fnOK = ifOk;\r\n    let fnCancel = ifCancel;\r\n    Swal.fire({\r\n        title,\r\n        html,\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Có',\r\n        cancelButtonText: 'Không'\r\n    }).then((result) => {\r\n        result.isConfirmed ? fnOK() : fnCancel();\r\n    })\r\n};\r\n\r\nexport const popupConfirmYesNo = ({title = '', html = '', ifOk = () => {}, ifCancel = () => {}}) => {\r\n    let fnOK = ifOk;\r\n    let fnCancel = ifCancel;\r\n    Swal.fire({\r\n        title,\r\n        html,\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Đúng',\r\n        cancelButtonText: 'Sai'\r\n    }).then((result) => {\r\n        result.isConfirmed ? fnOK() : fnCancel();\r\n    })\r\n};","export const SHOW_LOADING = 'SHOW_LOADING';\r\nexport const HIDE_LOADING = 'HIDE_LOADING';\r\n\r\nexport const SHOW_SIDEBAR = 'SHOW_SIDEBAR';\r\nexport const HIDE_SIDEBAR = 'HIDE_SIDEBAR';","import React, { Component, Fragment, } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as fastReportActions from '../../actions/fastReportActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport * as imageActions from '../../actions/imageActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport FastReportForm from '../FastReportForm';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, InputLabel, Select, MenuItem, Input } from '@material-ui/core';\r\nimport { DeleteForever, Edit, Visibility, Lock } from '@material-ui/icons';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DataTable from 'react-data-table-component';\r\nimport moment from 'moment';\r\nimport { popupConfirm } from '../../actions/ui';\r\n\r\nclass FastReports extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      pagination: {\r\n        page: 1,\r\n        rowPerPage: 20,\r\n        rowPerPageOption: [10, 20, 50]\r\n      },\r\n      redirect: false,\r\n      idRedirect: '',\r\n      dataSearch: {\r\n        WO: '',\r\n        PCT: '',\r\n        userId: [],\r\n        status: 'ALL'\r\n      },\r\n      columnsGrid: [\r\n        {\r\n          name: '', width: '100px', center: true,\r\n          cell: (params) => {\r\n            let { user } = this.props;\r\n            let data = JSON.parse(JSON.stringify(params));\r\n            let checkUser = (user.admin || user._id === params.userId._id);\r\n            let checkVip = (user.vip)\r\n\r\n            //console.log(user)\r\n            return <>\r\n              <Fab\r\n                color=\"default\"\r\n                aria-label=\"Xem Chi Tiết\"\r\n                size='small'\r\n                onClick={() => {\r\n                  this.onClickView(data._id)\r\n                }}\r\n              >\r\n                <Visibility color=\"primary\" />\r\n              </Fab>\r\n              {\r\n                checkUser ? (\r\n                  <>\r\n                    &nbsp;&nbsp;\r\n                    <Fab\r\n                      color=\"default\"\r\n                      aria-label=\"Sửa WO\"\r\n                      size='small'\r\n                      onClick={() => {\r\n                        this.onClickEdit(data)\r\n                      }}\r\n                    >\r\n                      <Edit color=\"primary\" />\r\n                    </Fab>\r\n                    &nbsp;&nbsp;\r\n\r\n                    {\r\n                      checkVip && (\r\n                        <Fab\r\n                          color=\"default\"\r\n                          aria-label=\"Xóa WO\"\r\n                          size='small'\r\n                          onClick={() => {\r\n                            this.onClickDelete(data)\r\n                          }}\r\n                        >\r\n                          <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                        </Fab>\r\n                      )\r\n                    }\r\n                  </>\r\n                ) : <></>\r\n              }\r\n            </>\r\n          }\r\n        },\r\n        { selector: 'WO', name: 'Work FastReport', width: '120px', sortable: true, center: true },\r\n        // { selector: 'PCT', name: 'PCT', width: '120px', sortable: true, center: true },\r\n        { selector: 'userId.name', name: 'Tạo bởi', width: '180px', sortable: true },\r\n        // {\r\n        //   selector: 'status', name: 'Trạng thái', width: '160px', sortable: true, center: true,\r\n        //   cell: (param) => {\r\n        //     let { user } = this.props;\r\n        //     let checkPkt = (user.pkt);\r\n        //     return <>\r\n        //       <div className={'lb-status color-' + param.status.toLowerCase().split(' ').join('-')}>\r\n        //         {param.status}\r\n        //       </div>\r\n        //       {/* { checkPkt && param.status === \"COMPLETE\" ? <>&nbsp; \r\n        //       <Fab\r\n        //         color=\"default\"\r\n        //         aria-label=\"Đóng WO\"\r\n        //         size='small'\r\n        //         onClick={() => {\r\n        //           this.onCloseWo(param)\r\n        //         }}\r\n        //       >\r\n        //         <Lock color=\"primary\" />\r\n        //       </Fab> </> : <></>} */}\r\n        //     </>\r\n        //   }\r\n        // },\r\n        { selector: 'location', name: 'Địa điểm công tác', width: '150px' },\r\n        { selector: 'KKS', name: 'Hệ thống/KKS', width: '150px' },\r\n        { selector: 'content', name: 'Nội dung công tác', width: '500px' },\r\n        {\r\n          selector: 'timeStart', name: 'Ngày bắt đầu', width: '130px', sortable: true, center: true,\r\n          cell: (params) => moment(params.timeStart).format('DD/MM/YYYY')\r\n        },\r\n        {\r\n          selector: 'timeStop', name: 'Ngày kết thúc', width: '130px', sortable: true, center: true,\r\n          cell: (params) => moment(params.timeStop).format('DD/MM/YYYY')\r\n        },\r\n\r\n        { selector: 'userId.department', name: 'Phân xưởng', width: '150px', sortable: true },\r\n      ]\r\n    }\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect && this.state.idRedirect) {\r\n      let tool = '/admin/fastReport-detail/' + this.state.idRedirect;\r\n      return <Redirect to={tool} />\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { fastReportActionCreator, customerActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchFastReport } = fastReportActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    let params = JSON.parse(JSON.stringify(dataSearch));\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    searchFastReport(params);\r\n    listAllCustomers();\r\n  }\r\n  onClickDelete = (fastReport) => {\r\n    let { user } = this.props;\r\n    const { dataSearch } = this.state;\r\n    if (!user.admin && user._id !== fastReport.userId._id) return;\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn xóa Work FastReport này?\",\r\n      ifOk: () => {\r\n        const { fastReportActionCreator } = self.props;\r\n        const { deleteFastReport } = fastReportActionCreator;\r\n        let params = JSON.parse(JSON.stringify(dataSearch))\r\n        deleteFastReport(fastReport, params);\r\n      }\r\n    })\r\n  }\r\n  onClickView = (idRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      idRedirect\r\n    })\r\n  };\r\n  onCloseWo = (data) => {\r\n    const { fastReportActionCreator, user } = this.props;\r\n    const { updateFastReport } = fastReportActionCreator;\r\n    const newFastReport = JSON.parse(JSON.stringify(data));\r\n    switch (newFastReport.status) {\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          newFastReport.status = 'CLOSE'\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    updateFastReport(newFastReport);\r\n  };\r\n  onClickEdit = (data) => {\r\n    const { fastReportActionCreator, modalActionsCreator, user, imageActionsCreator } = this.props;\r\n    const { setFastReportEditing } = fastReportActionCreator;\r\n    const { uploadImagesSuccess } = imageActionsCreator;\r\n    if (!user.admin && user._id !== data.userId._id) return;\r\n    uploadImagesSuccess(data.images);\r\n    setFastReportEditing(data);\r\n    console.log(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Work FastReport');\r\n    changeModalContent(<FastReportForm />);\r\n  }\r\n  // handleSearch = (event) => {\r\n  //   const { name, value } = event.target;\r\n  //   const { fastReportActionCreator, customers } = this.props;\r\n  //   const { pagination, dataSearch } = this.state;\r\n  //   const { searchFastReport } = fastReportActionCreator;\r\n\r\n  //   let selectedUserIds = [];\r\n  //   let users = customers;\r\n\r\n  //   let search = {\r\n  //     ...dataSearch,\r\n  //     skip: 0,\r\n  //     limit: pagination.rowPerPage,\r\n  //   };\r\n\r\n  //   if (name === \"userId\") {\r\n  //     if (value.length > 0) {\r\n  //       console.log(value);\r\n  //       selectedUserIds = users\r\n  //         .filter(user => value.includes(user.group))\r\n  //         .map(user => user._id);\r\n  //     }\r\n  //     search[name] = selectedUserIds;\r\n  //   } else {\r\n  //     search[name] = value;\r\n  //   }\r\n\r\n  //   console.log(search);\r\n\r\n  //   this.setState({ dataSearch: search });\r\n  //   searchFastReport(search);\r\n  // };\r\n\r\n\r\n  handleSearch = (event) => {\r\n    const { name, value } = event.target;\r\n    const { fastReportActionCreator, customers } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchFastReport } = fastReportActionCreator;\r\n\r\n    let selectedUserIds = [];\r\n    let users = customers;\r\n\r\n    let search = {\r\n      ...dataSearch,\r\n      skip: 0,\r\n      limit: pagination.rowPerPage,\r\n    };\r\n\r\n    if (name === \"userId\") {\r\n      if (value.length > 0 && users.some(user => user._id === value[0])) {\r\n        search[name] = value;\r\n      } else {\r\n        console.log(value);\r\n        selectedUserIds = users\r\n          .filter(user => value.includes(user.group) || value.includes(user.department))\r\n          .map(user => user._id);\r\n        search[name] = selectedUserIds;\r\n      }\r\n    } else {\r\n      search[name] = value;\r\n      if (name === \"group\") {\r\n        search[\"userId\"] = [];\r\n      }\r\n    }\r\n\r\n    console.log(search);\r\n\r\n    this.setState({ dataSearch: search });\r\n    searchFastReport(search);\r\n  };\r\n\r\n\r\n\r\n  handleChangePage = (page, total) => {\r\n    const { fastReportActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchFastReport } = fastReportActionCreator;\r\n    pagination.page = page;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchFastReport(params);\r\n  }\r\n  handleChangeRowsPerPage = (rowPerPage, total) => {\r\n    const { fastReportActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchFastReport } = fastReportActionCreator;\r\n    pagination.rowPerPage = rowPerPage;\r\n    pagination.page = 1;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchFastReport(params);\r\n  }\r\n\r\n  render() {\r\n    const { fastReports, customers, fastReportsTotal, classes } = this.props;\r\n    const { columnsGrid, pagination, dataSearch } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.content}>\r\n          <div className=\"box-search\">\r\n            <div className=\"lb-search\">Search</div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_WO\"\r\n                name=\"wo\"\r\n                label=\"Work FastReport\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth className=\"multiple-select\">\r\n                <InputLabel className=\"lb-user\" id=\"lb-user\">Tổ</InputLabel>\r\n                <Select\r\n                  labelId=\"lb-user\"\r\n                  id=\"userId\"\r\n                  className=\"sl-user\"\r\n                  //multiple\r\n                  value={dataSearch.userId}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'userId',\r\n                    id: 'userId',\r\n                  }}\r\n                  input={<Input />}\r\n                >\r\n                  {customers && Array.from(new Set(customers.map(customers => customers.group))).map(group => (\r\n                    <MenuItem key={group} value={group}>\r\n                      {group}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth className=\"multiple-select\">\r\n                <InputLabel className=\"lb-user\" id=\"lb-user\">Phân xưởng</InputLabel>\r\n                <Select\r\n                  labelId=\"lb-user\"\r\n                  id=\"userId\"\r\n                  className=\"sl-user\"\r\n                  //multiple\r\n                  value={dataSearch.userId}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'userId',\r\n                    id: 'userId',\r\n                  }}\r\n                  input={<Input />}\r\n                >\r\n                  {customers && Array.from(new Set(customers.map(customers => customers.department))).map(department => (\r\n                    <MenuItem key={department} value={department}>\r\n                      {department}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth className=\"multiple-select\">\r\n                <InputLabel className=\"lb-user\" id=\"lb-user\">Tạo bởi</InputLabel>\r\n                <Select\r\n                  labelId=\"lb-user\"\r\n                  id=\"user-id\"\r\n                  className=\"sl-user\"\r\n                  multiple\r\n                  value={dataSearch.userId}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'userId',\r\n                    id: 'userId',\r\n                  }}\r\n                  input={<Input />}\r\n                >\r\n                  {customers && customers.map((c) => (\r\n                    <MenuItem key={c._id} value={c._id}>\r\n                      {c.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_content\"\r\n                name=\"content\"\r\n                label=\"Nội dung công tác\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_kks\"\r\n                name=\"kks\"\r\n                label=\"KKS\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_date_from\"\r\n                name=\"dateFrom\"\r\n                label=\"Từ ngày\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_date_to\"\r\n                name=\"dateTo\"\r\n                label=\"Đến ngày\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            {/* <div className=\"field-search\">\r\n              <FormControl fullWidth variant=\"filled\">\r\n                <InputLabel htmlFor=\"status\">Trạng thái</InputLabel>\r\n                <Select\r\n                  fullWidth\r\n                  native\r\n                  value={dataSearch.status}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'status',\r\n                    id: 'status',\r\n                  }}\r\n                >\r\n                  <option value=\"ALL\">Tất cả</option>\r\n                  <option value=\"START\">START</option>\r\n                  <option value=\"READY\">READY</option>\r\n                  <option value=\"IN PROGRESS\">IN PROGRESS</option>\r\n                  <option value=\"INPRG NO TOOL\">INPRG NO TOOL</option>\r\n                  <option value=\"INPRG HAVE TOOL\">INPRG HAVE TOOL</option>\r\n                  <option value=\"COMPLETE\">COMPLETE</option>\r\n                  <option value=\"CLOSE\">CLOSE</option>\r\n                </Select>\r\n              </FormControl>\r\n            </div> */}\r\n          </div>\r\n          <Grid className={classes.dataTable}>\r\n            <DataTable\r\n              noHeader={true}\r\n              keyField={'_id'}\r\n              columns={columnsGrid}\r\n              data={this.genData(fastReports)}\r\n              striped={true}\r\n              pagination\r\n              paginationServer\r\n              paginationDefaultPage={pagination.page}\r\n              paginationPerPage={pagination.rowPerPage}\r\n              paginationRowsPerPageOptions={pagination.rowPerPageOption}\r\n              paginationTotalRows={fastReportsTotal}\r\n              onChangePage={this.handleChangePage}\r\n              onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n            />\r\n          </Grid>\r\n          {this.renderRedirect()}\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  genData = (fastReports) => {\r\n    let { user } = this.props;\r\n    if (!user) return [];\r\n    return fastReports.filter(fastReport => fastReport.userId)\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    fastReports: state.fastReports.fastReports,\r\n    fastReportsTotal: state.fastReports.total,\r\n    user: state.auth.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    fastReportActionCreator: bindActionCreators(fastReportActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    imageActionsCreator: bindActionCreators(imageActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(FastReports);","import * as toolConstants from '../constants/tool';\r\n\r\nexport const listAllTools = (params = {}) => {\r\n  return {\r\n    type: toolConstants.GET_ALL_TOOLS,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const listAllToolsSuccess = (data) => {\r\n  return {\r\n    type: toolConstants.GET_ALL_TOOLS_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const listAllToolsFail = (error) => {\r\n  return {\r\n    type: toolConstants.GET_ALL_TOOLS_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\n\r\nexport const searchTools = (params = {}) => {\r\n  return {\r\n    type: toolConstants.SEARCH_TOOLS,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const searchToolsSuccess = (data, params) => {\r\n  return {\r\n    type: toolConstants.SEARCH_TOOLS_SUCCESS,\r\n    payload: { data, params },\r\n  }\r\n}\r\nexport const searchToolsFail = (error) => {\r\n  return {\r\n    type: toolConstants.SEARCH_TOOLS_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\n\r\nexport const getIdTool = (payload) => {\r\n  return {\r\n    type: toolConstants.GET_ID_TOOL,\r\n    payload\r\n  }\r\n}\r\nexport const getIdToolSuccess = (payload) => {\r\n  return {\r\n    type: toolConstants.GET_ID_TOOL_SUCCESS,\r\n    payload\r\n  }\r\n}\r\nexport const getIdToolFail = (payload) => {\r\n  return {\r\n    type: toolConstants.GET_ID_TOOL_FAIL,\r\n    payload\r\n  }\r\n}\r\nexport const addTool = (payload) => {\r\n  return {\r\n    type: toolConstants.ADD_TOOL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addToolSuccess = (payload) => {\r\n  return {\r\n    type: toolConstants.ADD_TOOL_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addToolFail = (payload) => {\r\n  return {\r\n    type: toolConstants.ADD_TOOL_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteTool = (payload) => {\r\n  return {\r\n    type: toolConstants.DELETE_TOOL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteToolSuccess = (payload) => {\r\n  return {\r\n    type: toolConstants.DELETE_TOOL_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteToolFail = (payload) => {\r\n  return {\r\n    type: toolConstants.DELETE_TOOL_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateTool = (payload) => {\r\n  return {\r\n    type: toolConstants.UPDATE_TOOL,\r\n    payload,\r\n  };\r\n};\r\nexport const updateToolSuccess = (payload) => {\r\n  return {\r\n    type: toolConstants.UPDATE_TOOL_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateToolFail = (payload) => {\r\n  return {\r\n    type: toolConstants.UPDATE_TOOL_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\n\r\nexport const setToolEditing = (tool) => ({\r\n  type: toolConstants.SET_TOOL_EDITING,\r\n  payload: {\r\n    tool,\r\n  },\r\n});","export const GET_ALL_TOOLS = 'GET_ALL_TOOLS';\r\nexport const GET_ALL_TOOLS_SUCCESS = 'GET_ALL_TOOLS_SUCCESS';\r\nexport const GET_ALL_TOOLS_FAIL = 'GET_ALL_TOOLS_FAIL';\r\n\r\nexport const SEARCH_TOOLS = 'SEARCH_TOOLS';\r\nexport const SEARCH_TOOLS_SUCCESS = 'SEARCH_TOOLS_SUCCESS';\r\nexport const SEARCH_TOOLS_FAIL = 'SEARCH_TOOLS_FAIL';\r\n\r\nexport const GET_ID_TOOL = 'GET_ID_TOOL';\r\nexport const GET_ID_TOOL_SUCCESS = 'GET_ID_TOOL_SUCCESS';\r\nexport const GET_ID_TOOL_FAIL = 'GET_ID_TOOL_FAIL';\r\n\r\n\r\nexport const ADD_TOOL = 'ADD_TOOL';\r\nexport const ADD_TOOL_SUCCESS = 'ADD_TOOL_SUCCESS';\r\nexport const ADD_TOOL_FAIL = 'ADD_TOOL_FAIL';\r\n\r\nexport const DELETE_TOOL = 'DELETE_TOOL';\r\nexport const DELETE_TOOL_SUCCESS = 'DELETE_TOOL_SUCCESS';\r\nexport const DELETE_TOOL_FAIL = 'DELETE_TOOL_FAIL';\r\n\r\nexport const UPDATE_TOOL = 'UPDATE_TOOL';\r\nexport const UPDATE_TOOL_SUCCESS = 'UPDATE_TOOL_SUCCESS';\r\nexport const UPDATE_TOOL_FAIL = 'UPDATE_TOOL_FAIL';\r\nexport const SET_TOOL_EDITING ='SET_TOOL_EDITING';","const style = (theme) => ({\r\n  containerPanel: {\r\n    marginTop: '65px',\r\n    '& .hide': {\r\n      display: 'none !important'\r\n    },\r\n    '& .box-panel': {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      '& .block': {\r\n        padding: '15px',\r\n        background: '#fff',\r\n        boxShadow: '0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)',\r\n        height: '100%',\r\n        fontSize: '1rem',\r\n        '& .info-wo': {\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          margin: '0 -15px',\r\n          '& .col-wo-50': {\r\n            width: '50%',\r\n            padding: '0 15px'\r\n          },\r\n          '& .col-wo-100': {\r\n            width: '100%',\r\n            padding: '0 15px'\r\n          }\r\n        },\r\n        '& .image-gallery': {\r\n          '& .image-gallery-image': {\r\n            height: 'calc(100vh - 280px)'\r\n          }\r\n        }\r\n      },\r\n      '& .customer-field': {\r\n        fontSize: '1rem',\r\n        marginTop: '10px'\r\n      },\r\n      '& .header-action': {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n      },\r\n      '& .left-panel': {\r\n        width: '100%',\r\n        transition: 'all 1s ease-in-out',\r\n        '& .field': {\r\n          margin: '10px 0',\r\n          fontSize: '0.8rem'\r\n        }\r\n      },\r\n      '& .right-panel': {\r\n        display: 'none',\r\n      },\r\n      '@media (min-width: 768px)': {\r\n        // Thiết lập cho laptop và desktop\r\n        '&.show-right-panel': {\r\n          flexDirection: 'row',\r\n          '& .left-panel': {\r\n            width: '75%',\r\n            marginLeft: '25%',\r\n            paddingRight: '10px'\r\n          },\r\n          '& .right-panel': {\r\n            width: '25%',\r\n            display: 'block',\r\n            paddingLeft: '10px'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        height: 'calc(100vh - 590px)',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        overflowY: 'overlay !important',\r\n        minHeight: '200px',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      },\r\n\r\n    },\r\n    '& .lb-status': {\r\n      width: '90px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-in-use': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-bad': {\r\n        backgroundColor: '#dc3545'\r\n      },\r\n      '&.color-lost': {\r\n        backgroundColor: '#343a40'\r\n      }\r\n    },\r\n  },\r\n  gridList: {\r\n    flexWrap: 'nowrap',\r\n    transform: 'translateZ(0)',\r\n  },\r\n  boxActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    margin: '10px 0'\r\n  },\r\n  maskLoading: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: 'calc(100% - 64px)',\r\n    top: '0',\r\n    left: '0',\r\n    backgroundColor: 'rgba(0,0,0,0.3)',\r\n    zIndex: 1\r\n  }\r\n});\r\n\r\nexport default style;\r\n","const style = (theme) => ({\r\n  fileUpload: {\r\n    display: 'inline-block',\r\n    padding: '6px 12px',\r\n    cursor: 'pointer',\r\n    backgroundColor: '#4CAF50',\r\n    color: '#fff',\r\n    borderRadius: '4px',\r\n  }\r\n\r\n});\r\nexport default style;","import React, { Component } from 'react';\r\n// import { google } from 'googleapis';\r\nimport styles from './style';\r\nimport { withStyles } from '@material-ui/core';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport * as fileActions from '../../actions/fileActions';\r\n\r\nclass FileInput extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedFiles: null,\r\n        };\r\n    }\r\n    handleFileInputChange = (event) => {\r\n        this.setState({ selectedFiles: event.target.files });\r\n    };\r\n    handleFileUpload = async () => {\r\n        const { selectedFiles } = this.state;\r\n        const { fileActionsCreator } = this.props;\r\n        const { uploadFiles } = fileActionsCreator;\r\n        console.log(selectedFiles)\r\n        if (!selectedFiles) {\r\n            console.error('No file selected');\r\n            return;\r\n        }\r\n        if (selectedFiles.length > 0) {\r\n            console.log('có file được chọn')\r\n            uploadFiles(selectedFiles)\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { selectedFiles } = this.state;\r\n        //console.log(selectedFiles)\r\n        return (\r\n            <div>\r\n                <label htmlFor=\"file-input\" className={classes.fileUpload}>\r\n                    <input id=\"file-input\" type=\"file\" multiple onChange={this.handleFileInputChange} />\r\n                </label>\r\n                {selectedFiles && <p>{selectedFiles.length} file(s) selected</p>}\r\n                <button onClick={this.handleFileUpload}> Tải lên </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        name: state.form.TOOL_MANAGEMENT ? state.form.TOOL_MANAGEMENT.values.name : null,\r\n        kks: state.form.FASTREPORT_MANAGEMENT ? state.form.FASTREPORT_MANAGEMENT.values.KKS : null,\r\n        files: state.fastReports.fastReport ? state.fastReports.fastReport.files : null,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        fileActionsCreator: bindActionCreators(fileActions, dispatch),\r\n\r\n    };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n    withStyles(styles),\r\n    withConnect,\r\n)(FileInput);\r\n\r\n\r\n","import React, { Component, Fragment, } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as fastReportActions from '../../actions/fastReportActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as toolActions from '../../actions/toolActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport * as imageActions from '../../actions/imageActions';\r\nimport * as fileActions from '../../actions/fileActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, Button, Table } from '@material-ui/core';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { DeleteForever, ArrowBackIos, Edit, KeyboardReturn, Add } from '@material-ui/icons';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport DataTable from 'react-data-table-component';\r\nimport { API_ENDPOINT as URL } from '../../constants';\r\nimport FastReportForm from '../FastReportForm';\r\nimport moment from 'moment';\r\nimport { popupConfirm, popupConfirmYesNo } from '../../actions/ui';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport { Multiselect } from 'multiselect-react-dropdown';\r\nimport { AlignmentType, Document, BfastReportStyle, HeadingLevel, Packer, Paragraph, TabStopPosition, TabStopType, TextRun, Table as TableD, TableCell as TableCellD, TableRow as TableRowD, WidthType, convertInchesToTwip } from 'docx';\r\nimport { saveAs } from \"file-saver\";\r\nimport FileInput from '../../components/FileInput';\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\n\r\nconst PHONE_NUMBER = \"02903 650140\";\r\nconst PROFILE_URL = \"https://www.pvps.vn\";\r\nconst EMAIL = \"info@pvps.vn\";\r\n\r\n\r\nclass DocumentCreator {\r\n  create([employees, workFastReportInfo, listTool]) {\r\n    const document = new Document();\r\n\r\n    document.addSection({\r\n      children: [\r\n        new Paragraph({\r\n          text: \"BIÊN BẢN BÀN GIAO CÔNG CỤ DỤNG CỤ\",\r\n          heading: HeadingLevel.HEADING_1,\r\n          alignment: AlignmentType.CENTER\r\n        }),\r\n        this.createContactInfo(PHONE_NUMBER, PROFILE_URL, EMAIL),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeading(\"Thông tin Work FastReport:\"),\r\n        ...workFastReportInfo\r\n          .map((wo) => {\r\n            const arr = [];\r\n            arr.push(\r\n              this.createInstitutionHeader(`WO: ${wo.WO}`, `PCT: ${wo.PCT}`),\r\n            );\r\n            arr.push(this.createRoleText(`Chỉ huy trực tiếp: ${wo.CHTT}`));\r\n            return arr;\r\n          })\r\n          .reduce((prev, curr) => prev.concat(curr), []),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeading(\"Nhân viên nhóm công tác\"),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeaderTableNV(\"STT\", \"HỌ VÀ TÊN\"),\r\n\r\n        ...employees\r\n          .map((nv) => {\r\n            const arr = [];\r\n            arr.push(this.createContentTableNV(nv));\r\n            return arr;\r\n          })\r\n          .reduce((prev, curr) => prev.concat(curr), []),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeading(\"Danh sách Công cụ dụng cụ mượn\"),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeaderTable(\"STT\", \"TÊN CÔNG CỤ\", \"SỐ LƯỢNG\"),\r\n\r\n        ...listTool\r\n          .map((tool) => {\r\n            const arr = [];\r\n            arr.push(this.createContentTableTool(tool));\r\n            return arr;\r\n          }).reduce((prev, curr) => prev.concat(curr), []),\r\n        new Paragraph(\"\\n\"), new Paragraph(\"\\n\"), new Paragraph(\"\\n\"),\r\n        //this.createInstitutionHeader(\"\", \"Ngày....tháng....năm.......\"),\r\n        this.createInstitutionHeader(\"Bên Giao\", \"Bên nhận\"),\r\n\r\n        // this.createSubHeading(\"Skills\"),\r\n        // this.createSkillList(skills),\r\n        // this.createSubHeading(\"Achievements\"),\r\n        // ...this.createAchivementsList(achivements),\r\n        // this.createSubHeading(\"Interests\"),\r\n        // this.createInterests(\"Programming, Technology, Music Production, Web Design, 3D Modelling, Dancing.\"),\r\n        // this.createHeading(\"References\"),\r\n        // new Paragraph(\r\n        //   \"Dr. Dean Mohamedally Director of Postgraduate Studies Department of Computer Science, University College London Malet Place, Bloomsbury, London WC1E d.mohamedally@ucl.ac.uk\",\r\n        // ),\r\n        // new Paragraph(\"More references upon request\"),\r\n        // new Paragraph({\r\n        //   text: \"This CV was generated in real-time based on my Linked-In profile from my personal website www.dolan.bio.\",\r\n        //   alignment: AlignmentType.CENTER,\r\n        // }),\r\n      ],\r\n    });\r\n\r\n    return document;\r\n  }\r\n\r\n  createContactInfo(phoneNumber, profileUrl, email) {\r\n    return new Paragraph({\r\n      alignment: AlignmentType.CENTER,\r\n      children: [\r\n        new TextRun(`Phone: ${phoneNumber} | Website: ${profileUrl} | Email: ${email}`),\r\n        new TextRun(\"Address: Khanh An commune, U Minh dis., Ca Mau province \").break(),\r\n      ],\r\n    });\r\n  }\r\n\r\n  createHeading(text) {\r\n    return new Paragraph({\r\n      text: text,\r\n      heading: HeadingLevel.HEADING_3,\r\n      thematicBreak: true,\r\n    });\r\n  }\r\n\r\n  createSubHeading(text) {\r\n    return new Paragraph({\r\n      text: text,\r\n      heading: HeadingLevel.HEADING_2,\r\n    });\r\n  }\r\n\r\n  createInstitutionHeader(institutionName, dateText) {\r\n    return new Paragraph({\r\n      tabStops: [\r\n        {\r\n          type: TabStopType.RIGHT,\r\n          position: TabStopPosition.MAX,\r\n        },\r\n      ],\r\n      children: [\r\n        new TextRun({\r\n          text: institutionName,\r\n          bold: true,\r\n        }),\r\n        new TextRun({\r\n          text: `\\t${dateText}`,\r\n          bold: true,\r\n        }),\r\n      ],\r\n    });\r\n  }\r\n\r\n  createRoleText(roleText) {\r\n    return new Paragraph({\r\n      children: [\r\n        new TextRun({\r\n          text: roleText,\r\n          italics: true,\r\n        }),\r\n      ],\r\n    });\r\n  }\r\n\r\n  createBullet(text) {\r\n    return new Paragraph({\r\n      text: text,\r\n      bullet: {\r\n        level: 0,\r\n      },\r\n    });\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  createSkillList(skills) {\r\n    return new Paragraph({\r\n      children: [new TextRun(skills.map((skill) => skill.name).join(\", \") + \".\")],\r\n    });\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  createAchivementsList(achivements) {\r\n    return achivements.map(\r\n      (achievement) =>\r\n        new Paragraph({\r\n          text: achievement.name,\r\n          bullet: {\r\n            level: 0,\r\n          },\r\n        }),\r\n    );\r\n  }\r\n\r\n  createInterests(interests) {\r\n    return new Paragraph({\r\n      children: [new TextRun(interests)],\r\n    });\r\n  }\r\n\r\n  splitParagraphIntoBullets(text) {\r\n    return text.split(\"\\n\\n\");\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  createPositionDateText(startDate, endDate, isCurrent) {\r\n    const startDateText = this.getMonthFromInt(startDate.month) + \". \" + startDate.year;\r\n    const endDateText = isCurrent ? \"Present\" : `${this.getMonthFromInt(endDate.month)}. ${endDate.year}`;\r\n\r\n    return `${startDateText} - ${endDateText}`;\r\n  }\r\n  createTableCell(data) {\r\n    return new TableCellD({\r\n      children: [new Paragraph({\r\n        text: data,\r\n        alignment: AlignmentType.CENTER\r\n      })]\r\n    })\r\n  }\r\n  createTableRowTool(data) {\r\n    return new TableRowD({\r\n      children: [\r\n        this.createTableCell(String(data.stt)),\r\n        this.createTableCell(data.name),\r\n        this.createTableCell(String(data.quantity)),\r\n      ],\r\n    })\r\n  }\r\n  createTableRowNV(data) {\r\n    return new TableRowD({\r\n      children: [\r\n        this.createTableCell(String(data.stt)),\r\n        this.createTableCell(data.name),\r\n      ],\r\n    })\r\n  }\r\n\r\n  createContentTableTool(data) {\r\n    return new TableD({\r\n      rows: [\r\n        this.createTableRowTool(data)\r\n      ],\r\n      width: {\r\n        size: 200,\r\n        type: WidthType.AUTO,\r\n      },\r\n      columnWidths: [10, 10, 10],\r\n    });\r\n  }\r\n  createContentTableNV(data) {\r\n    return new TableD({\r\n      rows: [\r\n        this.createTableRowNV(data)\r\n      ],\r\n      width: {\r\n        size: 200,\r\n        type: WidthType.AUTO,\r\n      },\r\n      columnWidths: [10, 10, 10],\r\n    });\r\n  }\r\n  createHeaderTable(firstCol, secondCol, thirCol) {\r\n    return new TableD({\r\n\r\n      rows: [\r\n        new TableRowD({\r\n          tableHeader: true,\r\n          children: [\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${firstCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            }),\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${secondCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            }),\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${thirCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            })\r\n          ],\r\n        })\r\n      ],\r\n      width: {\r\n        size: 200,\r\n        type: WidthType.AUTO,\r\n      },\r\n      columnWidths: [10, 10, 10],\r\n    });\r\n  }\r\n  createHeaderTableNV(firstCol, secondCol) {\r\n    return new TableD({\r\n\r\n      rows: [\r\n        new TableRowD({\r\n          tableHeader: true,\r\n          children: [\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${firstCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            }),\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${secondCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            }),\r\n          ],\r\n        })\r\n      ],\r\n      width: {\r\n        size: 200,\r\n        type: WidthType.AUTO,\r\n      },\r\n      columnWidths: [10, 10, 10],\r\n    });\r\n  }\r\n  getMonthFromInt(value) {\r\n    switch (value) {\r\n      case 1:\r\n        return \"Jan\";\r\n      case 2:\r\n        return \"Feb\";\r\n      case 3:\r\n        return \"Mar\";\r\n      case 4:\r\n        return \"Apr\";\r\n      case 5:\r\n        return \"May\";\r\n      case 6:\r\n        return \"Jun\";\r\n      case 7:\r\n        return \"Jul\";\r\n      case 8:\r\n        return \"Aug\";\r\n      case 9:\r\n        return \"Sept\";\r\n      case 10:\r\n        return \"Oct\";\r\n      case 11:\r\n        return \"Nov\";\r\n      case 12:\r\n        return \"Dec\";\r\n      default:\r\n        return \"N/A\";\r\n    }\r\n  }\r\n}\r\n\r\nclass FastReportDetail extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showRightPanel: false,\r\n      redirect: false,\r\n      urlRedirect: '',\r\n      currentIdTool: {},\r\n      isChange: false,\r\n      addFile: false,\r\n      fileInDB: [],\r\n      fastReportAction: true,\r\n      selectedImage: null,\r\n      columnsGrid: [\r\n        { selector: 'name', name: 'Tên tài liệu', width: '100% - 300px', sortable: true },\r\n        {\r\n          selector: 'idFile', name: 'Link xem', width: 'calc((100% - 100px) / 3)',\r\n          cell: (params) => {\r\n            console.log(params.idFile)\r\n            return <>\r\n              <div>\r\n                <a href={`https://drive.google.com/file/d/${params.idFile}`} target=\"_blank\">Click me</a>\r\n              </div>\r\n\r\n            </>\r\n          },\r\n          sortable: true\r\n        },\r\n        {\r\n          name: 'Hành động', width: '100px',\r\n          cell: (params) => {\r\n            let { fastReport } = this.props;\r\n            console.log(fastReport)\r\n\r\n            let data = JSON.parse(JSON.stringify(params))\r\n            console.log(data)\r\n            return <>\r\n              <div>\r\n                {/* <a href={`https://drive.google.com/file/d/${params.idFile}`} target=\"_blank\">Click me</a> */}\r\n                <Fab\r\n                  size='small'\r\n                  onClick={() => {\r\n                    this.onClickRemoveDoc(data)\r\n                  }}>\r\n                  <DeleteForever color=\"error\" fontSize=\"small\" /></Fab>\r\n              </div>\r\n\r\n            </>\r\n          }\r\n        }\r\n      ],\r\n    }\r\n  }\r\n\r\n  generateDox = () => {\r\n    const { fastReport } = this.props;\r\n    const nv = fastReport.NV;\r\n    const employees = [];\r\n    var index = 1;\r\n    nv.forEach(element => {\r\n      employees.push({\r\n        stt: index++,\r\n        name: element.name\r\n      })\r\n    });\r\n    const tool = fastReport.toolId;\r\n    let toolName = [];\r\n    tool.forEach(element => { toolName.push(element.name) });\r\n    let sortToolName = toolName.sort();\r\n    console.log(sortToolName);\r\n\r\n    const listTool = [];\r\n    var indexT = 1;\r\n    let elementCurrent = '';\r\n    let quantity = 0;\r\n\r\n    for (let i = 0; i < sortToolName.length; i++) {\r\n      if (sortToolName[i] !== elementCurrent) {\r\n        if (quantity > 0) {\r\n          listTool.push({\r\n            stt: indexT++,\r\n            name: elementCurrent,\r\n            quantity: quantity\r\n          });\r\n        }\r\n        elementCurrent = sortToolName[i];\r\n        quantity = 1;\r\n      } else {\r\n        quantity++;\r\n      }\r\n    }\r\n    if (quantity > 0) {\r\n      listTool.push({\r\n        stt: indexT++,\r\n        name: elementCurrent,\r\n        quantity: quantity\r\n      });\r\n    }\r\n    const workFastReportInfo = [\r\n      {\r\n        WO: fastReport.WO,\r\n        PCT: fastReport.PCT,\r\n        CHTT: fastReport.userId.name,\r\n      },\r\n    ];\r\n    const documentCreator = new DocumentCreator();\r\n    const doc = documentCreator.create([\r\n      employees,\r\n      workFastReportInfo,\r\n      listTool\r\n    ]);\r\n\r\n    Packer.toBlob(doc).then(blob => {\r\n      //console.log(blob);\r\n      saveAs(blob, `${fastReport.WO} ` + \"_\" + `${fastReport.userId.name}` + \".docx\");\r\n      //console.log(\"Document created successfully\");\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { fastReportActionCreator, customerActionCreator, match: { params }, fastReport } = this.props;\r\n    const { getIdFastReport } = fastReportActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    getIdFastReport(params.fastReportId);\r\n    listAllCustomers();\r\n    console.log(fastReport)\r\n    this.setState({\r\n      fileInDB: fastReport.files\r\n    })\r\n  }\r\n  onClickShowTool = (data) => {\r\n    if (data._id === this.state.currentIdTool._id) {\r\n      this.setState({ showRightPanel: false, currentIdTool: {} });\r\n    } else {\r\n      this.setState({ showRightPanel: true, currentIdTool: data })\r\n    }\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.urlRedirect} />\r\n    }\r\n  }\r\n  onClickAddTool = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickGotoList = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickRemoveDoc = (data) => {\r\n    let self = this\r\n    console.log(data)\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn bỏ tài liệu này?\",\r\n      ifOk: () => {\r\n        const { fastReportActionCreator, toolActionCreator, fastReport, fileActionsCreator } = self.props;\r\n        const { currentIdTool } = self.state;\r\n        console.log(currentIdTool)\r\n        const { updateFastReport } = fastReportActionCreator;\r\n        const { deleteFile } = fileActionsCreator;\r\n        const newFastReport = JSON.parse(JSON.stringify(fastReport));\r\n        const newTool = JSON.parse(JSON.stringify(data));\r\n        let indexTool = newFastReport.files.findIndex(function (item, i) {\r\n          return item._id === data._id\r\n        });\r\n        newFastReport.files.splice(indexTool, 1);\r\n        newTool.wo = \"\";\r\n        newTool.status = 1;\r\n        updateFastReport(newFastReport);\r\n        deleteFile(data.idFile);\r\n      }\r\n    })\r\n  }\r\n  onClickReturnTool = (data) => {\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Trả tool',\r\n      html: \"Bạn muốn trả công cụ này về kho?\",\r\n      ifOk: () => {\r\n        const { fastReportActionCreator, toolActionCreator, fastReport } = self.props;\r\n        const { currentIdTool } = self.state;\r\n        const { updateFastReport } = fastReportActionCreator;\r\n        const { updateTool } = toolActionCreator;\r\n        const newFastReport = JSON.parse(JSON.stringify(fastReport));\r\n        const newTool = JSON.parse(JSON.stringify(data));\r\n        let indexTool = newFastReport.toolId.findIndex(function (item, i) {\r\n          return item._id === data._id\r\n        });\r\n        newTool.wo = \"\";\r\n        newTool.status = 1;\r\n        newFastReport.toolId[indexTool].status = newTool.status;\r\n        if (currentIdTool._id === data._id) {\r\n          self.setState({ currentIdTool: {} });\r\n        }\r\n        updateFastReport(newFastReport);\r\n        updateTool(newTool);\r\n      }\r\n    })\r\n  }\r\n  onClickAddToolInList = (data) => {\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Mượn tool lại',\r\n      html: \"Bạn muốn mượn lại công cụ này không?\",\r\n      ifOk: () => {\r\n        const { fastReportActionCreator, toolActionCreator, fastReport } = self.props;\r\n        const { currentIdTool } = self.state;\r\n        const { updateFastReport } = fastReportActionCreator;\r\n        const { updateTool } = toolActionCreator;\r\n        const newFastReport = JSON.parse(JSON.stringify(fastReport));\r\n        const newTool = JSON.parse(JSON.stringify(data));\r\n        let indexTool = newFastReport.toolId.findIndex(function (item, i) {\r\n          return item._id === data._id\r\n        });\r\n        newTool.wo = newFastReport.WO;\r\n        newTool.status = 2;\r\n        newFastReport.toolId[indexTool].status = newTool.status;\r\n        if (currentIdTool._id === data._id) {\r\n          self.setState({ currentIdTool: {} });\r\n        }\r\n        updateFastReport(newFastReport);\r\n        updateTool(newTool);\r\n      }\r\n    })\r\n  }\r\n\r\n  onClickEdit = (data) => {\r\n    const { fastReportActionCreator, modalActionsCreator, imageActionsCreator } = this.props;\r\n    const { setFastReportEditing } = fastReportActionCreator;\r\n    const { uploadImagesSuccess } = imageActionsCreator;\r\n    setFastReportEditing(data);\r\n    //console.log(data)\r\n    uploadImagesSuccess(data.images);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Work FastReport');\r\n    changeModalContent(<FastReportForm />);\r\n  }\r\n  saveFileToData = (data) => {\r\n    this.setState({\r\n      addFile: false,\r\n    })\r\n    const { fastReportActionCreator, fastReportEditting, user, images, files } = this.props;\r\n    const { addFastReport, updateFastReport } = fastReportActionCreator;\r\n    const { WO, timeStart, timeStop, content, location, KKS, error, result, employ, time, imageError, imageSuccess } = data;\r\n    const newFastReport = {\r\n      ...(fastReportEditting || {}),\r\n      WO,\r\n      timeStart,\r\n      timeStop,\r\n      location,\r\n      KKS,\r\n      userId: user._id,\r\n      status: 'START',\r\n      statusTool: 'START',\r\n      content: content || '',\r\n      error,\r\n      result,\r\n      employ,\r\n      time,\r\n      images,\r\n      files\r\n    }\r\n    console.log(files)\r\n    console.log(newFastReport)\r\n    //console.log(fastReportEditting)\r\n    if (fastReportEditting) {\r\n      // newFastReport.PCT = fastReportEditting.PCT\r\n      newFastReport.toolId = fastReportEditting.toolId\r\n      newFastReport.userId = fastReportEditting.userId\r\n      newFastReport.status = fastReportEditting.status\r\n      newFastReport.statusTool = fastReportEditting.statusTool\r\n      if (user.admin || newFastReport.userId._id === user._id) {\r\n        updateFastReport(newFastReport);\r\n      }\r\n    } else {\r\n      newFastReport.status = 'START'\r\n      newFastReport.statusTool = 'START'\r\n      addFastReport(newFastReport);\r\n    }\r\n  };\r\n  addFile = (data) => {\r\n    const { fileActionsCreator } = this.props;\r\n    const { uploadFilesSuccess } = fileActionsCreator;\r\n    console.log(data)\r\n    uploadFilesSuccess(data.files)\r\n    this.setState({\r\n      addFile: true,\r\n    })\r\n  };\r\n  onClickVerify = (data) => {\r\n    const { fastReportActionCreator, user, fastReport } = this.props;\r\n    const { updateFastReport } = fastReportActionCreator;\r\n    const newFastReport = JSON.parse(JSON.stringify(data));\r\n    const haveToolInList = data.toolId;\r\n    switch (newFastReport.status) {\r\n      case 'START':\r\n        if (haveToolInList.length === 0) {\r\n          newFastReport.status = 'INPRG NO TOOL'\r\n          newFastReport.statusTool = \"INPRG NO TOOL\"\r\n        }\r\n        else {\r\n          newFastReport.status = 'READY'\r\n          newFastReport.statusTool = 'READY'\r\n        }\r\n        break;\r\n      case 'READY':\r\n        if (user.admin) {\r\n          newFastReport.status = 'INPRG HAVE TOOL'\r\n          newFastReport.statusTool = 'INPRG HAVE TOOL'\r\n        }\r\n        break;\r\n      case 'INPRG HAVE TOOL':\r\n        if (user.admin) {\r\n          newFastReport.status = 'INPRG NO TOOL'\r\n          newFastReport.statusTool = \"INPRG NO TOOL\"\r\n        }\r\n        break;\r\n      case 'INPRG NO TOOL':\r\n        let self = this\r\n        popupConfirmYesNo({\r\n          title: 'Thông báo',\r\n          html: \"Bạn vui lòng kiểm tra lại ngày kết thúc theo phiếu công tác, nếu đúng nhấn 'Đúng', nếu sai chọn 'Sai' \",\r\n          ifOk: () => {\r\n            const { fastReport } = self.props;\r\n            const newFastReport = JSON.parse(JSON.stringify(fastReport));\r\n            newFastReport.status = 'COMPLETE'\r\n            newFastReport.statusTool = \"COMPLETE\"\r\n            updateFastReport(newFastReport);\r\n          },\r\n          ifCancel: () => {\r\n            this.onClickEdit(fastReport)\r\n          }\r\n        })\r\n        break;\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          newFastReport.status = 'CLOSE'\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    updateFastReport(newFastReport);\r\n  };\r\n  groupButtonActions = () => {\r\n    const { fastReport, user, fastReportActionCreator } = this.props\r\n    const { updateFastReport } = fastReportActionCreator;\r\n    const newFastReport = JSON.parse(JSON.stringify(fastReport));\r\n    let returnToolComplete = fastReport.toolId.filter(tool => tool.status === 1)\r\n    let countToolId = fastReport.toolId.length;\r\n    let haveTool = fastReport.toolId;\r\n    let toolComplete;\r\n    if (returnToolComplete.length === countToolId) toolComplete = true;\r\n    else toolComplete = false;\r\n    // if (!fastReport.userId) return <></>;\r\n    // else if (fastReport.status === 'START' && user._id === fastReport.userId._id && fastReport.toolId.length === 0) {\r\n    //   return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(fastReport) }}>Lấy PCT Không Tool</Button>;\r\n    // }\r\n    switch (fastReport.status) {\r\n      case 'START':\r\n        if (user._id !== fastReport.userId._id) return <></>\r\n        return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(fastReport) }}>Gửi Duyệt</Button>;\r\n      case 'READY':\r\n        if (user.admin) {\r\n          return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(fastReport) }}>Duyệt</Button>;\r\n        } else {\r\n          return <></>;\r\n        }\r\n      case 'INPRG HAVE TOOL':\r\n        if (user.admin && toolComplete) {\r\n          return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(fastReport) }}>Trả xong</Button>;\r\n        } else {\r\n          return <></>;\r\n        }\r\n      case 'INPRG NO TOOL':\r\n        if (toolComplete && user._id === fastReport.userId._id) {\r\n          return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(fastReport) }}>Hoàn Thành</Button>;\r\n        }\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(fastReport) }}>Đóng WO</Button>;\r\n        }\r\n\r\n      default:\r\n        return <></>;\r\n    }\r\n  }\r\n  renderStatusText = (status) => {\r\n    const { user } = this.props\r\n    if (!user) return '';\r\n    switch (status) {\r\n      case 'READY':\r\n        return user.admin ? '' : ' - CHỜ DUYỆT'\r\n      case 'INPRG':\r\n        return user.admin ? '' : ' - ĐANG XỬ LÝ'\r\n      default:\r\n        return ''\r\n    }\r\n  }\r\n  classAddTool = (fastReport) => {\r\n    const { user } = this.props\r\n    if (!fastReport.userId) return 'hide';\r\n    if (!user.admin && (user._id !== fastReport.userId._id || fastReport.status !== 'START')) return 'hide';\r\n    if (user.admin && fastReport.status === 'INPRG NO TOOL') return 'hide';\r\n    if (fastReport.status === 'COMPLETE' || fastReport.status === 'CLOSE') return 'hide';\r\n    return ''\r\n  }\r\n  getImage = (images) => {\r\n    //console.log(images)\r\n    //console.log(`https://drive.google.com/uc?export=view&id=${images[0].idImage}`)\r\n    return images.map(image => ({\r\n      original: `https://drive.google.com/uc?export=view&id=${image.idImage}`,\r\n      thumbnail: `https://drive.google.com/uc?export=view&id=${image.idImage}`\r\n    }))\r\n  }\r\n  addandremoveUserNV = (data) => {\r\n    const { fastReportActionCreator, fastReport } = this.props;\r\n    const { updateFastReport } = fastReportActionCreator;\r\n    const newFastReport = JSON.parse(JSON.stringify(fastReport));\r\n    newFastReport.NV = data\r\n    updateFastReport(newFastReport);\r\n  }\r\n  onChangeNote = (event) => {\r\n    const { fastReportActionCreator, fastReport } = this.props;\r\n    const { updateFastReportNote } = fastReportActionCreator;\r\n    const newFastReport = JSON.parse(JSON.stringify(fastReport));\r\n    newFastReport.note = event.target.value;\r\n    this.setState({ isChange: true });\r\n    updateFastReportNote(newFastReport);\r\n  }\r\n  onBlurNote = (event) => {\r\n    const { fastReportActionCreator, fastReport } = this.props;\r\n    const { isChange } = this.state;\r\n    const newFastReport = JSON.parse(JSON.stringify(fastReport));\r\n    if (isChange) {\r\n      const { updateFastReport } = fastReportActionCreator;\r\n      newFastReport.note = event.target.value;\r\n      updateFastReport(newFastReport);\r\n      this.setState({ isChange: false });\r\n    }\r\n  }\r\n  generateDocs = (fastReport) => {\r\n    console.log('generate bang')\r\n    console.log(fastReport)\r\n    const { user } = this.props;\r\n    if (!user && !user._id) return [];\r\n    fastReport.isAction = true\r\n    if (!user.admin && fastReport.userId && (user._id !== fastReport.userId._id)) fastReport.isAction = false;\r\n    if (fastReport && fastReport.files && fastReport.files.length > 0) {\r\n      return fastReport.files\r\n    }\r\n    return []\r\n  }\r\n  renderToolImages = () => {\r\n    let { images, classes } = this.props;\r\n    let { selectedImage } = this.state;\r\n    let xhtml = null;\r\n    if (images) {\r\n      if (images.length > 0) {\r\n        xhtml = (\r\n          <div style={{ display: 'flex', overflowX: 'auto' }}>\r\n            {images.map((image, index) => (\r\n              <div key={image.id} style={{ marginRight: '10px' }} >\r\n                <img\r\n                  src={`https://drive.google.com/uc?export=view&id=${image.idImage}`}\r\n                  data-filename={image.idImage}\r\n                  style={{ height: '200px', objectFit: 'cover', cursor: 'pointer' }}\r\n                  onClick={() => this.onClickPicture(image)}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return xhtml;\r\n  };\r\n  onClickPicture = (image) => {\r\n    this.setState({ selectedImage: image });\r\n  };\r\n  onCloseFullScreen = () => {\r\n    this.setState({ selectedImage: null });\r\n  };\r\n  renderFullScreenImage = () => {\r\n    let { selectedImage } = this.state;\r\n\r\n    if (selectedImage) {\r\n      return (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 9999,\r\n          }}\r\n          onClick={this.onCloseFullScreen}\r\n        >\r\n          <img\r\n            src={`https://drive.google.com/uc?export=view&id=${selectedImage.idImage}`}\r\n            style={{ maxHeight: '100%', maxWidth: '100%', objectFit: 'contain' }}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n  render() {\r\n    const { classes, fastReport, user, images, upFileSuccess } = this.props\r\n    const { showRightPanel, columnsGrid, addFile } = this.state\r\n    let dataTable = this.generateDocs(fastReport)\r\n    console.log(dataTable)\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.containerPanel}>\r\n          {this.renderRedirect()}\r\n          <div className={fastReport._id ? '' : classes.maskLoading}>\r\n          </div>\r\n          <Grid className={(showRightPanel ? 'box-panel show-right-panel' : 'box-panel')}>\r\n            <Grid className='left-panel'>\r\n              <div className='block'>\r\n                <div className='header-action'>\r\n                  <div className='group'>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickGotoList('/admin/fastReport') }}>\r\n                      <ArrowBackIos style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Quay về danh sách\r\n                    </Button>\r\n                    &nbsp;\r\n                    <Button className={fastReport.userId && (user.admin || user._id === fastReport.userId._id) ? '' : 'hide'} variant=\"contained\" color=\"primary\" onClick={() => { this.onClickEdit(fastReport) }}>\r\n                      <Edit style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Chỉnh sửa\r\n                    </Button>\r\n                    &nbsp;\r\n                  </div>\r\n                </div>\r\n                {fastReport.userId && user._id !== fastReport.userId._id ? <div className='customer-field'>Người dùng: {fastReport.userId ? fastReport.userId.name : ''}</div> : ''}\r\n                <div className='info-wo'>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"wo\" value={fastReport.WO} label=\"Work FastReport\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"employ\" value={fastReport.employ} label=\"Nhân sự\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"kks\" value={fastReport.KKS} label=\"KKS/ Hệ thống\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"time\" value={fastReport.time} label=\"Tổng thời gian thực hiện\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"date_start\" value={moment(fastReport.timeStart).format('DD/MM/YYYY')} label=\"Ngày bắt đầu\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"date_stop\" value={moment(fastReport.timeStop).format('DD/MM/YYYY')} label=\"Ngày kết thúc\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-100'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"content\" multiline value={fastReport.content || ' '} label=\"Nội dung công tác\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-100'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"content\" multiline value={fastReport.error || ' '} label=\"Hiện tượng lỗi\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-100'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"result\" multiline value={fastReport.result || ' '} label=\"Kết quả xử lý\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  {addFile ? <></> : <Button className={fastReport.userId && (user.admin || user._id === fastReport.userId._id) ? '' : 'hide'} variant=\"contained\" color=\"primary\" onClick={() => { this.addFile(fastReport) }}>\r\n                    <Edit style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Thêm File\r\n                  </Button>}\r\n                  {addFile ? <FileInput /> : <></>}\r\n                  &nbsp;\r\n                </div>\r\n                <Grid className={classes.dataTable}>\r\n                  <DataTable\r\n                    noHeader={true}\r\n                    keyField={'_id'}\r\n                    columns={columnsGrid}\r\n                    data={dataTable}\r\n                    striped={true}\r\n                    pagination\r\n                    paginationPerPage={20}\r\n                    paginationRowsPerPageOptions={[10, 20, 50]}\r\n                    //onRowClicked={this.onClickShowTool}\r\n                    noDataComponent='Chưa thêm tài liệu'\r\n                  />\r\n                </Grid>\r\n              </div>\r\n            </Grid>\r\n            <Grid>\r\n              <div>\r\n                <div>Hình ảnh:</div>\r\n                {(images || []).length === 0 ? (\r\n                  <></>\r\n                ) : (\r\n                  <>\r\n                    {this.renderToolImages()}\r\n                    {this.renderFullScreenImage()}\r\n                  </>\r\n                )}\r\n              </div>\r\n\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    fastReportEditting: state.fastReports.fastReport,\r\n    fastReports: state.fastReports.fastReport,\r\n    fastReport: {\r\n      WO: state.fastReports.fastReport ? state.fastReports.fastReport.WO : '',\r\n      PCT: state.fastReports.fastReport ? state.fastReports.fastReport.PCT : '',\r\n      date: state.fastReports.fastReport ? state.fastReports.fastReport.date : '',\r\n      status: state.fastReports.fastReport ? state.fastReports.fastReport.status : '',\r\n      statusTool: state.fastReports.fastReport ? state.fastReports.fastReport.statusTool : '',\r\n      timeStart: state.fastReports.fastReport ? state.fastReports.fastReport.timeStart : '',\r\n      timeStop: state.fastReports.fastReport ? state.fastReports.fastReport.timeStop : '',\r\n      toolId: state.fastReports.fastReport ? state.fastReports.fastReport.toolId : [],\r\n      content: state.fastReports.fastReport ? state.fastReports.fastReport.content : '',\r\n      error: state.fastReports.fastReport ? state.fastReports.fastReport.error : '',\r\n      employ: state.fastReports.fastReport ? state.fastReports.fastReport.employ : '',\r\n      result: state.fastReports.fastReport ? state.fastReports.fastReport.result : '',\r\n      time: state.fastReports.fastReport ? state.fastReports.fastReport.time : '',\r\n      location: state.fastReports.fastReport ? state.fastReports.fastReport.location : '',\r\n      KKS: state.fastReports.fastReport ? state.fastReports.fastReport.KKS : '',\r\n      userId: state.fastReports.fastReport ? state.fastReports.fastReport.userId : {},\r\n      NV: state.fastReports.fastReport ? state.fastReports.fastReport.NV : [],\r\n      note: state.fastReports.fastReport ? state.fastReports.fastReport.note : '',\r\n      _id: state.fastReports.fastReport ? state.fastReports.fastReport._id : '',\r\n      isAction: true,\r\n      images: state.fastReports.fastReport ? state.fastReports.fastReport.images : [],\r\n      files: state.fastReports.fastReport ? state.fastReports.fastReport.files : []\r\n    },\r\n    images: state.fastReports.fastReport ? state.fastReports.fastReport.images : [],\r\n    files: state.files.files ? state.files.files : [],\r\n    upFileSuccess: state.files.files ? state.files.upFileSuccess : [],\r\n    user: state.auth.user || {},\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    toolActionCreator: bindActionCreators(toolActions, dispatch),\r\n    fastReportActionCreator: bindActionCreators(fastReportActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    imageActionsCreator: bindActionCreators(imageActions, dispatch),\r\n    fileActionsCreator: bindActionCreators(fileActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(FastReportDetail);","const style = (theme) => ({\r\n  content: {\r\n    marginTop: '65px',\r\n    '& .box-search': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n      '& .lb-search': {\r\n        width: '100px',\r\n        fontSize: '1rem',\r\n      },\r\n      '& .field-search': {\r\n        width: 'calc((100% - 100px) / 5)',\r\n        maxWidth: '300px',\r\n        paddingRight: '15px',\r\n        '& .multiple-select': {\r\n          backgroundColor: '#e7e7e7',\r\n          '& .lb-user': {\r\n            top: '-5px',\r\n            paddingLeft: '12px',\r\n            '&.Mui-focused, &.MuiFormLabel-filled': {\r\n              top: '10px'\r\n            }\r\n          },\r\n          '& .lb-user + .sl-user': {\r\n            marginTop: '24px'\r\n          },\r\n          '& .sl-user .MuiSelect-selectMenu': {\r\n            paddingLeft: '12px'\r\n          },\r\n          '& .sl-user.Mui-focused .MuiSelect-selectMenu': {\r\n            backgroundColor: '#e7e7e7',\r\n            paddingLeft: '12px'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        width: '100%',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        height: 'calc(100vh - 255px)',\r\n        overflowY: 'overlay !important',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      }\r\n    },\r\n    '& .lb-status': {\r\n      width: '160px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-start': {\r\n        backgroundColor: '#6c757d'\r\n      },\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-inprg-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-inprg-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-in-progress-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-complete': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-close': {\r\n        backgroundColor: '#000000'\r\n      }\r\n    }\r\n  },\r\n});\r\nexport default style;","import moment from 'moment';\r\nconst validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'WO',\r\n    'dateStart',\r\n    'dateStop'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (values[field] === null || values[field] === '' ) {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  if (values.timeStart && values.timeStop){\r\n    let timeStart = moment(values.timeStart, \"YYYY-MM-DD\")._d.valueOf()\r\n    let timeStop = moment(values.timeStop, \"YYYY-MM-DD\")._d.valueOf()\r\n    if (timeStop - timeStart < 0) {\r\n      errors.timeStop = 'Ngày kết thúc > Ngày bắt đầu';\r\n    }\r\n  }\r\n  return errors\r\n}\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n  modal: {\r\n    //top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    //position: 'absolute',\r\n    position: 'fixed',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n  TextField: {\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.color.primary,\r\n    color: theme.color.textColor,\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color: theme.color.textColor,\r\n    fontWeight: 700,\r\n    textTransform: 'capitalize',\r\n    fontFamily: 'Roboto'\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    witdth: '100%',\r\n  },\r\n  textField: {\r\n    width: \"100%\",\r\n  },\r\n  TextFieldCustomer: {\r\n    width: \"100%\",\r\n    margin: \"16px 0 8px\"\r\n  },\r\n  alert: {\r\n    display: 'flex',\r\n    margin: '10px',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n\r\nexport default styles;","import React, { Component } from 'react';\r\nimport { withStyles, Grid, Button, FormControl, InputLabel, Select } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as OrderActions from '../../actions/orderActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\nimport moment from 'moment';\r\nimport { ConsoleWriter } from 'istanbul-lib-report';\r\n\r\nclass OrderForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showSearch: true,\r\n      openSelectCustomer: false,\r\n      nameCustomer: '',\r\n      userIdSelect: '',\r\n      msgError: '',\r\n      workTypeSelected: '',\r\n    }\r\n  }\r\n  //@check login success adn error\r\n  componentDidUpdate(nextprops) {\r\n    const { msgError } = this.props;\r\n\r\n    // if (isAuthenticated !== nextprops.isAuthenticated) {\r\n    //   if (isAuthenticated) {\r\n    //     history.push('/admin/order');\r\n    //   }\r\n    // }\r\n    if (msgError !== nextprops.msgError) {\r\n      this.setState({\r\n        msgError\r\n      })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { customerActionCreator, orderEditting } = this.props;\r\n    this.setState({ workTypeSelected: orderEditting ? orderEditting.workType : 'PM' })\r\n    const { listAllCustomers } = customerActionCreator;\r\n    listAllCustomers();\r\n  }\r\n  handleSubmitForm = (data) => {\r\n    const { orderActionsCreator, orderEditting, user } = this.props;\r\n    const { workTypeSelected } = this.state;\r\n    const { addOrder, updateOrder } = orderActionsCreator;\r\n    const { WO, timeStart, timeStop, content, location, KKS } = data;\r\n    const newOrder = {\r\n      ...(orderEditting || {}),\r\n      WO,\r\n      workType: workTypeSelected || \"PM\",\r\n      timeStart,\r\n      timeStop,\r\n      location,\r\n      KKS,\r\n      userId: user._id,\r\n      status: 'START',\r\n      statusTool: 'START',\r\n      content: content || ''\r\n    }\r\n    console.log(this.state)\r\n    console.log(newOrder)\r\n    console.log(orderEditting)\r\n    if (orderEditting) {\r\n      newOrder.PCT = orderEditting.PCT\r\n      newOrder.toolId = orderEditting.toolId\r\n      newOrder.userId = orderEditting.userId\r\n      newOrder.status = orderEditting.status\r\n      newOrder.statusTool = orderEditting.statusTool\r\n      newOrder.workType = workTypeSelected\r\n      if (user.admin || newOrder.userId._id === user._id) {\r\n        updateOrder(newOrder);\r\n      }\r\n    } else {\r\n      newOrder.status = 'START'\r\n      newOrder.statusTool = 'START'\r\n      addOrder(newOrder);\r\n    }\r\n  };\r\n  handleChangeCustomer = (event) => {\r\n    const name = event.target.name;\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n  renderOrderFail = () => {\r\n    const { msgError } = this.state;\r\n    console.log(msgError);\r\n    let xhtml = null;\r\n    xhtml = msgError ? (<Alert variant=\"standard\" severity=\"error\">\r\n      {msgError}\r\n    </Alert>) : null\r\n    return xhtml;\r\n  }\r\n  setValueWorkType = (event) => {\r\n    console.log(event.target.value)\r\n    const { workTypeSelected } = this.state;\r\n    if (workTypeSelected + '' === event.target.value + '') {\r\n      console.log('sss')\r\n      return\r\n    } else {\r\n      this.setState({ workTypeSelected: event.target.value })\r\n      console.log('aaa')\r\n    }\r\n  }\r\n  render() {\r\n    var {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n      initialValues\r\n    } = this.props;\r\n    const { workTypeSelected } = this.state;\r\n    //console.log(orderEditting.workType)\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n        <Grid container className={classes.form}>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"WO\"\r\n              name=\"WO\"\r\n              label=\"Work Order\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12} xs={12}>\r\n            <FormControl fullWidth style={{ 'marginTop': '16px' }}>\r\n              <InputLabel htmlFor=\"workType\">Work Type</InputLabel>\r\n              <Select\r\n                fullWidth\r\n                native\r\n                value={workTypeSelected}\r\n                onChange={this.setValueWorkType}\r\n                inputProps={{\r\n                  name: \"workType\",\r\n                  id: \"workType\",\r\n                }}\r\n              >\r\n                <option value=\"CM\">Bất Thường</option>\r\n                <option value=\"PM\">Thường Xuyên</option>\r\n                <option value=\"A\">Tiểu Tu</option>\r\n                <option value=\"B\">Trung Tu</option>\r\n                <option value=\"C\">Đại Tu</option>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n\r\n\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"location\"\r\n              name=\"location\"\r\n              label=\"Địa điểm công tác\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"KKS\"\r\n              name=\"KKS\"\r\n              label=\"Hệ thống / KKS\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n            initialValues.WO ?\r\n              <Grid style={{ fontSize: \"16px\", paddingTop: \"16px\" }} item md={12}>\r\n                <label>PCT: {initialValues.PCT}</label>\r\n              </Grid>\r\n              : <></>\r\n          }\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"timeStart\"\r\n              name=\"timeStart\"\r\n              label={initialValues.WO == null ? \"Ngày bắt đầu dự kiến\" : \"Ngày bắt đầu thực tế\"}\r\n              type=\"date\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"timeStop\"\r\n              name=\"timeStop\"\r\n              label={initialValues.WO == null ? \"Ngày kết thúc dự kiến\" : \"Ngày kết thúc thực tế\"}\r\n              type=\"date\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"content\"\r\n              name=\"content\"\r\n              label=\"Nội dung công tác\"\r\n              multiline\r\n              rowsMax={4}\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n            // user && user.admin && !initialValues.WO ?\r\n            //   <Grid item md={12}>\r\n            //     <FormControl className={classes.TextFieldCustomer}>\r\n            //       <InputLabel htmlFor=\"age-native-simple\">Người dùng</InputLabel>\r\n            //       <Select\r\n            //         native\r\n            //         fullWidth\r\n            //         value={userIdSelect}\r\n            //         onChange={this.handleChangeCustomer}\r\n            //         inputProps={{\r\n            //           name: 'userIdSelect',\r\n            //           id: 'userId',\r\n            //         }}\r\n            //       >\r\n            //         <option aria-label=\"None\" value=\"\" />\r\n            //         {\r\n            //           customers.map((customer) => {\r\n            //             return <option key={customer._id} value={customer._id}>{customer.name}</option>\r\n            //           })\r\n            //         }\r\n            //       </Select>\r\n            //     </FormControl>\r\n            //   </Grid>\r\n            //   : <></>\r\n          }\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-end\"\r\n            alignItems=\"flex-end\"\r\n          >\r\n\r\n            {this.renderOrderFail()}\r\n\r\n            <Button onClick={hideModal}>Hủy</Button>\r\n            <Button disabled={invalid || submitting} type=\"submit\">\r\n              Lưu\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nOrderForm.propTypes = {\r\n  customerId: PropTypes.string,\r\n  product: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    orderEditting: state.orders.order,\r\n    initialValues: {\r\n      WO: state.orders.order ? state.orders.order.WO : null,\r\n      PCT: state.orders.order ? state.orders.order.PCT : null,\r\n      location: state.orders.order ? state.orders.order.location : null,\r\n      KKS: state.orders.order ? state.orders.order.KKS : null,\r\n      content: state.orders.order ? state.orders.order.content : '',\r\n      timeStart: state.orders.order ? moment(state.orders.order.timeStart).format('YYYY-MM-DD') : moment().format('YYYY-MM-DD'),\r\n      timeStop: state.orders.order ? moment(state.orders.order.timeStop).format('YYYY-MM-DD') : moment().format('YYYY-MM-DD')\r\n    },\r\n    customers: state.customers ? state.customers.customers : [],\r\n    user: state.auth.user,\r\n    msgError: state.error.msg\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    orderActionsCreator: bindActionCreators(OrderActions, dispatch),\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch)\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'ORDER_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(OrderForm);\r\n","import React, { Component, Fragment, } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as orderActions from '../../actions/orderActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport OrderForm from '../OrderForm';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, InputLabel, Select, MenuItem, Input } from '@material-ui/core';\r\nimport { DeleteForever, Edit, Visibility, Lock } from '@material-ui/icons';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DataTable from 'react-data-table-component';\r\nimport moment from 'moment';\r\nimport { popupConfirm } from '../../actions/ui';\r\n\r\nclass Orders extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      pagination: {\r\n        page: 1,\r\n        rowPerPage: 20,\r\n        rowPerPageOption: [10, 20, 50]\r\n      },\r\n      redirect: false,\r\n      idRedirect: '',\r\n      dataSearch: {\r\n        WO: '',\r\n        PCT: '',\r\n        userId: [],\r\n        status: 'ALL',\r\n        workType: 'ALL'\r\n      },\r\n      columnsGrid: [\r\n        {\r\n          name: '', width: '100px', center: true,\r\n          cell: (params) => {\r\n            let { user } = this.props;\r\n            let data = JSON.parse(JSON.stringify(params));\r\n            let checkUser = (user.admin || user._id === params.userId._id);\r\n\r\n\r\n            //console.log(user)\r\n            return <>\r\n              <Fab\r\n                color=\"default\"\r\n                aria-label=\"Xem Chi Tiết\"\r\n                size='small'\r\n                onClick={() => {\r\n                  this.onClickView(data._id)\r\n                }}\r\n              >\r\n                <Visibility color=\"primary\" />\r\n              </Fab>\r\n              {\r\n                checkUser ?\r\n                  <>\r\n                    &nbsp;&nbsp;\r\n                    <Fab\r\n                      color=\"default\"\r\n                      aria-label=\"Sửa WO\"\r\n                      size='small'\r\n                      onClick={() => {\r\n                        this.onClickEdit(data)\r\n                      }}\r\n                    >\r\n                      <Edit color=\"primary\" />\r\n                    </Fab>\r\n                    &nbsp;&nbsp;\r\n\r\n                    {/* <Fab\r\n                    color=\"default\"\r\n                    aria-label=\"Xóa WO\"\r\n                    size='small'\r\n                    onClick={() => {\r\n                      this.onClickDelete(data)\r\n                    }}\r\n                    >\r\n                    <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                  </Fab> */}\r\n                  </> : <></>\r\n              }\r\n            </>\r\n          }\r\n        },\r\n        { selector: 'WO', name: 'Work Order', width: '120px', sortable: true, center: true },\r\n\r\n        { selector: 'PCT', name: 'PCT', width: '120px', sortable: true, center: true },\r\n        { selector: 'userId.name', name: 'Tạo bởi', width: '180px', sortable: true },\r\n        {\r\n          selector: 'workType', name: 'Work Type', width: '120px', sortable: true, center: true,\r\n          cell: (param) => {\r\n            let workTypeLong;\r\n            if (param.workType == 'PM') workTypeLong = 'Thường Xuyên'\r\n            else if (param.workType == 'CM') workTypeLong = \"Bất Thường\"\r\n            else if (param.workType == 'A') workTypeLong = \"Tiểu Tu\"\r\n            else if (param.workType == 'B') workTypeLong = \"Trung Tu\"\r\n            else if (param.workType == 'C') workTypeLong = \"Đại Tu\"\r\n            return <>\r\n              < div className={'lb-status color-' + param.status.toLowerCase().split(' ').join('-')} >\r\n                {workTypeLong}\r\n              </div >\r\n            </>\r\n          }\r\n        },\r\n        {\r\n          selector: 'status', name: 'Trạng thái', width: '160px', sortable: true, center: true,\r\n          cell: (param) => {\r\n            let { user } = this.props;\r\n            let checkPkt = (user.pkt);\r\n            return <>\r\n              <div className={'lb-status color-' + param.status.toLowerCase().split(' ').join('-')}>\r\n                {param.status}\r\n              </div>\r\n              {/* { checkPkt && param.status === \"COMPLETE\" ? <>&nbsp; \r\n              <Fab\r\n                color=\"default\"\r\n                aria-label=\"Đóng WO\"\r\n                size='small'\r\n                onClick={() => {\r\n                  this.onCloseWo(param)\r\n                }}\r\n              >\r\n                <Lock color=\"primary\" />\r\n              </Fab> </> : <></>} */}\r\n            </>\r\n          }\r\n        },\r\n        { selector: 'location', name: 'Địa điểm công tác', width: '150px' },\r\n        { selector: 'KKS', name: 'Hệ thống/KKS', width: '150px' },\r\n        { selector: 'content', name: 'Nội dung công tác', width: '500px' },\r\n        {\r\n          selector: 'timeStart', name: 'Ngày bắt đầu', width: '130px', sortable: true, center: true,\r\n          cell: (params) => moment(params.timeStart).format('DD/MM/YYYY')\r\n        },\r\n        {\r\n          selector: 'timeStop', name: 'Ngày kết thúc', width: '130px', sortable: true, center: true,\r\n          cell: (params) => moment(params.timeStop).format('DD/MM/YYYY')\r\n        },\r\n\r\n        { selector: 'userId.department', name: 'Phân xưởng', width: '150px', sortable: true },\r\n      ]\r\n    }\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect && this.state.idRedirect) {\r\n      let tool = '/admin/order-detail/' + this.state.idRedirect;\r\n      return <Redirect to={tool} />\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { orderActionCreator, customerActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchOrder } = orderActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    let params = JSON.parse(JSON.stringify(dataSearch));\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    searchOrder(params);\r\n    listAllCustomers();\r\n  }\r\n  onClickDelete = (order) => {\r\n    let { user } = this.props;\r\n    const { dataSearch } = this.state;\r\n    if (!user.admin && user._id !== order.userId._id) return;\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn xóa Work Order này?\",\r\n      ifOk: () => {\r\n        const { orderActionCreator } = self.props;\r\n        const { deleteOrder } = orderActionCreator;\r\n        let params = JSON.parse(JSON.stringify(dataSearch))\r\n        deleteOrder(order, params);\r\n      }\r\n    })\r\n  }\r\n  onClickView = (idRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      idRedirect\r\n    })\r\n  };\r\n  onCloseWo = (data) => {\r\n    const { orderActionCreator, user } = this.props;\r\n    const { updateOrder } = orderActionCreator;\r\n    const newOrder = JSON.parse(JSON.stringify(data));\r\n    switch (newOrder.status) {\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          newOrder.status = 'CLOSE'\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    updateOrder(newOrder);\r\n  };\r\n  onClickEdit = (data) => {\r\n    const { orderActionCreator, modalActionsCreator, user } = this.props;\r\n    const { setOrderEditing } = orderActionCreator;\r\n    if (!user.admin && user._id !== data.userId._id) return;\r\n    setOrderEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Work Order');\r\n    changeModalContent(<OrderForm />);\r\n  }\r\n  handleSearch = (event) => {\r\n    const { orderActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchOrder } = orderActionCreator;\r\n    let search = {\r\n      ...dataSearch,\r\n      skip: 0,\r\n      limit: pagination.rowPerPage,\r\n      [event.target.name]: event.target.value\r\n    }\r\n    console.log(search)\r\n    this.setState({ dataSearch: search });\r\n    searchOrder(search);\r\n  }\r\n  handleChangePage = (page, total) => {\r\n    const { orderActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchOrder } = orderActionCreator;\r\n    pagination.page = page;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchOrder(params);\r\n  }\r\n  handleChangeRowsPerPage = (rowPerPage, total) => {\r\n    const { orderActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchOrder } = orderActionCreator;\r\n    pagination.rowPerPage = rowPerPage;\r\n    pagination.page = 1;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchOrder(params);\r\n  }\r\n\r\n  render() {\r\n    const { orders, customers, ordersTotal, classes } = this.props;\r\n    const { columnsGrid, pagination, dataSearch } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.content}>\r\n          <div className=\"box-search\">\r\n            <div className=\"lb-search\">Search</div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_WO\"\r\n                name=\"wo\"\r\n                label=\"Work Order\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_pct\"\r\n                name=\"pct\"\r\n                label=\"PCT\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth className=\"multiple-select\">\r\n                <InputLabel className=\"lb-user\" id=\"lb-user\">Tạo bởi</InputLabel>\r\n                <Select\r\n                  labelId=\"lb-user\"\r\n                  id=\"user-id\"\r\n                  className=\"sl-user\"\r\n                  multiple\r\n                  value={dataSearch.userId}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'userId',\r\n                    id: 'userId',\r\n                  }}\r\n                  input={<Input />}\r\n                >\r\n                  {customers && customers.map((c) => (\r\n                    <MenuItem key={c._id} value={c._id}>\r\n                      {c.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_content\"\r\n                name=\"content\"\r\n                label=\"Nội dung công tác\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth variant=\"filled\">\r\n                <InputLabel htmlFor=\"status\">Trạng thái</InputLabel>\r\n                <Select\r\n                  fullWidth\r\n                  native\r\n                  value={dataSearch.status}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'status',\r\n                    id: 'status',\r\n                  }}\r\n                >\r\n                  <option value=\"ALL\">Tất cả</option>\r\n                  <option value=\"START\">START</option>\r\n                  <option value=\"READY\">READY</option>\r\n                  <option value=\"IN PROGRESS\">IN PROGRESS</option>\r\n                  <option value=\"INPRG NO TOOL\">INPRG NO TOOL</option>\r\n                  <option value=\"INPRG HAVE TOOL\">INPRG HAVE TOOL</option>\r\n                  <option value=\"COMPLETE\">COMPLETE</option>\r\n                  <option value=\"CLOSE\">CLOSE</option>\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth variant=\"filled\">\r\n                <InputLabel htmlFor=\"workType\">Work Type</InputLabel>\r\n                <Select\r\n                  fullWidth\r\n                  native\r\n                  value={dataSearch.workType}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'workType',\r\n                    id: 'workType',\r\n                  }}\r\n                >\r\n                  <option value=\"ALL\">Tất cả</option>\r\n                  <option value=\"CM\">Bất Thường</option>\r\n                  <option value=\"PM\">Thường Xuyên</option>\r\n                  <option value=\"A\">Tiểu Tu</option>\r\n                  <option value=\"B\">Trung Tu</option>\r\n                  <option value=\"C\">Đại Tu</option>\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n          </div>\r\n          <Grid className={classes.dataTable}>\r\n            <DataTable\r\n              noHeader={true}\r\n              keyField={'_id'}\r\n              columns={columnsGrid}\r\n              data={this.genData(orders)}\r\n              striped={true}\r\n              pagination\r\n              paginationServer\r\n              paginationDefaultPage={pagination.page}\r\n              paginationPerPage={pagination.rowPerPage}\r\n              paginationRowsPerPageOptions={pagination.rowPerPageOption}\r\n              paginationTotalRows={ordersTotal}\r\n              onChangePage={this.handleChangePage}\r\n              onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n            />\r\n          </Grid>\r\n          {this.renderRedirect()}\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  genData = (orders) => {\r\n    let { user } = this.props;\r\n    if (!user) return [];\r\n    return orders.filter(order => order.userId)\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    orders: state.orders.orders,\r\n    ordersTotal: state.orders.total,\r\n    user: state.auth.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    orderActionCreator: bindActionCreators(orderActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(Orders);","const style = (theme) => ({\r\n  containerPanel: {\r\n    marginTop: '65px',\r\n    '& .hide' : {\r\n      display: 'none !important'\r\n    },\r\n    '& .box-panel': {\r\n      display: 'flex',\r\n      '& .block': {\r\n        padding: '15px',\r\n        background: '#fff',\r\n        boxShadow: '0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)',\r\n        height: '100%',\r\n        fontSize: '1rem',\r\n        '& .info-wo': {\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          margin: '0 -15px',\r\n          '& .col-wo-50': {\r\n            width: '50%',\r\n            padding: '0 15px'\r\n          },\r\n          '& .col-wo-100': {\r\n            width: '100%',\r\n            padding: '0 15px'\r\n          }\r\n        },\r\n        '& .image-gallery': {\r\n          '& .image-gallery-image': {\r\n            height: 'calc(100vh - 280px)'\r\n          }\r\n        }\r\n      },\r\n      '& .customer-field': {\r\n        fontSize: '1rem',\r\n        marginTop: '10px'\r\n      },\r\n      '& .header-action': {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n      },\r\n      '& .left-panel': {\r\n        width: '50%',\r\n        marginLeft: '25%',\r\n        transition: 'all 1s ease-in-out',\r\n        '& .field': {\r\n          margin: '10px 0'\r\n        }\r\n      },\r\n      '& .right-panel': {\r\n        width: '50%',\r\n        display: 'none',\r\n      },\r\n      '&.show-right-panel': {\r\n        '& .left-panel': {\r\n          marginLeft: '0',\r\n          paddingRight: '10px'\r\n        },\r\n        '& .right-panel': {\r\n          display: 'block',\r\n          paddingLeft: '10px'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        height: 'calc(100vh - 590px)',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        overflowY: 'overlay !important',\r\n        minHeight: '200px',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      },\r\n    \r\n    },\r\n    '& .lb-status': {\r\n      width: '90px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-in-use': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-bad': {\r\n        backgroundColor: '#dc3545'\r\n      },\r\n      '&.color-lost': {\r\n        backgroundColor: '#343a40'\r\n      }\r\n    },\r\n  },\r\n  gridList: {\r\n    flexWrap: 'nowrap',\r\n    transform: 'translateZ(0)',\r\n  },\r\n  boxActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    margin: '10px 0'\r\n  },\r\n  maskLoading: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: 'calc(100% - 64px)',\r\n    top: '0',\r\n    left: '0',\r\n    backgroundColor: 'rgba(0,0,0,0.3)',\r\n    zIndex: 1\r\n  }\r\n});\r\nexport default style;","import React, { Component, Fragment, } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as orderActions from '../../actions/orderActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as toolActions from '../../actions/toolActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport * as FastReportActions from '../../actions/fastReportActions';\r\n\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, Button, Table } from '@material-ui/core';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { DeleteForever, ArrowBackIos, Edit, KeyboardReturn, Add } from '@material-ui/icons';\r\nimport DataTable from 'react-data-table-component';\r\nimport { API_ENDPOINT as URL } from '../../constants';\r\nimport OrderForm from '../OrderForm';\r\nimport moment from 'moment';\r\nimport { popupConfirm, popupConfirmYesNo } from '../../actions/ui';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport { Multiselect } from 'multiselect-react-dropdown';\r\nimport { AlignmentType, Document, BorderStyle, HeadingLevel, Packer, Paragraph, TabStopPosition, TabStopType, TextRun, Table as TableD, TableCell as TableCellD, TableRow as TableRowD, WidthType, convertInchesToTwip } from 'docx';\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\n\r\nconst PHONE_NUMBER = \"02903 650140\";\r\nconst PROFILE_URL = \"https://www.pvps.vn\";\r\nconst EMAIL = \"info@pvps.vn\";\r\n\r\n\r\nclass DocumentCreator {\r\n  create([employees, workOrderInfo, listTool]) {\r\n    const document = new Document();\r\n\r\n    document.addSection({\r\n      children: [\r\n        new Paragraph({\r\n          text: \"BIÊN BẢN BÀN GIAO CÔNG CỤ DỤNG CỤ\",\r\n          heading: HeadingLevel.HEADING_1,\r\n          alignment: AlignmentType.CENTER\r\n        }),\r\n        this.createContactInfo(PHONE_NUMBER, PROFILE_URL, EMAIL),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeading(\"Thông tin Work Order:\"),\r\n        ...workOrderInfo\r\n          .map((wo) => {\r\n            const arr = [];\r\n            arr.push(\r\n              this.createInstitutionHeader(`WO: ${wo.WO}`, `PCT: ${wo.PCT}`),\r\n            );\r\n            arr.push(this.createRoleText(`Chỉ huy trực tiếp: ${wo.CHTT}`));\r\n            return arr;\r\n          })\r\n          .reduce((prev, curr) => prev.concat(curr), []),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeading(\"Nhân viên nhóm công tác\"),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeaderTableNV(\"STT\", \"HỌ VÀ TÊN\"),\r\n\r\n        ...employees\r\n          .map((nv) => {\r\n            const arr = [];\r\n            arr.push(this.createContentTableNV(nv));\r\n            return arr;\r\n          })\r\n          .reduce((prev, curr) => prev.concat(curr), []),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeading(\"Danh sách Công cụ dụng cụ mượn\"),\r\n        new Paragraph(\"\\n\"),\r\n        this.createHeaderTable(\"STT\", \"TÊN CÔNG CỤ\", \"SỐ LƯỢNG\"),\r\n\r\n        ...listTool\r\n          .map((tool) => {\r\n            const arr = [];\r\n            arr.push(this.createContentTableTool(tool));\r\n            return arr;\r\n          }).reduce((prev, curr) => prev.concat(curr), []),\r\n        new Paragraph(\"\\n\"), new Paragraph(\"\\n\"), new Paragraph(\"\\n\"),\r\n        //this.createInstitutionHeader(\"\", \"Ngày....tháng....năm.......\"),\r\n        this.createInstitutionHeader(\"Bên Giao\", \"Bên nhận\"),\r\n\r\n        // this.createSubHeading(\"Skills\"),\r\n        // this.createSkillList(skills),\r\n        // this.createSubHeading(\"Achievements\"),\r\n        // ...this.createAchivementsList(achivements),\r\n        // this.createSubHeading(\"Interests\"),\r\n        // this.createInterests(\"Programming, Technology, Music Production, Web Design, 3D Modelling, Dancing.\"),\r\n        // this.createHeading(\"References\"),\r\n        // new Paragraph(\r\n        //   \"Dr. Dean Mohamedally Director of Postgraduate Studies Department of Computer Science, University College London Malet Place, Bloomsbury, London WC1E d.mohamedally@ucl.ac.uk\",\r\n        // ),\r\n        // new Paragraph(\"More references upon request\"),\r\n        // new Paragraph({\r\n        //   text: \"This CV was generated in real-time based on my Linked-In profile from my personal website www.dolan.bio.\",\r\n        //   alignment: AlignmentType.CENTER,\r\n        // }),\r\n      ],\r\n    });\r\n\r\n    return document;\r\n  }\r\n\r\n  createContactInfo(phoneNumber, profileUrl, email) {\r\n    return new Paragraph({\r\n      alignment: AlignmentType.CENTER,\r\n      children: [\r\n        new TextRun(`Phone: ${phoneNumber} | Website: ${profileUrl} | Email: ${email}`),\r\n        new TextRun(\"Address: Khanh An commune, U Minh dis., Ca Mau province \").break(),\r\n      ],\r\n    });\r\n  }\r\n\r\n  createHeading(text) {\r\n    return new Paragraph({\r\n      text: text,\r\n      heading: HeadingLevel.HEADING_3,\r\n      thematicBreak: true,\r\n    });\r\n  }\r\n\r\n  createSubHeading(text) {\r\n    return new Paragraph({\r\n      text: text,\r\n      heading: HeadingLevel.HEADING_2,\r\n    });\r\n  }\r\n\r\n  createInstitutionHeader(institutionName, dateText) {\r\n    return new Paragraph({\r\n      tabStops: [\r\n        {\r\n          type: TabStopType.RIGHT,\r\n          position: TabStopPosition.MAX,\r\n        },\r\n      ],\r\n      children: [\r\n        new TextRun({\r\n          text: institutionName,\r\n          bold: true,\r\n        }),\r\n        new TextRun({\r\n          text: `\\t${dateText}`,\r\n          bold: true,\r\n        }),\r\n      ],\r\n    });\r\n  }\r\n\r\n  createRoleText(roleText) {\r\n    return new Paragraph({\r\n      children: [\r\n        new TextRun({\r\n          text: roleText,\r\n          italics: true,\r\n        }),\r\n      ],\r\n    });\r\n  }\r\n\r\n  createBullet(text) {\r\n    return new Paragraph({\r\n      text: text,\r\n      bullet: {\r\n        level: 0,\r\n      },\r\n    });\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  createSkillList(skills) {\r\n    return new Paragraph({\r\n      children: [new TextRun(skills.map((skill) => skill.name).join(\", \") + \".\")],\r\n    });\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  createAchivementsList(achivements) {\r\n    return achivements.map(\r\n      (achievement) =>\r\n        new Paragraph({\r\n          text: achievement.name,\r\n          bullet: {\r\n            level: 0,\r\n          },\r\n        }),\r\n    );\r\n  }\r\n\r\n  createInterests(interests) {\r\n    return new Paragraph({\r\n      children: [new TextRun(interests)],\r\n    });\r\n  }\r\n\r\n  splitParagraphIntoBullets(text) {\r\n    return text.split(\"\\n\\n\");\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  createPositionDateText(startDate, endDate, isCurrent) {\r\n    const startDateText = this.getMonthFromInt(startDate.month) + \". \" + startDate.year;\r\n    const endDateText = isCurrent ? \"Present\" : `${this.getMonthFromInt(endDate.month)}. ${endDate.year}`;\r\n\r\n    return `${startDateText} - ${endDateText}`;\r\n  }\r\n  createTableCell(data) {\r\n    return new TableCellD({\r\n      children: [new Paragraph({\r\n        text: data,\r\n        alignment: AlignmentType.CENTER\r\n      })]\r\n    })\r\n  }\r\n  createTableRowTool(data) {\r\n    return new TableRowD({\r\n      children: [\r\n        this.createTableCell(String(data.stt)),\r\n        this.createTableCell(data.name),\r\n        this.createTableCell(String(data.quantity)),\r\n      ],\r\n    })\r\n  }\r\n  createTableRowNV(data) {\r\n    return new TableRowD({\r\n      children: [\r\n        this.createTableCell(String(data.stt)),\r\n        this.createTableCell(data.name),\r\n      ],\r\n    })\r\n  }\r\n\r\n  createContentTableTool(data) {\r\n    return new TableD({\r\n      rows: [\r\n        this.createTableRowTool(data)\r\n      ],\r\n      width: {\r\n        size: 200,\r\n        type: WidthType.AUTO,\r\n      },\r\n      columnWidths: [10, 10, 10],\r\n    });\r\n  }\r\n  createContentTableNV(data) {\r\n    return new TableD({\r\n      rows: [\r\n        this.createTableRowNV(data)\r\n      ],\r\n      width: {\r\n        size: 200,\r\n        type: WidthType.AUTO,\r\n      },\r\n      columnWidths: [10, 10, 10],\r\n    });\r\n  }\r\n  createHeaderTable(firstCol, secondCol, thirCol) {\r\n    return new TableD({\r\n\r\n      rows: [\r\n        new TableRowD({\r\n          tableHeader: true,\r\n          children: [\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${firstCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            }),\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${secondCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            }),\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${thirCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            })\r\n          ],\r\n        })\r\n      ],\r\n      width: {\r\n        size: 200,\r\n        type: WidthType.AUTO,\r\n      },\r\n      columnWidths: [10, 10, 10],\r\n    });\r\n  }\r\n  createHeaderTableNV(firstCol, secondCol) {\r\n    return new TableD({\r\n\r\n      rows: [\r\n        new TableRowD({\r\n          tableHeader: true,\r\n          children: [\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${firstCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            }),\r\n            new TableCellD({\r\n              children: [new Paragraph({\r\n                alignment: AlignmentType.CENTER,\r\n                children: [new TextRun({\r\n                  text: `${secondCol}`,\r\n                  bold: true,\r\n                  size: 16\r\n                })]\r\n              })], columnSpan: 1,\r\n            }),\r\n          ],\r\n        })\r\n      ],\r\n      width: {\r\n        size: 200,\r\n        type: WidthType.AUTO,\r\n      },\r\n      columnWidths: [10, 10, 10],\r\n    });\r\n  }\r\n  getMonthFromInt(value) {\r\n    switch (value) {\r\n      case 1:\r\n        return \"Jan\";\r\n      case 2:\r\n        return \"Feb\";\r\n      case 3:\r\n        return \"Mar\";\r\n      case 4:\r\n        return \"Apr\";\r\n      case 5:\r\n        return \"May\";\r\n      case 6:\r\n        return \"Jun\";\r\n      case 7:\r\n        return \"Jul\";\r\n      case 8:\r\n        return \"Aug\";\r\n      case 9:\r\n        return \"Sept\";\r\n      case 10:\r\n        return \"Oct\";\r\n      case 11:\r\n        return \"Nov\";\r\n      case 12:\r\n        return \"Dec\";\r\n      default:\r\n        return \"N/A\";\r\n    }\r\n  }\r\n}\r\n\r\nclass OrderDetail extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showRightPanel: false,\r\n      redirect: false,\r\n      urlRedirect: '',\r\n      currentIdTool: {},\r\n      isChange: false,\r\n      orderAction: true,\r\n      columnsGrid: [\r\n        { selector: 'name', name: 'Tên công cụ', width: '100% - 300px', sortable: true },\r\n        {\r\n          selector: 'status', name: 'Trạng thái', width: '130px', sortable: true,\r\n          cell: (param) => {\r\n            let { order } = this.props;\r\n            //if (!order.isAction) return <></>\r\n            let status = 'READY'\r\n            let className = 'ready'\r\n            switch (param.status + \"\") {\r\n              case \"1\":\r\n                status = 'RETURNED';\r\n                className = 'ready';\r\n                break;\r\n              case \"2\":\r\n                status = 'IN USE';\r\n                className = 'in-use';\r\n                break;\r\n              case \"3\":\r\n                status = 'BAD'\r\n                className = 'bad';\r\n                break;\r\n              case \"4\":\r\n                status = 'LOST';\r\n                className = 'lost';\r\n                break;\r\n              default:\r\n                status = 'READY'\r\n                break;\r\n            }\r\n            return <div className={'lb-status color-' + className}>{status}</div>;\r\n          }\r\n        },\r\n        // { selector: 'type', name: 'Loại', width: 'calc((100% - 100px) / 3)', sortable: true },\r\n        {\r\n          name: 'Hành động', width: '100px',\r\n          cell: (params) => {\r\n            let { order } = this.props;\r\n            console.log(order)\r\n\r\n            if (!order.isAction) return <></>\r\n            let data = JSON.parse(JSON.stringify(params))\r\n            console.log(data)\r\n            if (order.status === \"START\") {\r\n              return <>\r\n                <Fab\r\n                  color=\"default\"\r\n                  aria-label=\"Remove\"\r\n                  size='small'\r\n                  onClick={() => {\r\n                    this.onClickRemoveTool(data)\r\n                  }}\r\n                >\r\n                  <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                </Fab>\r\n              </>\r\n            }\r\n            if (order.status === \"READY\" || order.status === \"INPRG HAVE TOOL\") {\r\n              if (data.status === 1) {\r\n                return <>\r\n                  <Fab\r\n                    color=\"default\"\r\n                    aria-label=\"Return\"\r\n                    size='small'\r\n                    onClick={() => {\r\n                      this.onClickAddToolInList(data)\r\n                    }}\r\n                  >\r\n                    <Add color=\"primary\" fontSize=\"small\" />\r\n                  </Fab>\r\n                  &nbsp;\r\n                  <Fab\r\n                    color=\"default\"\r\n                    aria-label=\"Remove\"\r\n                    size='small'\r\n                    onClick={() => {\r\n                      this.onClickRemoveTool(data)\r\n                    }}\r\n                  >\r\n                    <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                  </Fab>\r\n                </>\r\n              }\r\n              if (data.status === 2) {\r\n                return <>\r\n                  <Fab\r\n                    color=\"default\"\r\n                    aria-label=\"Return\"\r\n                    size='small'\r\n                    onClick={() => {\r\n                      this.onClickReturnTool(data)\r\n                    }}\r\n                  >\r\n                    <KeyboardReturn fontSize=\"small\" />\r\n                  </Fab>\r\n                  &nbsp;\r\n                  <Fab\r\n                    color=\"default\"\r\n                    aria-label=\"Remove\"\r\n                    size='small'\r\n                    onClick={() => {\r\n                      this.onClickRemoveTool(data)\r\n                    }}\r\n                  >\r\n                    <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                  </Fab>\r\n                </>\r\n              }\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      columnsGridComplete: [\r\n        { selector: 'name', name: 'Tên công cụ', width: '100% - 300px', sortable: true },\r\n        // { selector: 'type', name: 'Loại', width: 'calc((100% - 100px) / 3)', sortable: true },\r\n      ]\r\n    }\r\n  }\r\n\r\n  generateDox = () => {\r\n    const { order } = this.props;\r\n    const nv = order.NV;\r\n    const employees = [];\r\n    var index = 1;\r\n    nv.forEach(element => {\r\n      employees.push({\r\n        stt: index++,\r\n        name: element.name\r\n      })\r\n    });\r\n    const tool = order.toolId;\r\n    let toolName = [];\r\n    tool.forEach(element => { toolName.push(element.name) });\r\n    let sortToolName = toolName.sort();\r\n    console.log(sortToolName);\r\n\r\n    const listTool = [];\r\n    var indexT = 1;\r\n    let elementCurrent = '';\r\n    let quantity = 0;\r\n\r\n    for (let i = 0; i < sortToolName.length; i++) {\r\n      if (sortToolName[i] !== elementCurrent) {\r\n        if (quantity > 0) {\r\n          listTool.push({\r\n            stt: indexT++,\r\n            name: elementCurrent,\r\n            quantity: quantity\r\n          });\r\n        }\r\n        elementCurrent = sortToolName[i];\r\n        quantity = 1;\r\n      } else {\r\n        quantity++;\r\n      }\r\n    }\r\n    if (quantity > 0) {\r\n      listTool.push({\r\n        stt: indexT++,\r\n        name: elementCurrent,\r\n        quantity: quantity\r\n      });\r\n    }\r\n    const workOrderInfo = [\r\n      {\r\n        WO: order.WO,\r\n        PCT: order.PCT,\r\n        CHTT: order.userId.name,\r\n      },\r\n    ];\r\n    const documentCreator = new DocumentCreator();\r\n    const doc = documentCreator.create([\r\n      employees,\r\n      workOrderInfo,\r\n      listTool\r\n    ]);\r\n\r\n    Packer.toBlob(doc).then(blob => {\r\n      //console.log(blob);\r\n      saveAs(blob, `${order.WO} ` + \"_\" + `${order.userId.name}` + \".docx\");\r\n      //console.log(\"Document created successfully\");\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { orderActionCreator, customerActionCreator, match: { params }, order } = this.props;\r\n    const { getIdOrder } = orderActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    getIdOrder(params.orderId);\r\n    listAllCustomers();\r\n  }\r\n  onClickShowTool = (data) => {\r\n    if (data._id === this.state.currentIdTool._id) {\r\n      this.setState({ showRightPanel: false, currentIdTool: {} });\r\n    } else {\r\n      this.setState({ showRightPanel: true, currentIdTool: data })\r\n    }\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.urlRedirect} />\r\n    }\r\n  }\r\n  onClickAddTool = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickGotoList = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickRemoveTool = (data) => {\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn bỏ công cụ này?\",\r\n      ifOk: () => {\r\n        const { orderActionCreator, toolActionCreator, order } = self.props;\r\n        const { currentIdTool } = self.state;\r\n        const { updateOrder } = orderActionCreator;\r\n        const { updateTool } = toolActionCreator;\r\n        const newOrder = JSON.parse(JSON.stringify(order));\r\n        const newTool = JSON.parse(JSON.stringify(data));\r\n        let indexTool = newOrder.toolId.findIndex(function (item, i) {\r\n          return item._id === data._id\r\n        });\r\n        //let indexTool = newOrder.toolId.indexOf(data._id);\r\n        newOrder.toolId.splice(indexTool, 1);\r\n        newTool.wo = \"\";\r\n        newTool.status = 1;\r\n        if (currentIdTool._id === data._id) {\r\n          self.setState({ currentIdTool: {} });\r\n        }\r\n        updateOrder(newOrder);\r\n        updateTool(newTool);\r\n      }\r\n    })\r\n  }\r\n  onClickReturnTool = (data) => {\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Trả tool',\r\n      html: \"Bạn muốn trả công cụ này về kho?\",\r\n      ifOk: () => {\r\n        const { orderActionCreator, toolActionCreator, order } = self.props;\r\n        const { currentIdTool } = self.state;\r\n        const { updateOrder } = orderActionCreator;\r\n        const { updateTool } = toolActionCreator;\r\n        const newOrder = JSON.parse(JSON.stringify(order));\r\n        const newTool = JSON.parse(JSON.stringify(data));\r\n        let indexTool = newOrder.toolId.findIndex(function (item, i) {\r\n          return item._id === data._id\r\n        });\r\n        newTool.wo = \"\";\r\n        newTool.status = 1;\r\n        newOrder.toolId[indexTool].status = newTool.status;\r\n        if (currentIdTool._id === data._id) {\r\n          self.setState({ currentIdTool: {} });\r\n        }\r\n        updateOrder(newOrder);\r\n        updateTool(newTool);\r\n      }\r\n    })\r\n  }\r\n  onClickAddToolInList = (data) => {\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Mượn tool lại',\r\n      html: \"Bạn muốn mượn lại công cụ này không?\",\r\n      ifOk: () => {\r\n        const { orderActionCreator, toolActionCreator, order } = self.props;\r\n        const { currentIdTool } = self.state;\r\n        const { updateOrder } = orderActionCreator;\r\n        const { updateTool } = toolActionCreator;\r\n        const newOrder = JSON.parse(JSON.stringify(order));\r\n        const newTool = JSON.parse(JSON.stringify(data));\r\n        let indexTool = newOrder.toolId.findIndex(function (item, i) {\r\n          return item._id === data._id\r\n        });\r\n        newTool.wo = newOrder.WO;\r\n        newTool.status = 2;\r\n        newOrder.toolId[indexTool].status = newTool.status;\r\n        if (currentIdTool._id === data._id) {\r\n          self.setState({ currentIdTool: {} });\r\n        }\r\n        updateOrder(newOrder);\r\n        updateTool(newTool);\r\n      }\r\n    })\r\n  }\r\n  onClickEdit = (data) => {\r\n    const { orderActionCreator, modalActionsCreator } = this.props;\r\n    const { setOrderEditing } = orderActionCreator;\r\n    setOrderEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Work Order');\r\n    changeModalContent(<OrderForm />);\r\n  }\r\n  onClickCreateFastReport = (data) => {\r\n    console.log(data)\r\n    const { fastReportActionsCreator, fastReportEditting, user, images, orderActionCreator, orderEditting } = this.props;\r\n    const { updateOrder } = orderActionCreator;\r\n\r\n    const { addFastReport, updateFastReport } = fastReportActionsCreator;\r\n    const { WO, timeStart, timeStop, content, location, KKS, userId, workType } = data;\r\n    const id = userId._id\r\n    console.log(id)\r\n\r\n    const newFastReport = {\r\n      WO,\r\n      timeStart,\r\n      timeStop,\r\n      location,\r\n      KKS,\r\n      userId: id,\r\n      content: content || '',\r\n      error: \"\",\r\n      result: \"\",\r\n      employ: \"\",\r\n      time: \"\",\r\n      images: [],\r\n    }\r\n    // console.log(data)\r\n    // console.log(newFastReport)\r\n    // console.log(fastReportEditting)\r\n    if (fastReportEditting) {\r\n      // newFastReport.PCT = fastReportEditting.PCT\r\n      newFastReport.toolId = fastReportEditting.toolId\r\n      newFastReport.userId = fastReportEditting.userId\r\n      newFastReport.status = fastReportEditting.status\r\n      newFastReport.statusTool = fastReportEditting.statusTool\r\n      if (user.admin || newFastReport.userId._id === user._id) {\r\n        updateFastReport(newFastReport);\r\n      }\r\n    } else {\r\n      newFastReport.status = 'START'\r\n      newFastReport.statusTool = 'START'\r\n      addFastReport(newFastReport);\r\n      // }\r\n    }\r\n    const newOrder = {\r\n      ...(orderEditting || {}),\r\n      WO,\r\n      workType,\r\n      timeStart,\r\n      timeStop,\r\n      location,\r\n      KKS,\r\n      userId: user._id,\r\n      status: 'START',\r\n      statusTool: 'START',\r\n      content: content || ''\r\n    }\r\n    console.log(this.state)\r\n    console.log(newOrder)\r\n    console.log(orderEditting)\r\n    if (orderEditting) {\r\n      newOrder.PCT = orderEditting.PCT\r\n      newOrder.toolId = orderEditting.toolId\r\n      newOrder.userId = orderEditting.userId\r\n      newOrder.status = orderEditting.status\r\n      newOrder.statusTool = orderEditting.statusTool\r\n      newOrder.fastReport = true\r\n      if (user.admin || newOrder.userId._id === user._id) {\r\n        updateOrder(newOrder);\r\n      }\r\n    }\r\n    // else {\r\n    //   newOrder.status = 'START'\r\n    //   newOrder.statusTool = 'START'\r\n    //   addOrder(newOrder);\r\n    // }\r\n  }\r\n  onClickVerify = (data) => {\r\n    const { orderActionCreator, user, order } = this.props;\r\n    const { updateOrder } = orderActionCreator;\r\n    const newOrder = JSON.parse(JSON.stringify(data));\r\n    const haveToolInList = data.toolId;\r\n    switch (newOrder.status) {\r\n      case 'START':\r\n        if (haveToolInList.length === 0) {\r\n          newOrder.status = 'INPRG NO TOOL'\r\n          newOrder.statusTool = \"INPRG NO TOOL\"\r\n        }\r\n        else {\r\n          newOrder.status = 'READY'\r\n          newOrder.statusTool = 'READY'\r\n        }\r\n        break;\r\n      case 'READY':\r\n        if (user.admin) {\r\n          newOrder.status = 'INPRG HAVE TOOL'\r\n          newOrder.statusTool = 'INPRG HAVE TOOL'\r\n        }\r\n        break;\r\n      case 'INPRG HAVE TOOL':\r\n        if (user.admin) {\r\n          newOrder.status = 'INPRG NO TOOL'\r\n          newOrder.statusTool = \"INPRG NO TOOL\"\r\n        }\r\n        break;\r\n      case 'INPRG NO TOOL':\r\n        let self = this\r\n        popupConfirmYesNo({\r\n          title: 'Thông báo',\r\n          html: \"Bạn vui lòng kiểm tra lại ngày kết thúc theo phiếu công tác, nếu đúng nhấn 'Đúng', nếu sai chọn 'Sai' \",\r\n          ifOk: () => {\r\n            const { order } = self.props;\r\n            const newOrder = JSON.parse(JSON.stringify(order));\r\n            newOrder.status = 'COMPLETE'\r\n            newOrder.statusTool = \"COMPLETE\"\r\n            updateOrder(newOrder);\r\n          },\r\n          ifCancel: () => {\r\n            this.onClickEdit(order)\r\n          }\r\n        })\r\n        break;\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          newOrder.status = 'CLOSE'\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    updateOrder(newOrder);\r\n  };\r\n  groupButtonActions = () => {\r\n    const { order, user, orderActionCreator } = this.props\r\n    const { updateOrder } = orderActionCreator;\r\n    const newOrder = JSON.parse(JSON.stringify(order));\r\n    let returnToolComplete = order.toolId.filter(tool => tool.status === 1)\r\n    let countToolId = order.toolId.length;\r\n    let haveTool = order.toolId;\r\n    let toolComplete;\r\n    if (returnToolComplete.length === countToolId) toolComplete = true;\r\n    else toolComplete = false;\r\n    if (!order.userId) return <></>;\r\n    else if (order.status === 'START' && user._id === order.userId._id && order.toolId.length === 0) {\r\n      return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(order) }}>Lấy PCT Không Tool</Button>;\r\n    }\r\n    switch (order.status) {\r\n      case 'START':\r\n        if (user._id !== order.userId._id) return <></>\r\n        return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(order) }}>Gửi Duyệt</Button>;\r\n      case 'READY':\r\n        if (user.admin) {\r\n          return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(order) }}>Duyệt</Button>;\r\n        } else {\r\n          return <></>;\r\n        }\r\n      case 'INPRG HAVE TOOL':\r\n        if (user.admin && toolComplete) {\r\n          return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(order) }}>Trả xong</Button>;\r\n        } else {\r\n          return <></>;\r\n        }\r\n      case 'INPRG NO TOOL':\r\n        if (toolComplete && user._id === order.userId._id) {\r\n          return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(order) }}>Hoàn Thành</Button>;\r\n        }\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          return <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickVerify(order) }}>Đóng WO</Button>;\r\n        }\r\n\r\n      default:\r\n        return <></>;\r\n    }\r\n  }\r\n  renderStatusText = (status) => {\r\n    const { user } = this.props\r\n    if (!user) return '';\r\n    switch (status) {\r\n      case 'READY':\r\n        return user.admin ? '' : ' - CHỜ DUYỆT'\r\n      case 'INPRG':\r\n        return user.admin ? '' : ' - ĐANG XỬ LÝ'\r\n      default:\r\n        return ''\r\n    }\r\n  }\r\n  classAddTool = (order) => {\r\n    const { user } = this.props\r\n    if (!order.userId) return 'hide';\r\n    if (!user.admin && (user._id !== order.userId._id || order.status !== 'START')) return 'hide';\r\n    if (user.admin && order.status === 'INPRG NO TOOL') return 'hide';\r\n    if (order.status === 'COMPLETE' || order.status === 'CLOSE') return 'hide';\r\n    return ''\r\n  }\r\n  getImage = (images) => {\r\n    return images.map(img => ({\r\n      original: `${URL}/api/upload/image/${img.filename}`,\r\n      thumbnail: `${URL}/api/upload/image/${img.filename}`\r\n    }))\r\n  }\r\n  addandremoveUserNV = (data) => {\r\n    const { orderActionCreator, order } = this.props;\r\n    const { updateOrder } = orderActionCreator;\r\n    const newOrder = JSON.parse(JSON.stringify(order));\r\n    newOrder.NV = data\r\n    updateOrder(newOrder);\r\n  }\r\n  onChangeNote = (event) => {\r\n    const { orderActionCreator, order } = this.props;\r\n    const { updateOrderNote } = orderActionCreator;\r\n    const newOrder = JSON.parse(JSON.stringify(order));\r\n    newOrder.note = event.target.value;\r\n    this.setState({ isChange: true });\r\n    updateOrderNote(newOrder);\r\n  }\r\n  onBlurNote = (event) => {\r\n    const { orderActionCreator, order } = this.props;\r\n    const { isChange } = this.state;\r\n    const newOrder = JSON.parse(JSON.stringify(order));\r\n    if (isChange) {\r\n      const { updateOrder } = orderActionCreator;\r\n      newOrder.note = event.target.value;\r\n      updateOrder(newOrder);\r\n      this.setState({ isChange: false });\r\n    }\r\n  }\r\n  render() {\r\n    const { classes, order, user, customers } = this.props\r\n    const { showRightPanel, columnsGrid, columnsGridComplete, currentIdTool, orderAction } = this.state\r\n    const fastReport = order.fastReport ? order.fastReport : false\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.containerPanel}>\r\n          {this.renderRedirect()}\r\n          <div className={order._id ? '' : classes.maskLoading}>\r\n          </div>\r\n          <Grid className={(showRightPanel ? 'box-panel show-right-panel' : 'box-panel')}>\r\n            <Grid className='left-panel'>\r\n              <div className='block'>\r\n                <div className='header-action'>\r\n                  <div className='group'>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickGotoList('/admin/order') }}>\r\n                      <ArrowBackIos style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Quay về danh sách\r\n                    </Button>\r\n                    &nbsp;\r\n                    <Button className={order.userId && (user.admin || user._id === order.userId._id) ? '' : 'hide'} variant=\"contained\" color=\"primary\" onClick={() => { this.onClickEdit(order) }}>\r\n                      <Edit style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Chỉnh sửa\r\n                    </Button>\r\n                    &nbsp;\r\n                    {fastReport ? <></> : <Button className={order.userId && (user.admin || user._id === order.userId._id) ? '' : 'hide'} variant=\"contained\" color=\"primary\" onClick={() => { this.onClickCreateFastReport(order) }}>\r\n                      <Edit style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Tạo Báo cáo nhanh\r\n                    </Button>}\r\n\r\n                  </div>\r\n                  <div className='group'>\r\n                    <Button variant=\"contained\" color=\"primary\">\r\n                      Trạng thái: {order.status}{this.renderStatusText(order.status)}\r\n                    </Button>\r\n                    &nbsp;\r\n                    {this.groupButtonActions()}\r\n                  </div>\r\n                </div>\r\n                {order.userId && user._id !== order.userId._id ? <div className='customer-field'>Người dùng: {order.userId ? order.userId.name : ''}</div> : ''}\r\n                <div className='info-wo'>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"wo\" value={order.WO} label=\"Work Order\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"pct\" value={order.PCT} label=\"PCT\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"date_start\" value={moment(order.timeStart).format('DD/MM/YYYY')} label=\"Ngày bắt đầu\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"date_stop\" value={moment(order.timeStop).format('DD/MM/YYYY')} label=\"Ngày kết thúc\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-100'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"content\" multiline value={order.content || ' '} label=\"Nội dung công tác\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-100'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"note\" multiline value={order.note || ''} label=\"Ghi chú\" onBlur={this.onBlurNote} onChange={this.onChangeNote} InputProps={{ readOnly: this.classAddTool(order) === 'hide' }} />\r\n                    </FormControl>\r\n                  </div>\r\n                </div>\r\n                <Grid>\r\n                  <Multiselect\r\n                    options={(customers || []).filter(c => c._id !== user._id)}\r\n                    selectedValues={order.NV}\r\n                    onSelect={this.addandremoveUserNV}\r\n                    onRemove={this.addandremoveUserNV}\r\n                    displayValue=\"name\"\r\n                    placeholder={this.classAddTool(order) === 'hide' ? \"\" : \"Nhân viên nhóm công tác\"}\r\n                    disable={this.classAddTool(order) === 'hide'}\r\n                  />\r\n                </Grid>\r\n                <div className={classes.boxActions}>\r\n                  <Button className={this.classAddTool(order)} variant=\"contained\" color=\"secondary\" onClick={() => this.generateDox(order)}>\r\n                    IN PHIẾU\r\n                  </Button> &nbsp;\r\n                  <Button className={this.classAddTool(order)} variant=\"contained\" color=\"primary\" onClick={() => { this.onClickAddTool('/admin/tool/' + order._id) }}>\r\n                    Thêm tool\r\n                  </Button>\r\n                </div>\r\n                <Grid className={classes.dataTable}>\r\n                  <DataTable\r\n                    noHeader={true}\r\n                    keyField={'_id'}\r\n                    columns={order.status === \"START\"\r\n                      || order.status === \"READY\"\r\n                      || order.status === \"INPRG HAVE TOOL\"\r\n                      ? columnsGrid : columnsGridComplete}\r\n                    data={this.genarateTools(order)}\r\n                    striped={true}\r\n                    pagination\r\n                    paginationPerPage={20}\r\n                    paginationRowsPerPageOptions={[10, 20, 50]}\r\n                    onRowClicked={this.onClickShowTool}\r\n                    noDataComponent='Chưa thêm công cụ'\r\n                  />\r\n                </Grid>\r\n              </div>\r\n            </Grid>\r\n            <Grid className='right-panel'>\r\n              <div className='block'>\r\n                <div>Tên công cụ: {currentIdTool.name}</div>\r\n                <div>Hãng: {currentIdTool.manufacturer}</div>\r\n                <div>Loại: {currentIdTool.type}</div>\r\n                <div>Hình ảnh:</div>\r\n                {\r\n                  (currentIdTool.images || []).length === 0 ? <></>\r\n                    : <ImageGallery items={this.getImage(currentIdTool.images)} />\r\n                }\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  genarateTools = (order) => {\r\n    const { user } = this.props;\r\n    if (!user && !user._id) return [];\r\n    order.isAction = true\r\n    if (!user.admin && order.userId && (order.status !== 'START' || user._id !== order.userId._id)) order.isAction = false;\r\n    if (order.status === 'COMPLETE') order.isAction = false\r\n    if (order && order.toolId && order.toolId.length > 0 && order.toolId[0]._id) {\r\n      return order.toolId\r\n    }\r\n    return []\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    orders: state.orders.orders,\r\n    orderEditting: state.orders.order,\r\n    order: {\r\n      WO: state.orders.order ? state.orders.order.WO : '',\r\n      PCT: state.orders.order ? state.orders.order.PCT : '',\r\n      workType: state.orders.order ? state.orders.order.workType : '',\r\n      date: state.orders.order ? state.orders.order.date : '',\r\n      status: state.orders.order ? state.orders.order.status : '',\r\n      statusTool: state.orders.order ? state.orders.order.statusTool : '',\r\n      timeStart: state.orders.order ? state.orders.order.timeStart : '',\r\n      timeStop: state.orders.order ? state.orders.order.timeStop : '',\r\n      toolId: state.orders.order ? state.orders.order.toolId : [],\r\n      content: state.orders.order ? state.orders.order.content : '',\r\n      location: state.orders.order ? state.orders.order.location : '',\r\n      KKS: state.orders.order ? state.orders.order.KKS : '',\r\n      userId: state.orders.order ? state.orders.order.userId : {},\r\n      NV: state.orders.order ? state.orders.order.NV : [],\r\n      note: state.orders.order ? state.orders.order.note : '',\r\n      fastReport: state.orders.order ? state.orders.order.fastReport : false,\r\n      _id: state.orders.order ? state.orders.order._id : '',\r\n      isAction: true\r\n    },\r\n    user: state.auth.user || {}\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    toolActionCreator: bindActionCreators(toolActions, dispatch),\r\n    orderActionCreator: bindActionCreators(orderActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    fastReportActionsCreator: bindActionCreators(FastReportActions, dispatch),\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(OrderDetail);","import * as cchttConstants from '../constants/cchtt';\r\n\r\nexport const listAllCchtts = (params = {}) => {\r\n  return {\r\n    type: cchttConstants.GET_ALL_CCHTTS,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const listAllCchttsSuccess = (data) => {\r\n  return {\r\n    type: cchttConstants.GET_ALL_CCHTTS_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const listAllCchttsFail = (error) => {\r\n  return {\r\n    type: cchttConstants.GET_ALL_CCHTTS_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const searchCchtt = (params = {}) => {\r\n  return {\r\n    type: cchttConstants.SEARCH_CCHTT,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const searchCchttSuccess = (data, params) => {\r\n  return {\r\n    type: cchttConstants.SEARCH_CCHTT_SUCCESS,\r\n    payload: { data, params }\r\n  }\r\n}\r\nexport const searchCchttFail = (error) => {\r\n  return {\r\n    type: cchttConstants.SEARCH_CCHTT_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const getIdCchtt = (payload) => {\r\n  return {\r\n    type: cchttConstants.GET_ID_CCHTT,\r\n    payload\r\n  }\r\n}\r\nexport const getIdCchttSuccess = (payload) => {\r\n  return {\r\n    type: cchttConstants.GET_ID_CCHTT_SUCCESS,\r\n    payload\r\n  }\r\n}\r\nexport const getIdCchttFail = (payload) => {\r\n  return {\r\n    type: cchttConstants.GET_ID_CCHTT_FAIL,\r\n    payload\r\n  }\r\n}\r\nexport const addCchtt = (payload) => {\r\n  return {\r\n    type: cchttConstants.ADD_CCHTT,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addCchttSuccess = (payload) => {\r\n  return {\r\n    type: cchttConstants.ADD_CCHTT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addCchttFail = (payload) => {\r\n  return {\r\n    type: cchttConstants.ADD_CCHTT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteCchtt = (payload, params) => {\r\n  return {\r\n    type: cchttConstants.DELETE_CCHTT,\r\n    payload: {\r\n      ...payload,\r\n      params\r\n    },\r\n  };\r\n};\r\n\r\nexport const deleteCchttSuccess = (payload) => {\r\n  return {\r\n    type: cchttConstants.DELETE_CCHTT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteCchttFail = (payload) => {\r\n  return {\r\n    type: cchttConstants.DELETE_CCHTT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCchtt = (payload) => {\r\n  return {\r\n    type: cchttConstants.UPDATE_CCHTT,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCchttSuccess = (payload) => {\r\n  return {\r\n    type: cchttConstants.UPDATE_CCHTT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCchttNote = (payload) => {\r\n  return {\r\n    type: cchttConstants.UPDATE_CCHTT_NOTE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCchttFail = (payload) => {\r\n  return {\r\n    type: cchttConstants.UPDATE_CCHTT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\n\r\nexport const setCchttEditing = (cchtt) => ({\r\n  type: cchttConstants.SET_CCHTT_EDITING,\r\n  payload: {\r\n    cchtt,\r\n  },\r\n});","export const GET_ALL_CCHTTS = 'GET_ALL_CCHTTS';\r\nexport const GET_ALL_CCHTTS_SUCCESS = 'GET_ALL_CCHTTS_SUCCESS';\r\nexport const GET_ALL_CCHTTS_FAIL = 'GET_ALL_CCHTTS_FAIL';\r\n\r\nexport const SEARCH_CCHTT = 'SEARCH_CCHTT';\r\nexport const SEARCH_CCHTT_SUCCESS = 'SEARCH_CCHTT_SUCCESS';\r\nexport const SEARCH_CCHTT_FAIL = 'SEARCH_CCHTT_FAIL';\r\n\r\nexport const GET_ID_CCHTT = 'GET_ID_CCHTT';\r\nexport const GET_ID_CCHTT_SUCCESS = 'GET_ID_CCHTT_SUCCESS';\r\nexport const GET_ID_CCHTT_FAIL = 'GET_ID_CCHTT_FAIL';\r\n\r\nexport const ADD_CCHTT = 'ADD_CCHTT';\r\nexport const ADD_CCHTT_SUCCESS = 'ADD_CCHTT_SUCCESS';\r\nexport const ADD_CCHTT_FAIL = 'ADD_CCHTT_FAIL';\r\n\r\nexport const DELETE_CCHTT = 'DELETE_CCHTT';\r\nexport const DELETE_CCHTT_SUCCESS = 'DELETE_CCHTT_SUCCESS';\r\nexport const DELETE_CCHTT_FAIL = 'DELETE_CCHTT_FAIL';\r\n\r\nexport const UPDATE_CCHTT = 'UPDATE_CCHTT';\r\nexport const UPDATE_CCHTT_SUCCESS = 'UPDATE_CCHTT_SUCCESS';\r\nexport const UPDATE_CCHTT_NOTE = 'UPDATE_CCHTT_NOTE';\r\nexport const UPDATE_CCHTT_FAIL = 'UPDATE_CCHTT_FAIL';\r\nexport const SET_CCHTT_EDITING ='SET_CCHTT_EDITING';","const style = (theme) => ({\r\n  content: {\r\n    marginTop: '65px',\r\n    '& .box-search': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n      '& .lb-search': {\r\n        width: '100px',\r\n        fontSize: '1rem',\r\n      },\r\n      '& .field-search': {\r\n        width: 'calc((100% - 100px) / 5)',\r\n        maxWidth: '300px',\r\n        paddingRight: '15px',\r\n        '& .multiple-select': {\r\n          backgroundColor: '#e7e7e7',\r\n          '& .lb-user': {\r\n            top: '-5px',\r\n            paddingLeft: '12px',\r\n            '&.Mui-focused, &.MuiFormLabel-filled': {\r\n              top: '10px'\r\n            }\r\n          },\r\n          '& .lb-user + .sl-user': {\r\n            marginTop: '24px'\r\n          },\r\n          '& .sl-user .MuiSelect-selectMenu': {\r\n            paddingLeft: '12px'\r\n          },\r\n          '& .sl-user.Mui-focused .MuiSelect-selectMenu': {\r\n            backgroundColor: '#e7e7e7',\r\n            paddingLeft: '12px'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        width: '100%',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        height: 'calc(100vh - 255px)',\r\n        overflowY: 'overlay !important',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      }\r\n    },\r\n    '& .lb-status': {\r\n      width: '160px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-start': {\r\n        backgroundColor: '#6c757d'\r\n      },\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-inprg-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-inprg-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-in-progress-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-complete': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-close': {\r\n        backgroundColor: '#000000'\r\n      }\r\n    }\r\n  },\r\n});\r\nexport default style;","const validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'WO',\r\n    'PCT',\r\n    'timeChange'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (values[field] === null || values[field] === '' ) {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  return errors\r\n}\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n  modal: {\r\n    //top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    //position: 'absolute',\r\n    position: 'fixed',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n  TextField: {\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.color.primary,\r\n    color: theme.color.textColor,\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color: theme.color.textColor,\r\n    fontWeight: 700,\r\n    textTransform: 'capitalize',\r\n    fontFamily: 'Roboto'\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    witdth: '100%',\r\n  },\r\n  textField: {\r\n    width: \"100%\",\r\n  },\r\n  TextFieldCustomer: {\r\n    width: \"100%\",\r\n    margin: \"16px 0 8px\"\r\n  },\r\n  alert: {\r\n    display: 'flex',\r\n    margin: '10px',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n\r\nexport default styles;","import React, { Component } from 'react';\r\nimport { withStyles, Grid, Button, FormControl, InputLabel, Select } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as cchttActions from '../../actions/cchttActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\nimport moment from 'moment';\r\nimport { ConsoleWriter } from 'istanbul-lib-report';\r\n\r\nclass CchttForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showSearch: true,\r\n      openSelectCustomer: false,\r\n      nameCustomer: '',\r\n      userIdSelect: '',\r\n      msgError: ''\r\n    }\r\n  }\r\n  //@check login success adn error\r\n  componentDidUpdate(nextprops) {\r\n    const { msgError } = this.props;\r\n\r\n    // if (isAuthenticated !== nextprops.isAuthenticated) {\r\n    //   if (isAuthenticated) {\r\n    //     history.push('/admin/cchtt');\r\n    //   }\r\n    // }\r\n    if (msgError !== nextprops.msgError) {\r\n      this.setState({\r\n        msgError\r\n      })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { customerActionCreator } = this.props;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    listAllCustomers();\r\n  }\r\n  handleSubmitForm = (data) => {\r\n    const { cchttActionsCreator, cchttEditting, user } = this.props;\r\n    console.log(user)\r\n    const { addCchtt, updateCchtt } = cchttActionsCreator;\r\n    const { WO, PCT, timeChange, note } = data;\r\n    const newCchtt = {\r\n      ...(cchttEditting || {}),\r\n      WO,\r\n      PCT,\r\n      timeChange,\r\n      note: note || '',\r\n      userId: user._id,\r\n    }\r\n    if (cchttEditting) {\r\n      // newCchtt.PCT = cchttEditting.PCT\r\n      // newCchtt.WO = cchttEditting.WO\r\n       newCchtt.userId = cchttEditting.userId\r\n      // newCchtt.timeChange = cchttEditting.timeChange\r\n      // newCchtt.note = cchttEditting.note\r\n      if (user.admin || newCchtt.userId._id === user._id) {\r\n        updateCchtt(newCchtt);\r\n      }\r\n    } else {\r\n      addCchtt(newCchtt);\r\n    }\r\n  };\r\n  handleChangeCustomer = (event) => {\r\n    const name = event.target.name;\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n  rendercchttFail = () => {\r\n    const { msgError } = this.state;\r\n    console.log(msgError);\r\n    let xhtml = null;\r\n    xhtml = msgError ? (<Alert variant=\"standard\" severity=\"error\">\r\n      {msgError}\r\n    </Alert>) : null\r\n    return xhtml;\r\n  }\r\n  render() {\r\n    var {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n\r\n      initialValues\r\n    } = this.props;\r\n\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n        <Grid container className={classes.form}>\r\n\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"WO\"\r\n              name=\"WO\"\r\n              label=\"Work cchtt\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"PCT\"\r\n              name=\"PCT\"\r\n              label=\"Tại PCT\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n            initialValues.WO ?\r\n              <Grid style={{ fontSize: \"16px\", paddingTop: \"16px\" }} item md={12}>\r\n                <label>Phiếu Thay Đổi CHTT: {initialValues.PCCHTT}</label>\r\n              </Grid>\r\n              : <></>\r\n          }\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"timeChange\"\r\n              name=\"timeChange\"\r\n              label=\"Thời gian thay đổi\"\r\n              type=\"datetime-local\"\r\n              //type=\"date\"\r\n              className={classes.TextField}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"note\"\r\n              name=\"note\"\r\n              label=\"Ghi chú\"\r\n              multiline\r\n              rowsMax={4}\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n          }\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-end\"\r\n            alignItems=\"flex-end\"\r\n          >\r\n            {this.rendercchttFail()}\r\n            <Button onClick={hideModal}>Hủy</Button>\r\n            <Button disabled={invalid || submitting} type=\"submit\">\r\n              Lưu\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nCchttForm.propTypes = {\r\n  customerId: PropTypes.string,\r\n  product: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    cchttEditting: state.cchtts.cchtt,\r\n    initialValues: {\r\n      WO: state.cchtts.cchtt ? state.cchtts.cchtt.WO : null,\r\n      PCT: state.cchtts.cchtt ? state.cchtts.cchtt.PCT : null,\r\n      PCCHTT: state.cchtts.cchtt ? state.cchtts.cchtt.PCCHTT : null,\r\n      note: state.cchtts.cchtt ? state.cchtts.cchtt.note : '',\r\n      timeChange: state.cchtts.cchtt ? moment(state.cchtts.cchtt.timeChange).format('YYYY-MM-DDTHH:mm:SS') : moment(Date.now()).format('YYYY-MM-DDThh:mm:ss'),\r\n    },\r\n    customers: state.customers ? state.customers.customers : [],\r\n    user: state.auth.user,\r\n    msgError: state.error.msg\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    cchttActionsCreator: bindActionCreators(cchttActions, dispatch),\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch)\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'cchtt_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(CchttForm);\r\n","import React, { Component, Fragment, } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as cchttActions from '../../actions/cchttActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport CchttForm from '../CchttForm';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, InputLabel, Select, MenuItem, Input } from '@material-ui/core';\r\nimport { DeleteForever, Edit, Visibility, Lock } from '@material-ui/icons';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DataTable from 'react-data-table-component';\r\nimport moment from 'moment';\r\nimport { popupConfirm } from '../../actions/ui';\r\n\r\nclass Changechtts extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      pagination: {\r\n        page: 1,\r\n        rowPerPage: 20,\r\n        rowPerPageOption: [10, 20, 50]\r\n      },\r\n      redirect: false,\r\n      idRedirect: '',\r\n      dataSearch: {\r\n        wo: '',\r\n        pct: '',\r\n        userId: [],\r\n      },\r\n      columnsGrid: [\r\n        {\r\n          name: '', width: '100px', center: true,\r\n          cell: (params) => {\r\n            let { user } = this.props;\r\n            let data = JSON.parse(JSON.stringify(params));\r\n            console.log(data)\r\n            let checkUser = (user.admin || user._id === params.userId._id);\r\n            console.log(user)\r\n            return <>\r\n              <Fab\r\n                color=\"default\"\r\n                aria-label=\"Xem Chi Tiết\"\r\n                size='small'\r\n                onClick={() => {\r\n                  this.onClickView(data._id)\r\n                }}\r\n              >\r\n                <Visibility color=\"primary\" />\r\n              </Fab>\r\n              {\r\n                checkUser ?\r\n                  <>\r\n                    &nbsp;&nbsp;\r\n                    <Fab\r\n                      color=\"default\"\r\n                      aria-label=\"Sửa WO\"\r\n                      size='small'\r\n                      onClick={() => {\r\n                        this.onClickEdit(data)\r\n                      }}\r\n                    >\r\n                      <Edit color=\"primary\" />\r\n                    </Fab>\r\n                    &nbsp;&nbsp;\r\n\r\n                    {/* <Fab\r\n                    color=\"default\"\r\n                    aria-label=\"Xóa WO\"\r\n                    size='small'\r\n                    onClick={() => {\r\n                      this.onClickDelete(data)\r\n                    }}\r\n                    >\r\n                    <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                  </Fab> */}\r\n                  </> : <></>\r\n              }\r\n            </>\r\n          }\r\n        },\r\n        { selector: 'PCCHTT', name: 'Số Thay đổi CHTT', width: '200px', sortable: true, center: true },\r\n        { selector: 'WO', name: 'Work Order', width: '120px', sortable: true, center: true },\r\n        { selector: 'PCT', name: 'Số PCT', width: '120px', sortable: true, center: true },\r\n        { selector: 'userId.name', name: 'Người viết phiếu', width: '180px', sortable: true },\r\n        {\r\n          selector: 'timeChange', name: 'Thời gian thay đổi', width: '200px', sortable: true, center: true,\r\n          cell: (params) => moment(params.timeChange).format('HH:mm DD/MM/YYYY')\r\n        },\r\n        { selector: 'note', name: 'Ghi chú', width: '300px', sortable: true },\r\n      ]\r\n    }\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect && this.state.idRedirect) {\r\n      let tool = '/admin/cchtt-detail/' + this.state.idRedirect;\r\n      return <Redirect to={tool} />\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { cchttActionCreator, customerActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchCchtt } = cchttActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    let params = JSON.parse(JSON.stringify(dataSearch));\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    searchCchtt(params);\r\n    listAllCustomers();\r\n  }\r\n  onClickDelete = (cchtt) => {\r\n    let { user } = this.props;\r\n    const { dataSearch } = this.state;\r\n    if (!user.admin && user._id !== cchtt.userId._id) return;\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn xóa Work Cchtt này?\",\r\n      ifOk: () => {\r\n        const { cchttActionCreator } = self.props;\r\n        const { deleteCchtt } = cchttActionCreator;\r\n        let params = JSON.parse(JSON.stringify(dataSearch))\r\n        deleteCchtt(cchtt, params);\r\n      }\r\n    })\r\n  }\r\n  onClickView = (idRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      idRedirect\r\n    })\r\n  };\r\n  onCloseWo = (data) => {\r\n    const { cchttActionCreator, user } = this.props;\r\n    const { updateCchtt } = cchttActionCreator;\r\n    const newCchtt = JSON.parse(JSON.stringify(data));\r\n    switch (newCchtt.status) {\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          newCchtt.status = 'CLOSE'\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    updateCchtt(newCchtt);\r\n  };\r\n  onClickEdit = (data) => {\r\n    const { cchttActionCreator, modalActionsCreator, user } = this.props;\r\n    const { setCchttEditing } = cchttActionCreator;\r\n    if (!user.admin && user._id !== data.userId._id) return;\r\n    setCchttEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Phiếu Đổi CHTT');\r\n    changeModalContent(<CchttForm />);\r\n  }\r\n  handleSearch = (event) => {\r\n    const { cchttActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchCchtt } = cchttActionCreator;\r\n    let search = {\r\n      ...dataSearch,\r\n      skip: 0,\r\n      limit: pagination.rowPerPage,\r\n      [event.target.name]: event.target.value\r\n    }\r\n    this.setState({ dataSearch: search });\r\n    searchCchtt(search);\r\n  }\r\n  handleChangePage = (page, total) => {\r\n    const { cchttActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchCchtt } = cchttActionCreator;\r\n    pagination.page = page;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchCchtt(params);\r\n  }\r\n  handleChangeRowsPerPage = (rowPerPage, total) => {\r\n    const { cchttActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchCchtt } = cchttActionCreator;\r\n    pagination.rowPerPage = rowPerPage;\r\n    pagination.page = 1;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchCchtt(params);\r\n  }\r\n\r\n  render() {\r\n    const { cchtts, customers, CchttsTotal, classes } = this.props;\r\n    const { columnsGrid, pagination, dataSearch } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.content}>\r\n          <div className=\"box-search\">\r\n            <div className=\"lb-search\">Search</div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_CHTT\"\r\n                name=\"pcchtt\"\r\n                label=\"Số thay đổi CHTT\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_WO\"\r\n                name=\"wo\"\r\n                label=\"Work Order\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_pct\"\r\n                name=\"pct\"\r\n                label=\"Số PCT\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth className=\"multiple-select\">\r\n                <InputLabel className=\"lb-user\" id=\"lb-user\">Người viết phiếu</InputLabel>\r\n                <Select\r\n                  labelId=\"lb-user\"\r\n                  id=\"user-id\"\r\n                  className=\"sl-user\"\r\n                  multiple\r\n                  value={dataSearch.userId}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'userId',\r\n                    id: 'userId',\r\n                  }}\r\n                  input={<Input />}\r\n                >\r\n                  {customers && customers.map((c) => (\r\n                    <MenuItem key={c._id} value={c._id}>\r\n                      {c.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n          </div>\r\n          <Grid className={classes.dataTable}>\r\n            <DataTable\r\n              noHeader={true}\r\n              keyField={'_id'}\r\n              columns={columnsGrid}\r\n              data={this.genData(cchtts)}\r\n              striped={true}\r\n              pagination\r\n              paginationServer\r\n              paginationDefaultPage={pagination.page}\r\n              paginationPerPage={pagination.rowPerPage}\r\n              paginationRowsPerPageOptions={pagination.rowPerPageOption}\r\n              paginationTotalRows={CchttsTotal}\r\n              onChangePage={this.handleChangePage}\r\n              onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n            />\r\n          </Grid>\r\n          {this.renderRedirect()}\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  genData = (cchtts) => {\r\n    let { user } = this.props;\r\n    console.log(cchtts)\r\n    if (!user) return [];\r\n    return cchtts.filter(cchtt => cchtt.userId)\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    cchtts: state.cchtts.cchtts,\r\n    CchttsTotal: state.cchtts.total,\r\n    user: state.auth.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    cchttActionCreator: bindActionCreators(cchttActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(Changechtts);","const style = (theme) => ({\r\n  containerPanel: {\r\n    marginTop: '65px',\r\n    '& .hide' : {\r\n      display: 'none !important'\r\n    },\r\n    '& .box-panel': {\r\n      display: 'flex',\r\n      '& .block': {\r\n        padding: '15px',\r\n        background: '#fff',\r\n        boxShadow: '0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)',\r\n        height: '100%',\r\n        fontSize: '1rem',\r\n        '& .info-wo': {\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          margin: '0 -15px',\r\n          '& .col-wo-50': {\r\n            width: '50%',\r\n            padding: '0 15px'\r\n          },\r\n          '& .col-wo-100': {\r\n            width: '100%',\r\n            padding: '0 15px'\r\n          }\r\n        },\r\n        '& .image-gallery': {\r\n          '& .image-gallery-image': {\r\n            height: 'calc(100vh - 280px)'\r\n          }\r\n        }\r\n      },\r\n      '& .customer-field': {\r\n        fontSize: '1rem',\r\n        marginTop: '10px'\r\n      },\r\n      '& .header-action': {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n      },\r\n      '& .left-panel': {\r\n        width: '50%',\r\n        marginLeft: '25%',\r\n        transition: 'all 1s ease-in-out',\r\n        '& .field': {\r\n          margin: '10px 0'\r\n        }\r\n      },\r\n      '& .right-panel': {\r\n        width: '50%',\r\n        display: 'none',\r\n      },\r\n      '&.show-right-panel': {\r\n        '& .left-panel': {\r\n          marginLeft: '0',\r\n          paddingRight: '10px'\r\n        },\r\n        '& .right-panel': {\r\n          display: 'block',\r\n          paddingLeft: '10px'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        height: 'calc(100vh - 590px)',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        overflowY: 'overlay !important',\r\n        minHeight: '200px',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      },\r\n    \r\n    },\r\n    '& .lb-status': {\r\n      width: '90px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-in-use': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-bad': {\r\n        backgroundColor: '#dc3545'\r\n      },\r\n      '&.color-lost': {\r\n        backgroundColor: '#343a40'\r\n      }\r\n    },\r\n  },\r\n  gridList: {\r\n    flexWrap: 'nowrap',\r\n    transform: 'translateZ(0)',\r\n  },\r\n  boxActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    margin: '10px 0'\r\n  },\r\n  maskLoading: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: 'calc(100% - 64px)',\r\n    top: '0',\r\n    left: '0',\r\n    backgroundColor: 'rgba(0,0,0,0.3)',\r\n    zIndex: 1\r\n  }\r\n});\r\nexport default style;","import React, { Component, Fragment, } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as cchttActions from '../../actions/cchttActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as toolActions from '../../actions/toolActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, Button, Table } from '@material-ui/core';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { DeleteForever, ArrowBackIos, Edit, KeyboardReturn, Add } from '@material-ui/icons';\r\nimport DataTable from 'react-data-table-component';\r\nimport { API_ENDPOINT as URL } from '../../constants';\r\nimport CchttForm from '../CchttForm';\r\nimport moment from 'moment';\r\nimport { popupConfirm, popupConfirmYesNo } from '../../actions/ui';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport { Multiselect } from 'multiselect-react-dropdown';\r\nimport { AlignmentType, Document, BcchttStyle, HeadingLevel, Packer, Paragraph, TabStopPosition, TabStopType, TextRun, Table as TableD, TableCell as TableCellD, TableRow as TableRowD, WidthType, convertInchesToTwip } from 'docx';\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\n\r\n\r\nclass CchttDetail extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showRightPanel: false,\r\n      redirect: false,\r\n      urlRedirect: '',\r\n      currentIdTool: {},\r\n      isChange: false,\r\n      cchttAction: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { cchttActionCreator, customerActionCreator, match: { params }, cchtt } = this.props;\r\n    const { getIdCchtt } = cchttActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    getIdCchtt(params.cchttId);\r\n    listAllCustomers();\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.urlRedirect} />\r\n    }\r\n  }\r\n  onClickAddTool = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickGotoList = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickEdit = (data) => {\r\n    const { cchttActionCreator, modalActionsCreator } = this.props;\r\n    const { setCchttEditing } = cchttActionCreator;\r\n    setCchttEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Work Cchtt');\r\n    changeModalContent(<CchttForm />);\r\n  }\r\n  onChangeNote = (event) => {\r\n    const { cchttActionCreator, cchtt } = this.props;\r\n    const { updateCchttNote } = cchttActionCreator;\r\n    const newCchtt = JSON.parse(JSON.stringify(cchtt));\r\n    newCchtt.note = event.target.value;\r\n    this.setState({ isChange: true });\r\n    updateCchttNote(newCchtt);\r\n  }\r\n  onBlurNote = (event) => {\r\n    const { cchttActionCreator, cchtt } = this.props;\r\n    const { isChange } = this.state;\r\n    const newCchtt = JSON.parse(JSON.stringify(cchtt));\r\n    if (isChange) {\r\n      const { updateCchtt } = cchttActionCreator;\r\n      newCchtt.note = event.target.value;\r\n      updateCchtt(newCchtt);\r\n      this.setState({ isChange: false });\r\n    }\r\n  }\r\n  render() {\r\n    const { classes, cchtt, user, customers } = this.props\r\n    const { showRightPanel, columnsGrid, columnsGridComplete, currentIdTool, cchttAction } = this.state\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.containerPanel}>\r\n          {this.renderRedirect()}\r\n          <div className={cchtt._id ? '' : classes.maskLoading}>\r\n          </div>\r\n          <Grid className={(showRightPanel ? 'box-panel show-right-panel' : 'box-panel')}>\r\n            <Grid className='left-panel'>\r\n              <div className='block'>\r\n                <div className='header-action'>\r\n                  <div className='group'>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickGotoList('/admin/cchtt') }}>\r\n                      <ArrowBackIos style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Quay về danh sách\r\n                    </Button>\r\n                    &nbsp;\r\n                    <Button className={cchtt.userId && (user.admin || user._id === cchtt.userId._id) ? '' : 'hide'} variant=\"contained\" color=\"primary\" onClick={() => { this.onClickEdit(cchtt) }}>\r\n                      <Edit style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Chỉnh sửa\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                {cchtt.userId && user._id !== cchtt.userId._id ? <div className='customer-field'>Người dùng: {cchtt.userId ? cchtt.userId.name : ''}</div> : ''}\r\n                <div className='info-wo'>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"cchtt\" value={cchtt.PCCHTT} label=\"Số Phiếu Đổi CHTT\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n\r\n\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"pct\" value={cchtt.PCT} label=\"PCT\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"wo\" value={cchtt.WO} label=\"Work Cchtt\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"timeChange\" value={moment(cchtt.timeChange).format('HH:mm DD/MM/YYYY')} label=\"Ngày giờ thay đổi\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-100'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"note\" multiline value={cchtt.note || ''} label=\"Ghi chú\" onBlur={this.onBlurNote} onChange={this.onChangeNote} InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    cchtts: state.cchtts.cchtts,\r\n    cchtt: {\r\n      WO: state.cchtts.cchtt ? state.cchtts.cchtt.WO : '',\r\n      PCT: state.cchtts.cchtt ? state.cchtts.cchtt.PCT : '',\r\n      PCCHTT: state.cchtts.cchtt ? state.cchtts.cchtt.PCCHTT : '',\r\n      timeChange: state.cchtts.cchtt ? state.cchtts.cchtt.timeChange : '',\r\n      userId: state.cchtts.cchtt ? state.cchtts.cchtt.userId : {},\r\n      note: state.cchtts.cchtt ? state.cchtts.cchtt.note : '',\r\n      _id: state.cchtts.cchtt ? state.cchtts.cchtt._id : '',\r\n      isAction: true\r\n    },\r\n    user: state.auth.user || {}\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    toolActionCreator: bindActionCreators(toolActions, dispatch),\r\n    cchttActionCreator: bindActionCreators(cchttActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(CchttDetail);","import * as cgsatConstants from '../constants/cgsat';\r\n\r\nexport const listAllCgsats = (params = {}) => {\r\n  return {\r\n    type: cgsatConstants.GET_ALL_CGSATS,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const listAllCgsatsSuccess = (data) => {\r\n  return {\r\n    type: cgsatConstants.GET_ALL_CGSATS_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const listAllCgsatsFail = (error) => {\r\n  return {\r\n    type: cgsatConstants.GET_ALL_CGSATS_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const searchCgsat = (params = {}) => {\r\n  return {\r\n    type: cgsatConstants.SEARCH_CGSAT,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const searchCgsatSuccess = (data, params) => {\r\n  return {\r\n    type: cgsatConstants.SEARCH_CGSAT_SUCCESS,\r\n    payload: { data, params }\r\n  }\r\n}\r\nexport const searchCgsatFail = (error) => {\r\n  return {\r\n    type: cgsatConstants.SEARCH_CGSAT_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const getIdCgsat = (payload) => {\r\n  return {\r\n    type: cgsatConstants.GET_ID_CGSAT,\r\n    payload\r\n  }\r\n}\r\nexport const getIdCgsatSuccess = (payload) => {\r\n  return {\r\n    type: cgsatConstants.GET_ID_CGSAT_SUCCESS,\r\n    payload\r\n  }\r\n}\r\nexport const getIdCgsatFail = (payload) => {\r\n  return {\r\n    type: cgsatConstants.GET_ID_CGSAT_FAIL,\r\n    payload\r\n  }\r\n}\r\nexport const addCgsat = (payload) => {\r\n  return {\r\n    type: cgsatConstants.ADD_CGSAT,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addCgsatSuccess = (payload) => {\r\n  return {\r\n    type: cgsatConstants.ADD_CGSAT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addCgsatFail = (payload) => {\r\n  return {\r\n    type: cgsatConstants.ADD_CGSAT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteCgsat = (payload, params) => {\r\n  return {\r\n    type: cgsatConstants.DELETE_CGSAT,\r\n    payload: {\r\n      ...payload,\r\n      params\r\n    },\r\n  };\r\n};\r\n\r\nexport const deleteCgsatSuccess = (payload) => {\r\n  return {\r\n    type: cgsatConstants.DELETE_CGSAT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteCgsatFail = (payload) => {\r\n  return {\r\n    type: cgsatConstants.DELETE_CGSAT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCgsat = (payload) => {\r\n  return {\r\n    type: cgsatConstants.UPDATE_CGSAT,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCgsatSuccess = (payload) => {\r\n  return {\r\n    type: cgsatConstants.UPDATE_CGSAT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCgsatNote = (payload) => {\r\n  return {\r\n    type: cgsatConstants.UPDATE_CGSAT_NOTE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateCgsatFail = (payload) => {\r\n  return {\r\n    type: cgsatConstants.UPDATE_CGSAT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\n\r\nexport const setCgsatEditing = (cgsat) => ({\r\n  type: cgsatConstants.SET_CGSAT_EDITING,\r\n  payload: {\r\n    cgsat,\r\n  },\r\n});","export const GET_ALL_CGSATS = 'GET_ALL_CGSATS';\r\nexport const GET_ALL_CGSATS_SUCCESS = 'GET_ALL_CGSATS_SUCCESS';\r\nexport const GET_ALL_CGSATS_FAIL = 'GET_ALL_CGSATS_FAIL';\r\n\r\nexport const SEARCH_CGSAT = 'SEARCH_CGSAT';\r\nexport const SEARCH_CGSAT_SUCCESS = 'SEARCH_CGSAT_SUCCESS';\r\nexport const SEARCH_CGSAT_FAIL = 'SEARCH_CGSAT_FAIL';\r\n\r\nexport const GET_ID_CGSAT = 'GET_ID_CGSAT';\r\nexport const GET_ID_CGSAT_SUCCESS = 'GET_ID_CGSAT_SUCCESS';\r\nexport const GET_ID_CGSAT_FAIL = 'GET_ID_CGSAT_FAIL';\r\n\r\nexport const ADD_CGSAT = 'ADD_CGSAT';\r\nexport const ADD_CGSAT_SUCCESS = 'ADD_CGSAT_SUCCESS';\r\nexport const ADD_CGSAT_FAIL = 'ADD_CGSAT_FAIL';\r\n\r\nexport const DELETE_CGSAT = 'DELETE_CGSAT';\r\nexport const DELETE_CGSAT_SUCCESS = 'DELETE_CGSAT_SUCCESS';\r\nexport const DELETE_CGSAT_FAIL = 'DELETE_CGSAT_FAIL';\r\n\r\nexport const UPDATE_CGSAT = 'UPDATE_CGSAT';\r\nexport const UPDATE_CGSAT_SUCCESS = 'UPDATE_CGSAT_SUCCESS';\r\nexport const UPDATE_CGSAT_NOTE = 'UPDATE_CGSAT_NOTE';\r\nexport const UPDATE_CGSAT_FAIL = 'UPDATE_CGSAT_FAIL';\r\nexport const SET_CGSAT_EDITING ='SET_CGSAT_EDITING';","const style = (theme) => ({\r\n  content: {\r\n    marginTop: '65px',\r\n    '& .box-search': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n      '& .lb-search': {\r\n        width: '100px',\r\n        fontSize: '1rem',\r\n      },\r\n      '& .field-search': {\r\n        width: 'calc((100% - 100px) / 5)',\r\n        maxWidth: '300px',\r\n        paddingRight: '15px',\r\n        '& .multiple-select': {\r\n          backgroundColor: '#e7e7e7',\r\n          '& .lb-user': {\r\n            top: '-5px',\r\n            paddingLeft: '12px',\r\n            '&.Mui-focused, &.MuiFormLabel-filled': {\r\n              top: '10px'\r\n            }\r\n          },\r\n          '& .lb-user + .sl-user': {\r\n            marginTop: '24px'\r\n          },\r\n          '& .sl-user .MuiSelect-selectMenu': {\r\n            paddingLeft: '12px'\r\n          },\r\n          '& .sl-user.Mui-focused .MuiSelect-selectMenu': {\r\n            backgroundColor: '#e7e7e7',\r\n            paddingLeft: '12px'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        width: '100%',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        height: 'calc(100vh - 255px)',\r\n        overflowY: 'overlay !important',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      }\r\n    },\r\n    '& .lb-status': {\r\n      width: '160px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-start': {\r\n        backgroundColor: '#6c757d'\r\n      },\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-inprg-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-inprg-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-in-progress-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-complete': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-close': {\r\n        backgroundColor: '#000000'\r\n      }\r\n    }\r\n  },\r\n});\r\nexport default style;","const validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'WO',\r\n    'PCT',\r\n    'timeChange'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (values[field] === null || values[field] === '' ) {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  return errors\r\n}\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n  modal: {\r\n    //top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    //position: 'absolute',\r\n    position: 'fixed',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n  TextField: {\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.color.primary,\r\n    color: theme.color.textColor,\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color: theme.color.textColor,\r\n    fontWeight: 700,\r\n    textTransform: 'capitalize',\r\n    fontFamily: 'Roboto'\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    witdth: '100%',\r\n  },\r\n  textField: {\r\n    width: \"100%\",\r\n  },\r\n  TextFieldCustomer: {\r\n    width: \"100%\",\r\n    margin: \"16px 0 8px\"\r\n  },\r\n  alert: {\r\n    display: 'flex',\r\n    margin: '10px',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n\r\nexport default styles;","import React, { Component } from 'react';\r\nimport { withStyles, Grid, Button, FormControl, InputLabel, Select } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as cgsatActions from '../../actions/cgsatActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\nimport moment from 'moment';\r\nimport { ConsoleWriter } from 'istanbul-lib-report';\r\n\r\nclass CgsatForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showSearch: true,\r\n      openSelectCustomer: false,\r\n      nameCustomer: '',\r\n      userIdSelect: '',\r\n      msgError: ''\r\n    }\r\n  }\r\n  //@check login success adn error\r\n  componentDidUpdate(nextprops) {\r\n    const { msgError } = this.props;\r\n    if (msgError !== nextprops.msgError) {\r\n      this.setState({\r\n        msgError\r\n      })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { customerActionCreator } = this.props;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    listAllCustomers();\r\n  }\r\n  handleSubmitForm = (data) => {\r\n    const { cgsatActionsCreator, cgsatEditting, user } = this.props;\r\n    const { addCgsat, updateCgsat } = cgsatActionsCreator;\r\n    const { WO, PCT, timeChange, note } = data;\r\n    const newCgsat = {\r\n      ...(cgsatEditting || {}),\r\n      WO,\r\n      PCT,\r\n      timeChange,\r\n      note: note || '',\r\n      userId: user._id,\r\n    }\r\n    if (cgsatEditting) {\r\n      // newCgsat.PCT = cgsatEditting.PCT\r\n      // newCgsat.WO = cgsatEditting.WO\r\n       newCgsat.userId = cgsatEditting.userId\r\n      // newCgsat.timeChange = cgsatEditting.timeChange\r\n      // newCgsat.note = cgsatEditting.note\r\n      if (user.admin || newCgsat.userId._id === user._id) {\r\n        updateCgsat(newCgsat);\r\n      }\r\n    } else {\r\n      addCgsat(newCgsat);\r\n    }\r\n  };\r\n  handleChangeCustomer = (event) => {\r\n    const name = event.target.name;\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n  rendercgsatFail = () => {\r\n    const { msgError } = this.state;\r\n    console.log(msgError);\r\n    let xhtml = null;\r\n    xhtml = msgError ? (<Alert variant=\"standard\" severity=\"error\">\r\n      {msgError}\r\n    </Alert>) : null\r\n    return xhtml;\r\n  }\r\n  render() {\r\n    var {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n\r\n      initialValues\r\n    } = this.props;\r\n\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n        <Grid container className={classes.form}>\r\n\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"WO\"\r\n              name=\"WO\"\r\n              label=\"Work cgsat\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"PCT\"\r\n              name=\"PCT\"\r\n              label=\"Tại PCT\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n            initialValues.WO ?\r\n              <Grid style={{ fontSize: \"16px\", paddingTop: \"16px\" }} item md={12}>\r\n                <label>Phiếu Thay Đổi GSAT: {initialValues.PCGSAT}</label>\r\n              </Grid>\r\n              : <></>\r\n          }\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"timeChange\"\r\n              name=\"timeChange\"\r\n              label=\"Thời gian thay đổi\"\r\n              type=\"datetime-local\"\r\n              //type=\"date\"\r\n              className={classes.TextField}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"note\"\r\n              name=\"note\"\r\n              label=\"Ghi chú\"\r\n              multiline\r\n              rowsMax={4}\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n          }\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-end\"\r\n            alignItems=\"flex-end\"\r\n          >\r\n            {this.rendercgsatFail()}\r\n            <Button onClick={hideModal}>Hủy</Button>\r\n            <Button disabled={invalid || submitting} type=\"submit\">\r\n              Lưu\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nCgsatForm.propTypes = {\r\n  customerId: PropTypes.string,\r\n  product: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    cgsatEditting: state.cgsats.cgsat,\r\n    initialValues: {\r\n      WO: state.cgsats.cgsat ? state.cgsats.cgsat.WO : null,\r\n      PCT: state.cgsats.cgsat ? state.cgsats.cgsat.PCT : null,\r\n      PCGSAT: state.cgsats.cgsat ? state.cgsats.cgsat.PCGSAT : null,\r\n      note: state.cgsats.cgsat ? state.cgsats.cgsat.note : '',\r\n      timeChange: state.cgsats.cgsat ? moment(state.cgsats.cgsat.timeChange).format('YYYY-MM-DDTHH:mm:SS') : moment(Date.now()).format('YYYY-MM-DDThh:mm:ss'),\r\n    },\r\n    customers: state.customers ? state.customers.customers : [],\r\n    user: state.auth.user,\r\n    msgError: state.error.msg\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    cgsatActionsCreator: bindActionCreators(cgsatActions, dispatch),\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch)\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'cgsat_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(CgsatForm);\r\n","import React, { Component, Fragment, } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as cgsatActions from '../../actions/cgsatActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport CgsatForm from '../CgsatForm';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, InputLabel, Select, MenuItem, Input } from '@material-ui/core';\r\nimport { DeleteForever, Edit, Visibility, Lock } from '@material-ui/icons';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DataTable from 'react-data-table-component';\r\nimport moment from 'moment';\r\nimport { popupConfirm } from '../../actions/ui';\r\n\r\nclass Changegsats extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      pagination: {\r\n        page: 1,\r\n        rowPerPage: 20,\r\n        rowPerPageOption: [10, 20, 50]\r\n      },\r\n      redirect: false,\r\n      idRedirect: '',\r\n      dataSearch: {\r\n        wo: '',\r\n        pct: '',\r\n        userId: [],\r\n      },\r\n      columnsGrid: [\r\n        {\r\n          name: '', width: '100px', center: true,\r\n          cell: (params) => {\r\n            let { user } = this.props;\r\n            let data = JSON.parse(JSON.stringify(params));\r\n            console.log(data)\r\n            let checkUser = (user.admin || user._id === params.userId._id);\r\n            console.log(user)\r\n            return <>\r\n              <Fab\r\n                color=\"default\"\r\n                aria-label=\"Xem Chi Tiết\"\r\n                size='small'\r\n                onClick={() => {\r\n                  this.onClickView(data._id)\r\n                }}\r\n              >\r\n                <Visibility color=\"primary\" />\r\n              </Fab>\r\n              {\r\n                checkUser ?\r\n                  <>\r\n                    &nbsp;&nbsp;\r\n                    <Fab\r\n                      color=\"default\"\r\n                      aria-label=\"Sửa WO\"\r\n                      size='small'\r\n                      onClick={() => {\r\n                        this.onClickEdit(data)\r\n                      }}\r\n                    >\r\n                      <Edit color=\"primary\" />\r\n                    </Fab>\r\n                    &nbsp;&nbsp;\r\n\r\n                    {/* <Fab\r\n                    color=\"default\"\r\n                    aria-label=\"Xóa WO\"\r\n                    size='small'\r\n                    onClick={() => {\r\n                      this.onClickDelete(data)\r\n                    }}\r\n                    >\r\n                    <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                  </Fab> */}\r\n                  </> : <></>\r\n              }\r\n            </>\r\n          }\r\n        },\r\n        { selector: 'PCGSAT', name: 'Số Thay đổi GSAT', width: '200px', sortable: true, center: true },\r\n        { selector: 'WO', name: 'Work Order', width: '120px', sortable: true, center: true },\r\n        { selector: 'PCT', name: 'Số PCT', width: '120px', sortable: true, center: true },\r\n        { selector: 'userId.name', name: 'Người viết phiếu', width: '180px', sortable: true },\r\n        {\r\n          selector: 'timeChange', name: 'Thời gian thay đổi', width: '200px', sortable: true, center: true,\r\n          cell: (params) => moment(params.timeChange).format('HH:mm DD/MM/YYYY')\r\n        },\r\n        { selector: 'note', name: 'Ghi chú', width: '300px', sortable: true },\r\n      ]\r\n    }\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect && this.state.idRedirect) {\r\n      let tool = '/admin/cgsat-detail/' + this.state.idRedirect;\r\n      return <Redirect to={tool} />\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { cgsatActionCreator, customerActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchCgsat } = cgsatActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    let params = JSON.parse(JSON.stringify(dataSearch));\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    searchCgsat(params);\r\n    listAllCustomers();\r\n  }\r\n  onClickDelete = (cgsat) => {\r\n    let { user } = this.props;\r\n    const { dataSearch } = this.state;\r\n    if (!user.admin && user._id !== cgsat.userId._id) return;\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn xóa Phiếu thay đổi GSAT này?\",\r\n      ifOk: () => {\r\n        const { cgsatActionCreator } = self.props;\r\n        const { deleteCgsat } = cgsatActionCreator;\r\n        let params = JSON.parse(JSON.stringify(dataSearch))\r\n        deleteCgsat(cgsat, params);\r\n      }\r\n    })\r\n  }\r\n  onClickView = (idRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      idRedirect\r\n    })\r\n  };\r\n  onCloseWo = (data) => {\r\n    const { cgsatActionCreator, user } = this.props;\r\n    const { updateCgsat } = cgsatActionCreator;\r\n    const newCgsat = JSON.parse(JSON.stringify(data));\r\n    switch (newCgsat.status) {\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          newCgsat.status = 'CLOSE'\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    updateCgsat(newCgsat);\r\n  };\r\n  onClickEdit = (data) => {\r\n    const { cgsatActionCreator, modalActionsCreator, user } = this.props;\r\n    const { setCgsatEditing } = cgsatActionCreator;\r\n    if (!user.admin && user._id !== data.userId._id) return;\r\n    setCgsatEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Phiếu Đổi GSAT');\r\n    changeModalContent(<CgsatForm />);\r\n  }\r\n  handleSearch = (event) => {\r\n    const { cgsatActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchCgsat } = cgsatActionCreator;\r\n    let search = {\r\n      ...dataSearch,\r\n      skip: 0,\r\n      limit: pagination.rowPerPage,\r\n      [event.target.name]: event.target.value\r\n    }\r\n    this.setState({ dataSearch: search });\r\n    searchCgsat(search);\r\n  }\r\n  handleChangePage = (page, total) => {\r\n    const { cgsatActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchCgsat } = cgsatActionCreator;\r\n    pagination.page = page;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchCgsat(params);\r\n  }\r\n  handleChangeRowsPerPage = (rowPerPage, total) => {\r\n    const { cgsatActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchCgsat } = cgsatActionCreator;\r\n    pagination.rowPerPage = rowPerPage;\r\n    pagination.page = 1;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchCgsat(params);\r\n  }\r\n\r\n  render() {\r\n    const { cgsats, customers, CgsatsTotal, classes } = this.props;\r\n    const { columnsGrid, pagination, dataSearch } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.content}>\r\n          <div className=\"box-search\">\r\n            <div className=\"lb-search\">Search</div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_GSAT\"\r\n                name=\"gsat\"\r\n                label=\"Phiếu Thay Đổi GSAT\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_WO\"\r\n                name=\"wo\"\r\n                label=\"Work Order\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_pct\"\r\n                name=\"pct\"\r\n                label=\"Số PCT\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth className=\"multiple-select\">\r\n                <InputLabel className=\"lb-user\" id=\"lb-user\">Người viết phiếu</InputLabel>\r\n                <Select\r\n                  labelId=\"lb-user\"\r\n                  id=\"user-id\"\r\n                  className=\"sl-user\"\r\n                  multiple\r\n                  value={dataSearch.userId}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'userId',\r\n                    id: 'userId',\r\n                  }}\r\n                  input={<Input />}\r\n                >\r\n                  {customers && customers.map((c) => (\r\n                    <MenuItem key={c._id} value={c._id}>\r\n                      {c.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n          </div>\r\n          <Grid className={classes.dataTable}>\r\n            <DataTable\r\n              noHeader={true}\r\n              keyField={'_id'}\r\n              columns={columnsGrid}\r\n              data={this.genData(cgsats)}\r\n              striped={true}\r\n              pagination\r\n              paginationServer\r\n              paginationDefaultPage={pagination.page}\r\n              paginationPerPage={pagination.rowPerPage}\r\n              paginationRowsPerPageOptions={pagination.rowPerPageOption}\r\n              paginationTotalRows={CgsatsTotal}\r\n              onChangePage={this.handleChangePage}\r\n              onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n            />\r\n          </Grid>\r\n          {this.renderRedirect()}\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  genData = (cgsats) => {\r\n    let { user } = this.props;\r\n    console.log(cgsats)\r\n    if (!user) return [];\r\n    return cgsats.filter(cgsat => cgsat.userId)\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    cgsats: state.cgsats.cgsats,\r\n    CgsatsTotal: state.cgsats.total,\r\n    user: state.auth.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    cgsatActionCreator: bindActionCreators(cgsatActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(Changegsats);","const style = (theme) => ({\r\n  containerPanel: {\r\n    marginTop: '65px',\r\n    '& .hide' : {\r\n      display: 'none !important'\r\n    },\r\n    '& .box-panel': {\r\n      display: 'flex',\r\n      '& .block': {\r\n        padding: '15px',\r\n        background: '#fff',\r\n        boxShadow: '0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)',\r\n        height: '100%',\r\n        fontSize: '1rem',\r\n        '& .info-wo': {\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          margin: '0 -15px',\r\n          '& .col-wo-50': {\r\n            width: '50%',\r\n            padding: '0 15px'\r\n          },\r\n          '& .col-wo-100': {\r\n            width: '100%',\r\n            padding: '0 15px'\r\n          }\r\n        },\r\n        '& .image-gallery': {\r\n          '& .image-gallery-image': {\r\n            height: 'calc(100vh - 280px)'\r\n          }\r\n        }\r\n      },\r\n      '& .customer-field': {\r\n        fontSize: '1rem',\r\n        marginTop: '10px'\r\n      },\r\n      '& .header-action': {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n      },\r\n      '& .left-panel': {\r\n        width: '50%',\r\n        marginLeft: '25%',\r\n        transition: 'all 1s ease-in-out',\r\n        '& .field': {\r\n          margin: '10px 0'\r\n        }\r\n      },\r\n      '& .right-panel': {\r\n        width: '50%',\r\n        display: 'none',\r\n      },\r\n      '&.show-right-panel': {\r\n        '& .left-panel': {\r\n          marginLeft: '0',\r\n          paddingRight: '10px'\r\n        },\r\n        '& .right-panel': {\r\n          display: 'block',\r\n          paddingLeft: '10px'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        height: 'calc(100vh - 590px)',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        overflowY: 'overlay !important',\r\n        minHeight: '200px',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      },\r\n    \r\n    },\r\n    '& .lb-status': {\r\n      width: '90px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-in-use': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-bad': {\r\n        backgroundColor: '#dc3545'\r\n      },\r\n      '&.color-lost': {\r\n        backgroundColor: '#343a40'\r\n      }\r\n    },\r\n  },\r\n  gridList: {\r\n    flexWrap: 'nowrap',\r\n    transform: 'translateZ(0)',\r\n  },\r\n  boxActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    margin: '10px 0'\r\n  },\r\n  maskLoading: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: 'calc(100% - 64px)',\r\n    top: '0',\r\n    left: '0',\r\n    backgroundColor: 'rgba(0,0,0,0.3)',\r\n    zIndex: 1\r\n  }\r\n});\r\nexport default style;","import React, { Component, Fragment, } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as cgsatActions from '../../actions/cgsatActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as toolActions from '../../actions/toolActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport { Grid, withStyles, TextField, FormControl, Button } from '@material-ui/core';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {ArrowBackIos, Edit } from '@material-ui/icons';\r\nimport CgsatForm from '../CgsatForm';\r\nimport moment from 'moment';\r\n\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\n\r\n\r\nclass CgsatDetail extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showRightPanel: false,\r\n      redirect: false,\r\n      urlRedirect: '',\r\n      currentIdTool: {},\r\n      isChange: false,\r\n      cgsatAction: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { cgsatActionCreator, customerActionCreator, match: { params }, cgsat } = this.props;\r\n    const { getIdCgsat } = cgsatActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    getIdCgsat(params.cgsatId);\r\n    listAllCustomers();\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.urlRedirect} />\r\n    }\r\n  }\r\n  onClickAddTool = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickGotoList = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickEdit = (data) => {\r\n    const { cgsatActionCreator, modalActionsCreator } = this.props;\r\n    const { setCgsatEditing } = cgsatActionCreator;\r\n    setCgsatEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Phiếu thay đổi GSAT');\r\n    changeModalContent(<CgsatForm />);\r\n  }\r\n  onChangeNote = (event) => {\r\n    const { cgsatActionCreator, cgsat } = this.props;\r\n    const { updateCgsatNote } = cgsatActionCreator;\r\n    const newCgsat = JSON.parse(JSON.stringify(cgsat));\r\n    newCgsat.note = event.target.value;\r\n    this.setState({ isChange: true });\r\n    updateCgsatNote(newCgsat);\r\n  }\r\n  onBlurNote = (event) => {\r\n    const { cgsatActionCreator, cgsat } = this.props;\r\n    const { isChange } = this.state;\r\n    const newCgsat = JSON.parse(JSON.stringify(cgsat));\r\n    if (isChange) {\r\n      const { updateCgsat } = cgsatActionCreator;\r\n      newCgsat.note = event.target.value;\r\n      updateCgsat(newCgsat);\r\n      this.setState({ isChange: false });\r\n    }\r\n  }\r\n  render() {\r\n    const { classes, cgsat, user, customers } = this.props\r\n    const { showRightPanel, columnsGrid, columnsGridComplete, currentIdTool, cgsatAction } = this.state\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.containerPanel}>\r\n          {this.renderRedirect()}\r\n          <div className={cgsat._id ? '' : classes.maskLoading}>\r\n          </div>\r\n          <Grid className={(showRightPanel ? 'box-panel show-right-panel' : 'box-panel')}>\r\n            <Grid className='left-panel'>\r\n              <div className='block'>\r\n                <div className='header-action'>\r\n                  <div className='group'>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickGotoList('/admin/cgsat') }}>\r\n                      <ArrowBackIos style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Quay về danh sách\r\n                    </Button>\r\n                    &nbsp;\r\n                    <Button className={cgsat.userId && (user.admin || user._id === cgsat.userId._id) ? '' : 'hide'} variant=\"contained\" color=\"primary\" onClick={() => { this.onClickEdit(cgsat) }}>\r\n                      <Edit style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Chỉnh sửa\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                {cgsat.userId && user._id !== cgsat.userId._id ? <div className='customer-field'>Người dùng: {cgsat.userId ? cgsat.userId.name : ''}</div> : ''}\r\n                <div className='info-wo'>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"cgsat\" value={cgsat.PCGSAT} label=\"Số Phiếu Đổi GSAT\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n\r\n\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"pct\" value={cgsat.PCT} label=\"PCT\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"wo\" value={cgsat.WO} label=\"Work Cgsat\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"timeChange\" value={moment(cgsat.timeChange).format('HH:mm DD/MM/YYYY')} label=\"Ngày giờ thay đổi\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-100'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"note\" multiline value={cgsat.note || ''} label=\"Ghi chú\" onBlur={this.onBlurNote} onChange={this.onChangeNote} InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    cgsats: state.cgsats.cgsats,\r\n    cgsat: {\r\n      WO: state.cgsats.cgsat ? state.cgsats.cgsat.WO : '',\r\n      PCT: state.cgsats.cgsat ? state.cgsats.cgsat.PCT : '',\r\n      PCGSAT: state.cgsats.cgsat ? state.cgsats.cgsat.PCGSAT : '',\r\n      timeChange: state.cgsats.cgsat ? state.cgsats.cgsat.timeChange : '',\r\n      userId: state.cgsats.cgsat ? state.cgsats.cgsat.userId : {},\r\n      note: state.cgsats.cgsat ? state.cgsats.cgsat.note : '',\r\n      _id: state.cgsats.cgsat ? state.cgsats.cgsat._id : '',\r\n      isAction: true\r\n    },\r\n    user: state.auth.user || {}\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    toolActionCreator: bindActionCreators(toolActions, dispatch),\r\n    cgsatActionCreator: bindActionCreators(cgsatActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(CgsatDetail);","import * as bbdgktConstants from '../constants/bbdgkt';\r\n\r\nexport const listAllBbdgkts = (params = {}) => {\r\n  return {\r\n    type: bbdgktConstants.GET_ALL_BBDGKT,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const listAllBbdgktsSuccess = (data) => {\r\n  return {\r\n    type: bbdgktConstants.GET_ALL_BBDGKT_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const listAllBbdgktsFail = (error) => {\r\n  return {\r\n    type: bbdgktConstants.GET_ALL_BBDGKT_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const searchBbdgkt = (params = {}) => {\r\n  return {\r\n    type: bbdgktConstants.SEARCH_BBDGKT,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const searchBbdgktSuccess = (data, params) => {\r\n  return {\r\n    type: bbdgktConstants.SEARCH_BBDGKT_SUCCESS,\r\n    payload: { data, params }\r\n  }\r\n}\r\nexport const searchBbdgktFail = (error) => {\r\n  return {\r\n    type: bbdgktConstants.SEARCH_BBDGKT_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const getIdBbdgkt = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.GET_ID_BBDGKT,\r\n    payload\r\n  }\r\n}\r\nexport const getIdBbdgktSuccess = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.GET_ID_BBDGKT_SUCCESS,\r\n    payload\r\n  }\r\n}\r\nexport const getIdBbdgktFail = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.GET_ID_BBDGKT_FAIL,\r\n    payload\r\n  }\r\n}\r\nexport const addBbdgkt = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.ADD_BBDGKT,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addBbdgktSuccess = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.ADD_BBDGKT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addBbdgktFail = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.ADD_BBDGKT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteBbdgkt = (payload, params) => {\r\n  return {\r\n    type: bbdgktConstants.DELETE_BBDGKT,\r\n    payload: {\r\n      ...payload,\r\n      params\r\n    },\r\n  };\r\n};\r\n\r\nexport const deleteBbdgktSuccess = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.DELETE_BBDGKT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteBbdgktFail = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.DELETE_BBDGKT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateBbdgkt = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.UPDATE_BBDGKT,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateBbdgktSuccess = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.UPDATE_BBDGKT_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateBbdgktNote = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.UPDATE_BBDGKT_NOTE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateBbdgktFail = (payload) => {\r\n  return {\r\n    type: bbdgktConstants.UPDATE_BBDGKT_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\n\r\nexport const setBbdgktEditing = (bbdgkt) => ({\r\n  type: bbdgktConstants.SET_BBDGKT_EDITING,\r\n  payload: {\r\n    bbdgkt,\r\n  },\r\n});","export const GET_ALL_BBDGKT = 'GET_ALL_BBDGKT';\r\nexport const GET_ALL_BBDGKT_SUCCESS = 'GET_ALL_BBDGKT_SUCCESS';\r\nexport const GET_ALL_BBDGKT_FAIL = 'GET_ALL_BBDGKT_FAIL';\r\n\r\nexport const SEARCH_BBDGKT = 'SEARCH_BBDGKT';\r\nexport const SEARCH_BBDGKT_SUCCESS = 'SEARCH_BBDGKT_SUCCESS';\r\nexport const SEARCH_BBDGKT_FAIL = 'SEARCH_BBDGKT_FAIL';\r\n\r\nexport const GET_ID_BBDGKT = 'GET_ID_BBDGKT';\r\nexport const GET_ID_BBDGKT_SUCCESS = 'GET_ID_BBDGKT_SUCCESS';\r\nexport const GET_ID_BBDGKT_FAIL = 'GET_ID_BBDGKT_FAIL';\r\n\r\nexport const ADD_BBDGKT = 'ADD_BBDGKT';\r\nexport const ADD_BBDGKT_SUCCESS = 'ADD_BBDGKT_SUCCESS';\r\nexport const ADD_BBDGKT_FAIL = 'ADD_BBDGKT_FAIL';\r\n\r\nexport const DELETE_BBDGKT = 'DELETE_BBDGKT';\r\nexport const DELETE_BBDGKT_SUCCESS = 'DELETE_BBDGKT_SUCCESS';\r\nexport const DELETE_BBDGKT_FAIL = 'DELETE_BBDGKT_FAIL';\r\n\r\nexport const UPDATE_BBDGKT = 'UPDATE_BBDGKT';\r\nexport const UPDATE_BBDGKT_SUCCESS = 'UPDATE_BBDGKT_SUCCESS';\r\nexport const UPDATE_BBDGKT_NOTE = 'UPDATE_BBDGKT_NOTE';\r\nexport const UPDATE_BBDGKT_FAIL = 'UPDATE_BBDGKT_FAIL';\r\nexport const SET_BBDGKT_EDITING ='SET_BBDGKT_EDITING';","const style = (theme) => ({\r\n  content: {\r\n    marginTop: '65px',\r\n    '& .box-search': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n      '& .lb-search': {\r\n        width: '100px',\r\n        fontSize: '1rem',\r\n      },\r\n      '& .field-search': {\r\n        width: 'calc((100% - 100px) / 5)',\r\n        maxWidth: '300px',\r\n        paddingRight: '15px',\r\n        '& .multiple-select': {\r\n          backgroundColor: '#e7e7e7',\r\n          '& .lb-user': {\r\n            top: '-5px',\r\n            paddingLeft: '12px',\r\n            '&.Mui-focused, &.MuiFormLabel-filled': {\r\n              top: '10px'\r\n            }\r\n          },\r\n          '& .lb-user + .sl-user': {\r\n            marginTop: '24px'\r\n          },\r\n          '& .sl-user .MuiSelect-selectMenu': {\r\n            paddingLeft: '12px'\r\n          },\r\n          '& .sl-user.Mui-focused .MuiSelect-selectMenu': {\r\n            backgroundColor: '#e7e7e7',\r\n            paddingLeft: '12px'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        width: '100%',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        height: 'calc(100vh - 255px)',\r\n        overflowY: 'overlay !important',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      }\r\n    },\r\n    '& .lb-status': {\r\n      width: '160px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-start': {\r\n        backgroundColor: '#6c757d'\r\n      },\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-inprg-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-inprg-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-in-progress-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-complete': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-close': {\r\n        backgroundColor: '#000000'\r\n      }\r\n    }\r\n  },\r\n});\r\nexport default style;","const validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'WO',\r\n    'PCT',\r\n    'timeChange'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (values[field] === null || values[field] === '' ) {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  return errors\r\n}\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n  modal: {\r\n    //top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    //position: 'absolute',\r\n    position: 'fixed',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n  TextField: {\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.color.primary,\r\n    color: theme.color.textColor,\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color: theme.color.textColor,\r\n    fontWeight: 700,\r\n    textTransform: 'capitalize',\r\n    fontFamily: 'Roboto'\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    witdth: '100%',\r\n  },\r\n  textField: {\r\n    width: \"100%\",\r\n  },\r\n  TextFieldCustomer: {\r\n    width: \"100%\",\r\n    margin: \"16px 0 8px\"\r\n  },\r\n  alert: {\r\n    display: 'flex',\r\n    margin: '10px',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n\r\nexport default styles;","import React, { Component } from 'react';\r\nimport { withStyles, Grid, Button, FormControl, InputLabel, Select } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as bbdgktActions from '../../actions/bbdgktActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\nimport moment from 'moment';\r\nimport { ConsoleWriter } from 'istanbul-lib-report';\r\n\r\nclass BbdgktForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showSearch: true,\r\n      openSelectCustomer: false,\r\n      nameCustomer: '',\r\n      userIdSelect: '',\r\n      msgError: ''\r\n    }\r\n  }\r\n  //@check login success adn error\r\n  componentDidUpdate(nextprops) {\r\n    const { msgError } = this.props;\r\n    if (msgError !== nextprops.msgError) {\r\n      this.setState({\r\n        msgError\r\n      })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { customerActionCreator } = this.props;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    listAllCustomers();\r\n  }\r\n  handleSubmitForm = (data) => {\r\n    const { bbdgktActionsCreator, bbdgktEditting, user } = this.props;\r\n    const { addBbdgkt, updateBbdgkt } = bbdgktActionsCreator;\r\n    const { WO, content, time, note } = data;\r\n    const newBbdgkt = {\r\n      ...(bbdgktEditting || {}),\r\n      WO,\r\n      content,\r\n      time,\r\n      note: note || '',\r\n      userId: user._id,\r\n      group: user.group,\r\n    }\r\n    if (bbdgktEditting) {\r\n      // newBbdgkt.PCT = bbdgktEditting.PCT\r\n      // newBbdgkt.WO = bbdgktEditting.WO\r\n       newBbdgkt.userId = bbdgktEditting.userId\r\n      // newBbdgkt.timeChange = bbdgktEditting.timeChange\r\n      // newBbdgkt.note = bbdgktEditting.note\r\n      if (user.admin || newBbdgkt.userId._id === user._id) {\r\n        updateBbdgkt(newBbdgkt);\r\n      }\r\n    } else {\r\n      addBbdgkt(newBbdgkt);\r\n    }\r\n  };\r\n  handleChangeCustomer = (event) => {\r\n    const name = event.target.name;\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n  renderbbdgktFail = () => {\r\n    const { msgError } = this.state;\r\n    console.log(msgError);\r\n    let xhtml = null;\r\n    xhtml = msgError ? (<Alert variant=\"standard\" severity=\"error\">\r\n      {msgError}\r\n    </Alert>) : null\r\n    return xhtml;\r\n  }\r\n  render() {\r\n    var {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n\r\n      initialValues\r\n    } = this.props;\r\n\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n        <Grid container className={classes.form}>\r\n\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"WO\"\r\n              name=\"WO\"\r\n              label=\"Work Order\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"content\"\r\n              name=\"content\"\r\n              label=\"Nội dung công tác\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n            initialValues.WO ?\r\n              <Grid style={{ fontSize: \"16px\", paddingTop: \"16px\" }} item md={12}>\r\n                <label>Số Biên Bản ĐGKT: {initialValues.BBDGKT}</label>\r\n              </Grid>\r\n              : <></>\r\n          }\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"time\"\r\n              name=\"time\"\r\n              label=\"Ngày thực hiện\"\r\n              type=\"date\"\r\n              //type=\"date\"\r\n              className={classes.TextField}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"note\"\r\n              name=\"note\"\r\n              label=\"Ghi chú\"\r\n              multiline\r\n              rowsMax={4}\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n          }\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-end\"\r\n            alignItems=\"flex-end\"\r\n          >\r\n            {this.renderbbdgktFail()}\r\n            <Button onClick={hideModal}>Hủy</Button>\r\n            <Button disabled={invalid || submitting} type=\"submit\">\r\n              Lưu\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nBbdgktForm.propTypes = {\r\n  customerId: PropTypes.string,\r\n  product: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    bbdgktEditting: state.bbdgkts.bbdgkt,\r\n    initialValues: {\r\n      WO: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.WO : null,\r\n      content: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.content : null,\r\n      BBDGKT: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.BBDGKT : null,\r\n      note: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.note : '',\r\n      time: state.bbdgkts.bbdgkt ? moment(state.bbdgkts.bbdgkt.time).format('YYYY-MM-DD') : moment(Date.now()).format('YYYY-MM-DD'),\r\n    },\r\n    customers: state.customers ? state.customers.customers : [],\r\n    user: state.auth.user,\r\n    msgError: state.error.msg\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    bbdgktActionsCreator: bindActionCreators(bbdgktActions, dispatch),\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch)\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'bbdgkt_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(BbdgktForm);\r\n","import React, { Component, Fragment, } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as bbdgktActions from '../../actions/bbdgktActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport BbdgktForm from '../BbdgktForm';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, InputLabel, Select, MenuItem, Input } from '@material-ui/core';\r\nimport { DeleteForever, Edit, Visibility, Lock } from '@material-ui/icons';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DataTable from 'react-data-table-component';\r\nimport moment from 'moment';\r\nimport { popupConfirm } from '../../actions/ui';\r\n\r\nclass Bbdgkts extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      pagination: {\r\n        page: 1,\r\n        rowPerPage: 20,\r\n        rowPerPageOption: [10, 20, 50]\r\n      },\r\n      redirect: false,\r\n      idRedirect: '',\r\n      dataSearch: {\r\n        wo: '',\r\n        pct: '',\r\n        userId: [],\r\n      },\r\n      columnsGrid: [\r\n        {\r\n          name: '', width: '100px', center: true,\r\n          cell: (params) => {\r\n            let { user } = this.props;\r\n            let data = JSON.parse(JSON.stringify(params));\r\n            console.log(data)\r\n            let checkUser = (user.admin || user._id === params.userId._id);\r\n            console.log(user)\r\n            return <>\r\n              <Fab\r\n                color=\"default\"\r\n                aria-label=\"Xem Chi Tiết\"\r\n                size='small'\r\n                onClick={() => {\r\n                  this.onClickView(data._id)\r\n                }}\r\n              >\r\n                <Visibility color=\"primary\" />\r\n              </Fab>\r\n              {\r\n                checkUser ?\r\n                  <>\r\n                    &nbsp;&nbsp;\r\n                    <Fab\r\n                      color=\"default\"\r\n                      aria-label=\"Sửa WO\"\r\n                      size='small'\r\n                      onClick={() => {\r\n                        this.onClickEdit(data)\r\n                      }}\r\n                    >\r\n                      <Edit color=\"primary\" />\r\n                    </Fab>\r\n                    &nbsp;&nbsp;\r\n\r\n                    {/* <Fab\r\n                    color=\"default\"\r\n                    aria-label=\"Xóa WO\"\r\n                    size='small'\r\n                    onClick={() => {\r\n                      this.onClickDelete(data)\r\n                    }}\r\n                    >\r\n                    <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                  </Fab> */}\r\n                  </> : <></>\r\n              }\r\n            </>\r\n          }\r\n        },\r\n        { selector: 'BBDGKT', name: 'Số Thay đổi GSAT', width: '200px', sortable: true, center: true },\r\n        { selector: 'userId.department', name: 'Phân xưởng thực hiện', width: '200px', sortable: true, center: true },\r\n        { selector: 'content', name: 'Nội dung công tác', width: '500px', sortable: true, center: true },\r\n        {\r\n          selector: 'time', name: 'Ngày thực hiện', width: '200px', sortable: true, center: true,\r\n          cell: (params) => moment(params.time).format('DD/MM/YYYY')\r\n        },\r\n        { selector: 'WO', name: 'Work Order', width: '120px', sortable: true, center: true },\r\n\r\n        { selector: 'userId.name', name: 'Người thực hiện', width: '180px', sortable: true },\r\n\r\n        { selector: 'note', name: 'Ghi chú', width: '300px', sortable: true },\r\n      ]\r\n    }\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect && this.state.idRedirect) {\r\n      let tool = '/admin/bbdgkt-detail/' + this.state.idRedirect;\r\n      return <Redirect to={tool} />\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { bbdgktActionCreator, customerActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchBbdgkt } = bbdgktActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    let params = JSON.parse(JSON.stringify(dataSearch));\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    searchBbdgkt(params);\r\n    listAllCustomers();\r\n  }\r\n  onClickDelete = (bbdgkt) => {\r\n    let { user } = this.props;\r\n    const { dataSearch } = this.state;\r\n    if (!user.admin && user._id !== bbdgkt.userId._id) return;\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn xóa Phiếu thay đổi GSAT này?\",\r\n      ifOk: () => {\r\n        const { bbdgktActionCreator } = self.props;\r\n        const { deleteBbdgkt } = bbdgktActionCreator;\r\n        let params = JSON.parse(JSON.stringify(dataSearch))\r\n        deleteBbdgkt(bbdgkt, params);\r\n      }\r\n    })\r\n  }\r\n  onClickView = (idRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      idRedirect\r\n    })\r\n  };\r\n  onCloseWo = (data) => {\r\n    const { bbdgktActionCreator, user } = this.props;\r\n    const { updateBbdgkt } = bbdgktActionCreator;\r\n    const newBbdgkt = JSON.parse(JSON.stringify(data));\r\n    switch (newBbdgkt.status) {\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          newBbdgkt.status = 'CLOSE'\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    updateBbdgkt(newBbdgkt);\r\n  };\r\n  onClickEdit = (data) => {\r\n    const { bbdgktActionCreator, modalActionsCreator, user } = this.props;\r\n    const { setBbdgktEditing } = bbdgktActionCreator;\r\n    if (!user.admin && user._id !== data.userId._id) return;\r\n    setBbdgktEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Phiếu Đổi GSAT');\r\n    changeModalContent(<BbdgktForm />);\r\n  }\r\n  handleSearch = (event) => {\r\n    const { bbdgktActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchBbdgkt } = bbdgktActionCreator;\r\n    let search = {\r\n      ...dataSearch,\r\n      skip: 0,\r\n      limit: pagination.rowPerPage,\r\n      [event.target.name]: event.target.value\r\n    }\r\n    this.setState({ dataSearch: search });\r\n    searchBbdgkt(search);\r\n  }\r\n  handleChangePage = (page, total) => {\r\n    const { bbdgktActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchBbdgkt } = bbdgktActionCreator;\r\n    pagination.page = page;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchBbdgkt(params);\r\n  }\r\n  handleChangeRowsPerPage = (rowPerPage, total) => {\r\n    const { bbdgktActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchBbdgkt } = bbdgktActionCreator;\r\n    pagination.rowPerPage = rowPerPage;\r\n    pagination.page = 1;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchBbdgkt(params);\r\n  }\r\n\r\n  render() {\r\n    const { bbdgkts, customers, bbdgktsTotal, classes } = this.props;\r\n    const { columnsGrid, pagination, dataSearch } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.content}>\r\n          <div className=\"box-search\">\r\n            <div className=\"lb-search\">Search</div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_BBDGKT\"\r\n                name=\"bbdgkt\"\r\n                label=\"Biên bản ĐGKT\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_WO\"\r\n                name=\"wo\"\r\n                label=\"Work Order\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_content\"\r\n                name=\"content\"\r\n                label=\"Nội dung công tác\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth className=\"multiple-select\">\r\n                <InputLabel className=\"lb-user\" id=\"lb-user\">Người viết phiếu</InputLabel>\r\n                <Select\r\n                  labelId=\"lb-user\"\r\n                  id=\"user-id\"\r\n                  className=\"sl-user\"\r\n                  multiple\r\n                  value={dataSearch.userId}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'userId',\r\n                    id: 'userId',\r\n                  }}\r\n                  input={<Input />}\r\n                >\r\n                  {customers && customers.map((c) => (\r\n                    <MenuItem key={c._id} value={c._id}>\r\n                      {c.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth variant=\"filled\">\r\n                <InputLabel htmlFor=\"status\">Trạng thái</InputLabel>\r\n                <Select\r\n                  fullWidth\r\n                  native\r\n                  value={dataSearch.status}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'status',\r\n                    id: 'status',\r\n                  }}\r\n                >\r\n                  <option value=\"ALL\">Tất cả</option>\r\n                  <option value=\"START\">START</option>\r\n                  <option value=\"READY\">READY</option>\r\n                  <option value=\"IN PROGRESS\">IN PROGRESS</option>\r\n                  <option value=\"INPRG NO TOOL\">INPRG NO TOOL</option>\r\n                  <option value=\"INPRG HAVE TOOL\">INPRG HAVE TOOL</option>\r\n                  <option value=\"COMPLETE\">COMPLETE</option>\r\n                  <option value=\"CLOSE\">CLOSE</option>\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n          </div>\r\n          <Grid className={classes.dataTable}>\r\n            <DataTable\r\n              noHeader={true}\r\n              keyField={'_id'}\r\n              columns={columnsGrid}\r\n              data={this.genData(bbdgkts)}\r\n              striped={true}\r\n              pagination\r\n              paginationServer\r\n              paginationDefaultPage={pagination.page}\r\n              paginationPerPage={pagination.rowPerPage}\r\n              paginationRowsPerPageOptions={pagination.rowPerPageOption}\r\n              paginationTotalRows={bbdgktsTotal}\r\n              onChangePage={this.handleChangePage}\r\n              onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n            />\r\n          </Grid>\r\n          {this.renderRedirect()}\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  genData = (bbdgkts) => {\r\n    let { user } = this.props;\r\n    console.log(bbdgkts)\r\n    if (!user) return [];\r\n    return bbdgkts.filter(bbdgkt => bbdgkt.userId)\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    bbdgkts: state.bbdgkts.bbdgkts,\r\n    bbdgktsTotal: state.bbdgkts.total,\r\n    user: state.auth.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    bbdgktActionCreator: bindActionCreators(bbdgktActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(Bbdgkts);","const style = (theme) => ({\r\n  containerPanel: {\r\n    marginTop: '65px',\r\n    '& .hide' : {\r\n      display: 'none !important'\r\n    },\r\n    '& .box-panel': {\r\n      display: 'flex',\r\n      '& .block': {\r\n        padding: '15px',\r\n        background: '#fff',\r\n        boxShadow: '0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)',\r\n        height: '100%',\r\n        fontSize: '1rem',\r\n        '& .info-wo': {\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          margin: '0 -15px',\r\n          '& .col-wo-50': {\r\n            width: '50%',\r\n            padding: '0 15px'\r\n          },\r\n          '& .col-wo-100': {\r\n            width: '100%',\r\n            padding: '0 15px'\r\n          }\r\n        },\r\n        '& .image-gallery': {\r\n          '& .image-gallery-image': {\r\n            height: 'calc(100vh - 280px)'\r\n          }\r\n        }\r\n      },\r\n      '& .customer-field': {\r\n        fontSize: '1rem',\r\n        marginTop: '10px'\r\n      },\r\n      '& .header-action': {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n      },\r\n      '& .left-panel': {\r\n        width: '50%',\r\n        marginLeft: '25%',\r\n        transition: 'all 1s ease-in-out',\r\n        '& .field': {\r\n          margin: '10px 0'\r\n        }\r\n      },\r\n      '& .right-panel': {\r\n        width: '50%',\r\n        display: 'none',\r\n      },\r\n      '&.show-right-panel': {\r\n        '& .left-panel': {\r\n          marginLeft: '0',\r\n          paddingRight: '10px'\r\n        },\r\n        '& .right-panel': {\r\n          display: 'block',\r\n          paddingLeft: '10px'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        height: 'calc(100vh - 590px)',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        overflowY: 'overlay !important',\r\n        minHeight: '200px',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      },\r\n    \r\n    },\r\n    '& .lb-status': {\r\n      width: '90px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-in-use': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-bad': {\r\n        backgroundColor: '#dc3545'\r\n      },\r\n      '&.color-lost': {\r\n        backgroundColor: '#343a40'\r\n      }\r\n    },\r\n  },\r\n  gridList: {\r\n    flexWrap: 'nowrap',\r\n    transform: 'translateZ(0)',\r\n  },\r\n  boxActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    margin: '10px 0'\r\n  },\r\n  maskLoading: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: 'calc(100% - 64px)',\r\n    top: '0',\r\n    left: '0',\r\n    backgroundColor: 'rgba(0,0,0,0.3)',\r\n    zIndex: 1\r\n  }\r\n});\r\nexport default style;","import React, { Component, Fragment, } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as bbdgktActions from '../../actions/bbdgktActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as toolActions from '../../actions/toolActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport * as fileActions from '../../actions/fileActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport { Grid, withStyles, TextField, FormControl, Button, Fab } from '@material-ui/core';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { ArrowBackIos, Edit, DeleteForever } from '@material-ui/icons';\r\nimport DataTable from 'react-data-table-component';\r\nimport BbdgktForm from '../BbdgktForm';\r\nimport moment from 'moment';\r\nimport FileInput from '../../components/FileInput';\r\nimport { popupConfirm, popupConfirmYesNo } from '../../actions/ui';\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\n\r\n\r\nclass BbdgktDetail extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showRightPanel: false,\r\n      redirect: false,\r\n      urlRedirect: '',\r\n      currentIdTool: {},\r\n      isChange: false,\r\n      bbdgktAction: true,\r\n      addFile: false,\r\n      columnsGrid: [\r\n        { selector: 'name', name: 'Tên tài liệu', width: '100% - 300px', sortable: true },\r\n        {\r\n          selector: 'idFile', name: 'Link xem', width: 'calc((100% - 100px) / 3)',\r\n          cell: (params) => {\r\n            console.log(params.idFile)\r\n            return <>\r\n              <div>\r\n                <a href={`https://drive.google.com/file/d/${params.idFile}`} target=\"_blank\">Click me</a>\r\n              </div>\r\n\r\n            </>\r\n          },\r\n          sortable: true\r\n        },\r\n        {\r\n          name: 'Hành động', width: '100px',\r\n          cell: (params) => {\r\n            let { fastReport } = this.props;\r\n            console.log(fastReport)\r\n\r\n            let data = JSON.parse(JSON.stringify(params))\r\n            console.log(data)\r\n            return <>\r\n              <div>\r\n                {/* <a href={`https://drive.google.com/file/d/${params.idFile}`} target=\"_blank\">Click me</a> */}\r\n                <Fab\r\n                  size='small'\r\n                  onClick={() => {\r\n                    this.onClickRemoveDoc(data)\r\n                  }}>\r\n                  <DeleteForever color=\"error\" fontSize=\"small\" /></Fab>\r\n              </div>\r\n\r\n            </>\r\n          }\r\n        }\r\n      ],\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { bbdgktActionCreator, customerActionCreator, match: { params }, bbdgkt } = this.props;\r\n    const { getIdBbdgkt } = bbdgktActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    getIdBbdgkt(params.bbdgktId);\r\n    listAllCustomers();\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.urlRedirect} />\r\n    }\r\n  }\r\n  onClickAddTool = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickGotoList = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickEdit = (data) => {\r\n    const { bbdgktActionCreator, modalActionsCreator } = this.props;\r\n    const { setBbdgktEditing } = bbdgktActionCreator;\r\n    setBbdgktEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa Biên Bản ĐGKT');\r\n    changeModalContent(<BbdgktForm />);\r\n  }\r\n  onChangeNote = (event) => {\r\n    const { bbdgktActionCreator, bbdgkt } = this.props;\r\n    const { updateBbdgktNote } = bbdgktActionCreator;\r\n    const newBbdgkt = JSON.parse(JSON.stringify(bbdgkt));\r\n    newBbdgkt.note = event.target.value;\r\n    this.setState({ isChange: true });\r\n    updateBbdgktNote(newBbdgkt);\r\n  }\r\n  onBlurNote = (event) => {\r\n    const { bbdgktActionCreator, bbdgkt } = this.props;\r\n    const { isChange } = this.state;\r\n    const newBbdgkt = JSON.parse(JSON.stringify(bbdgkt));\r\n    if (isChange) {\r\n      const { updateBbdgkt } = bbdgktActionCreator;\r\n      newBbdgkt.note = event.target.value;\r\n      updateBbdgkt(newBbdgkt);\r\n      this.setState({ isChange: false });\r\n    }\r\n  }\r\n  addFile = (data) => {\r\n    const { fileActionsCreator } = this.props;\r\n    const { uploadFilesSuccess } = fileActionsCreator;\r\n    console.log(data)\r\n    uploadFilesSuccess(data.files)\r\n    this.setState({\r\n      addFile: true,\r\n    })\r\n  };\r\n  generateDocs = (bbdgkt) => {\r\n    console.log('generate bang')\r\n    console.log(bbdgkt)\r\n    const { user } = this.props;\r\n    if (!user && !user._id) return [];\r\n    bbdgkt.isAction = true\r\n    if (!user.admin && bbdgkt.userId && (user._id !== bbdgkt.userId._id)) bbdgkt.isAction = false;\r\n    if (bbdgkt && bbdgkt.files && bbdgkt.files.length > 0) {\r\n      return bbdgkt.files\r\n    }\r\n    return []\r\n  }\r\n  onClickRemoveDoc = (data) => {\r\n    let self = this\r\n    console.log(data)\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn bỏ tài liệu này?\",\r\n      ifOk: () => {\r\n        const { bbdgktActionCreator, toolActionCreator, bbdgkt, fileActionsCreator } = self.props;\r\n        const { currentIdTool } = self.state;\r\n        console.log(currentIdTool)\r\n        const { updateBbdgkt } = bbdgktActionCreator;\r\n        const { deleteFile } = fileActionsCreator;\r\n        const newbbdgkt = JSON.parse(JSON.stringify(bbdgkt));\r\n        const newTool = JSON.parse(JSON.stringify(data));\r\n        let indexTool = newbbdgkt.files.findIndex(function (item, i) {\r\n          return item._id === data._id\r\n        });\r\n        newbbdgkt.files.splice(indexTool, 1);\r\n        newTool.wo = \"\";\r\n        newTool.status = 1;\r\n        updateBbdgkt(newbbdgkt);\r\n        deleteFile(data.idFile);\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { classes, bbdgkt, user, customers } = this.props\r\n    const { showRightPanel, columnsGrid, columnsGridComplete, currentIdTool, bbdgktAction, addFile } = this.state\r\n    let dataTable = this.generateDocs(bbdgkt)\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.containerPanel}>\r\n          {this.renderRedirect()}\r\n          <div className={bbdgkt._id ? '' : classes.maskLoading}>\r\n          </div>\r\n          <Grid className={(showRightPanel ? 'box-panel show-right-panel' : 'box-panel')}>\r\n            <Grid className='left-panel'>\r\n              <div className='block'>\r\n                <div className='header-action'>\r\n                  <div className='group'>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickGotoList('/admin/bbdgkt') }}>\r\n                      <ArrowBackIos style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Quay về danh sách\r\n                    </Button>\r\n                    &nbsp;\r\n                    <Button className={bbdgkt.userId && (user.admin || user._id === bbdgkt.userId._id) ? '' : 'hide'} variant=\"contained\" color=\"primary\" onClick={() => { this.onClickEdit(bbdgkt) }}>\r\n                      <Edit style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Chỉnh sửa\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                {bbdgkt.userId && user._id !== bbdgkt.userId._id ? <div className='customer-field'>Người dùng: {bbdgkt.userId ? bbdgkt.userId.name : ''}</div> : ''}\r\n                <div className='info-wo'>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"bbdgkt\" value={bbdgkt.BBDGKT} label=\"Số Biên Bản ĐGKT\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"content\" value={bbdgkt.content} label=\"Nội dung công tác\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"wo\" value={bbdgkt.WO} label=\"Work Bbdgkt\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"time\" value={moment(bbdgkt.time).format('DD/MM/YYYY')} label=\"Ngày thực hiện\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-100'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"note\" multiline value={bbdgkt.note || ''} label=\"Ghi chú\" onBlur={this.onBlurNote} onChange={this.onChangeNote} InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  {addFile ? <></> : <Button className={bbdgkt.userId && (user.admin || user._id === bbdgkt.userId._id) ? '' : 'hide'} variant=\"contained\" color=\"primary\" onClick={() => { this.addFile(bbdgkt) }}>\r\n                    <Edit style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Thêm File\r\n                  </Button>}\r\n                  {addFile ? <FileInput /> : <></>}\r\n                  &nbsp;\r\n                </div>\r\n                <Grid className={classes.dataTable}>\r\n                  <DataTable\r\n                    noHeader={true}\r\n                    keyField={'_id'}\r\n                    columns={columnsGrid}\r\n                    data={dataTable}\r\n                    striped={true}\r\n                    pagination\r\n                    paginationPerPage={20}\r\n                    paginationRowsPerPageOptions={[10, 20, 50]}\r\n                    //onRowClicked={this.onClickShowTool}\r\n                    noDataComponent='Chưa thêm tài liệu'\r\n                  />\r\n                </Grid>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    bbdgkts: state.bbdgkts.bbdgkts,\r\n    bbdgkt: {\r\n      WO: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.WO : '',\r\n      content: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.content : '',\r\n      BBDGKT: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.BBDGKT : '',\r\n      time: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.time : '',\r\n      userId: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.userId : {},\r\n      note: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.note : '',\r\n      _id: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt._id : '',\r\n      isAction: true,\r\n      files: state.bbdgkts.bbdgkt ? state.bbdgkts.bbdgkt.files : [],\r\n    },\r\n    user: state.auth.user || {}\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    toolActionCreator: bindActionCreators(toolActions, dispatch),\r\n    bbdgktActionCreator: bindActionCreators(bbdgktActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    fileActionsCreator: bindActionCreators(fileActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(BbdgktDetail);","import * as thongkeConstants from '../constants/thongke';\r\n\r\nexport const listAllThongkes = (params = {}) => {\r\n  return {\r\n    type: thongkeConstants.GET_ALL_THONGKE,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const listAllThongkesSuccess = (data) => {\r\n  return {\r\n    type: thongkeConstants.GET_ALL_THONGKE_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const listAllThongkesFail = (error) => {\r\n  return {\r\n    type: thongkeConstants.GET_ALL_THONGKE_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const searchThongke = (params = {}) => {\r\n  return {\r\n    type: thongkeConstants.SEARCH_THONGKE,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const searchThongkeSuccess = (data, params) => {\r\n  return {\r\n    type: thongkeConstants.SEARCH_THONGKE_SUCCESS,\r\n    payload: { data, params }\r\n  }\r\n}\r\nexport const searchThongkeFail = (error) => {\r\n  return {\r\n    type: thongkeConstants.SEARCH_THONGKE_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const getIdThongke = (payload) => {\r\n  return {\r\n    type: thongkeConstants.GET_ID_THONGKE,\r\n    payload\r\n  }\r\n}\r\nexport const getIdThongkeSuccess = (payload) => {\r\n  return {\r\n    type: thongkeConstants.GET_ID_THONGKE_SUCCESS,\r\n    payload\r\n  }\r\n}\r\nexport const getIdThongkeFail = (payload) => {\r\n  return {\r\n    type: thongkeConstants.GET_ID_THONGKE_FAIL,\r\n    payload\r\n  }\r\n}\r\nexport const addThongke = (payload) => {\r\n  return {\r\n    type: thongkeConstants.ADD_THONGKE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addThongkeSuccess = (payload) => {\r\n  return {\r\n    type: thongkeConstants.ADD_THONGKE_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addThongkeFail = (payload) => {\r\n  return {\r\n    type: thongkeConstants.ADD_THONGKE_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteThongke = (payload, params) => {\r\n  return {\r\n    type: thongkeConstants.DELETE_THONGKE,\r\n    payload: {\r\n      ...payload,\r\n      params\r\n    },\r\n  };\r\n};\r\n\r\nexport const deleteThongkeSuccess = (payload) => {\r\n  return {\r\n    type: thongkeConstants.DELETE_THONGKE_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteThongkeFail = (payload) => {\r\n  return {\r\n    type: thongkeConstants.DELETE_THONGKE_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateThongke = (payload) => {\r\n  return {\r\n    type: thongkeConstants.UPDATE_THONGKE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateThongkeSuccess = (payload) => {\r\n  return {\r\n    type: thongkeConstants.UPDATE_THONGKE_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateThongkeNote = (payload) => {\r\n  return {\r\n    type: thongkeConstants.UPDATE_THONGKE_NOTE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateThongkeFail = (payload) => {\r\n  return {\r\n    type: thongkeConstants.UPDATE_THONGKE_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\n\r\nexport const setThongkeEditing = (thongke) => ({\r\n  type: thongkeConstants.SET_THONGKE_EDITING,\r\n  payload: {\r\n    thongke,\r\n  },\r\n});","export const GET_ALL_THONGKE = 'GET_ALL_THONGKE';\r\nexport const GET_ALL_THONGKE_SUCCESS = 'GET_ALL_THONGKE_SUCCESS';\r\nexport const GET_ALL_THONGKE_FAIL = 'GET_ALL_THONGKE_FAIL';\r\n\r\nexport const SEARCH_THONGKE = 'SEARCH_THONGKE';\r\nexport const SEARCH_THONGKE_SUCCESS = 'SEARCH_THONGKE_SUCCESS';\r\nexport const SEARCH_THONGKE_FAIL = 'SEARCH_THONGKE_FAIL';\r\n\r\nexport const GET_ID_THONGKE = 'GET_ID_THONGKE';\r\nexport const GET_ID_THONGKE_SUCCESS = 'GET_ID_THONGKE_SUCCESS';\r\nexport const GET_ID_THONGKE_FAIL = 'GET_ID_THONGKE_FAIL';\r\n\r\nexport const ADD_THONGKE = 'ADD_THONGKE';\r\nexport const ADD_THONGKE_SUCCESS = 'ADD_THONGKE_SUCCESS';\r\nexport const ADD_THONGKE_FAIL = 'ADD_THONGKE_FAIL';\r\n\r\nexport const DELETE_THONGKE = 'DELETE_THONGKE';\r\nexport const DELETE_THONGKE_SUCCESS = 'DELETE_THONGKE_SUCCESS';\r\nexport const DELETE_THONGKE_FAIL = 'DELETE_THONGKE_FAIL';\r\n\r\nexport const UPDATE_THONGKE = 'UPDATE_THONGKE';\r\nexport const UPDATE_THONGKE_SUCCESS = 'UPDATE_THONGKE_SUCCESS';\r\nexport const UPDATE_THONGKE_NOTE = 'UPDATE_THONGKE_NOTE';\r\nexport const UPDATE_THONGKE_FAIL = 'UPDATE_THONGKE_FAIL';\r\nexport const SET_THONGKE_EDITING ='SET_THONGKE_EDITING';","const style = (theme) => ({\r\n  content: {\r\n    marginTop: '65px',\r\n    '& .box-search': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n      '& .lb-search': {\r\n        width: '100px',\r\n        fontSize: '1rem',\r\n      },\r\n      '& .field-search': {\r\n        width: 'calc((100% - 100px) / 5)',\r\n        maxWidth: '300px',\r\n        paddingRight: '15px',\r\n        '& .multiple-select': {\r\n          backgroundColor: '#e7e7e7',\r\n          '& .lb-user': {\r\n            top: '-5px',\r\n            paddingLeft: '12px',\r\n            '&.Mui-focused, &.MuiFormLabel-filled': {\r\n              top: '10px'\r\n            }\r\n          },\r\n          '& .lb-user + .sl-user': {\r\n            marginTop: '24px'\r\n          },\r\n          '& .sl-user .MuiSelect-selectMenu': {\r\n            paddingLeft: '12px'\r\n          },\r\n          '& .sl-user.Mui-focused .MuiSelect-selectMenu': {\r\n            backgroundColor: '#e7e7e7',\r\n            paddingLeft: '12px'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        width: '100%',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        height: 'calc(100vh - 255px)',\r\n        overflowY: 'overlay !important',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      }\r\n    },\r\n    '& .lb-status': {\r\n      width: '160px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-start': {\r\n        backgroundColor: '#6c757d'\r\n      },\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-inprg-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-inprg-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-in-progress-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-complete': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-close': {\r\n        backgroundColor: '#000000'\r\n      }\r\n    }\r\n  },\r\n});\r\nexport default style;","import React, { Component, Fragment, } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as thongkeActions from '../../actions/thongkeActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, InputLabel, Select, MenuItem, Input } from '@material-ui/core';\r\nimport { DeleteForever, Edit, Visibility, Lock } from '@material-ui/icons';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DataTable from 'react-data-table-component';\r\nimport moment from 'moment';\r\nimport { popupConfirm } from '../../actions/ui';\r\n\r\nclass ThongKes extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      pagination: {\r\n        page: 1,\r\n        rowPerPage: 20,\r\n        rowPerPageOption: [10, 20, 50]\r\n      },\r\n      redirect: false,\r\n      idRedirect: '',\r\n      dataSearch: {\r\n        wo: '',\r\n        pct: '',\r\n        userId: [],\r\n      },\r\n\r\n      columnsGrid: [\r\n        {selector: 'status', name: 'Trạng Thái', width: '200px', sortable: true, center: true},\r\n        { selector: 'KN', name: 'Kiểm Nhiệt', width: '200px', sortable: true, center: true },\r\n        { selector: 'TD', name: 'Tự Động', width: '200px', sortable: true, center: true },\r\n        { selector: 'MT', name: 'Máy Tĩnh', width: '200px', sortable: true, center: true },\r\n        { selector: 'MD', name: 'Máy Động', width: '200px', sortable: true, center: true },\r\n        { selector: 'HRSGBOP', name: 'HRSG-BOP', width: '200px', sortable: true, center: true },\r\n        { selector: 'TBP', name: 'TBP', width: '200px', sortable: true, center: true },\r\n        { selector: 'TB', name: 'Turbine', width: '200px', sortable: true, center: true },\r\n      ]\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { thongkeActionCreator, customerActionCreator } = this.props;\r\n    const { pagination, dataSearch, thongkes } = this.state;\r\n    const { searchThongke } = thongkeActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    let params = JSON.parse(JSON.stringify(dataSearch));\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    searchThongke(params);\r\n    listAllCustomers();\r\n  }\r\n\r\n  handleSearch = (event) => {\r\n    const { thongkeActionCreator } = this.props;\r\n    const { pagination, dataSearch, thongkes } = this.state;\r\n    const { searchThongke } = thongkeActionCreator;\r\n    let search = {\r\n      ...dataSearch,\r\n      skip: 0,\r\n      limit: pagination.rowPerPage,\r\n      [event.target.name]: event.target.value\r\n    }\r\n    this.setState({ dataSearch: search });\r\n    searchThongke(search);\r\n  }\r\n  handleChangePage = (page, total) => {\r\n    const { thongkeActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchThongke } = thongkeActionCreator;\r\n    pagination.page = page;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchThongke(params);\r\n  }\r\n  handleChangeRowsPerPage = (rowPerPage, total) => {\r\n    const { thongkeActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchThongke } = thongkeActionCreator;\r\n    pagination.rowPerPage = rowPerPage;\r\n    pagination.page = 1;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchThongke(params);\r\n  }\r\n\r\n  render() {\r\n    const { thongkes, customers, ThongKeTotal, classes } = this.props;\r\n    const { columnsGrid, pagination, dataSearch } = this.state;\r\n    return (\r\n      <Fragment>\r\n         <div className={classes.content}>\r\n          <div className=\"box-search\">\r\n            <div className=\"lb-search\">Search</div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_pct\"\r\n                name=\"pct\"\r\n                label=\"PCT\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n          </div>\r\n        <Grid className={classes.dataTable}>\r\n          <DataTable\r\n            noHeader={true}\r\n            keyField={'_id'}\r\n            columns={columnsGrid}\r\n            data={this.genData(thongkes)}\r\n            striped={true}\r\n            pagination\r\n            paginationServer\r\n            paginationDefaultPage={pagination.page}\r\n            paginationPerPage={pagination.rowPerPage}\r\n            paginationRowsPerPageOptions={pagination.rowPerPageOption}\r\n            paginationTotalRows={10}\r\n            onChangePage={this.handleChangePage}\r\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n          />\r\n        </Grid>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  genData = (thongkes) => {\r\n    //var jsonData = JSON.parse(thongkes)\r\n    //console.log(thongkes)\r\n    let { user } = this.props;\r\n    if (!user) return [];\r\n    return thongkes.filter(thongke => thongke)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    thongkes: state.thongkes.thongkes,\r\n    thongkesTotal: state.thongkes.total,\r\n    user: state.auth.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    thongkeActionCreator: bindActionCreators(thongkeActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(ThongKes);","import * as bptcConstants from '../constants/bptc';\r\n\r\nexport const listAllBptcs = (params = {}) => {\r\n  return {\r\n    type: bptcConstants.GET_ALL_BPTC,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const listAllBptcsSuccess = (data) => {\r\n  return {\r\n    type: bptcConstants.GET_ALL_BPTC_SUCCESS,\r\n    payload: data,\r\n  }\r\n}\r\nexport const listAllBptcsFail = (error) => {\r\n  return {\r\n    type: bptcConstants.GET_ALL_BPTC_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const searchBptc = (params = {}) => {\r\n  return {\r\n    type: bptcConstants.SEARCH_BPTC,\r\n    payload: {\r\n      params,\r\n    }\r\n  }\r\n}\r\nexport const searchBptcSuccess = (data, params) => {\r\n  return {\r\n    type: bptcConstants.SEARCH_BPTC_SUCCESS,\r\n    payload: { data, params }\r\n  }\r\n}\r\nexport const searchBptcFail = (error) => {\r\n  return {\r\n    type: bptcConstants.SEARCH_BPTC_FAIL,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\nexport const getIdBptc = (payload) => {\r\n  return {\r\n    type: bptcConstants.GET_ID_BPTC,\r\n    payload\r\n  }\r\n}\r\nexport const getIdBptcSuccess = (payload) => {\r\n  return {\r\n    type: bptcConstants.GET_ID_BPTC_SUCCESS,\r\n    payload\r\n  }\r\n}\r\nexport const getIdBptcFail = (payload) => {\r\n  return {\r\n    type: bptcConstants.GET_ID_BPTC_FAIL,\r\n    payload\r\n  }\r\n}\r\nexport const addBptc = (payload) => {\r\n  return {\r\n    type: bptcConstants.ADD_BPTC,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addBptcSuccess = (payload) => {\r\n  return {\r\n    type: bptcConstants.ADD_BPTC_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const addBptcFail = (payload) => {\r\n  return {\r\n    type: bptcConstants.ADD_BPTC_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteBptc = (payload, params) => {\r\n  return {\r\n    type: bptcConstants.DELETE_BPTC,\r\n    payload: {\r\n      ...payload,\r\n      params\r\n    },\r\n  };\r\n};\r\n\r\nexport const deleteBptcSuccess = (payload) => {\r\n  return {\r\n    type: bptcConstants.DELETE_BPTC_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteBptcFail = (payload) => {\r\n  return {\r\n    type: bptcConstants.DELETE_BPTC_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateBptc = (payload) => {\r\n  return {\r\n    type: bptcConstants.UPDATE_BPTC,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateBptcSuccess = (payload) => {\r\n  return {\r\n    type: bptcConstants.UPDATE_BPTC_SUCCESS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateBptcNote = (payload) => {\r\n  return {\r\n    type: bptcConstants.UPDATE_BPTC_NOTE,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const updateBptcFail = (payload) => {\r\n  return {\r\n    type: bptcConstants.UPDATE_BPTC_FAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\n\r\nexport const setBptcEditing = (bptc) => ({\r\n  type: bptcConstants.SET_BPTC_EDITING,\r\n  payload: {\r\n    bptc,\r\n  },\r\n});","export const GET_ALL_BPTC = 'GET_ALL_BPTC';\r\nexport const GET_ALL_BPTC_SUCCESS = 'GET_ALL_BPTC_SUCCESS';\r\nexport const GET_ALL_BPTC_FAIL = 'GET_ALL_BPTC_FAIL';\r\n\r\nexport const SEARCH_BPTC = 'SEARCH_BPTC';\r\nexport const SEARCH_BPTC_SUCCESS = 'SEARCH_BPTC_SUCCESS';\r\nexport const SEARCH_BPTC_FAIL = 'SEARCH_BPTC_FAIL';\r\n\r\nexport const GET_ID_BPTC = 'GET_ID_BPTC';\r\nexport const GET_ID_BPTC_SUCCESS = 'GET_ID_BPTC_SUCCESS';\r\nexport const GET_ID_BPTC_FAIL = 'GET_ID_BPTC_FAIL';\r\n\r\nexport const ADD_BPTC = 'ADD_BPTC';\r\nexport const ADD_BPTC_SUCCESS = 'ADD_BPTC_SUCCESS';\r\nexport const ADD_BPTC_FAIL = 'ADD_BPTC_FAIL';\r\n\r\nexport const DELETE_BPTC = 'DELETE_BPTC';\r\nexport const DELETE_BPTC_SUCCESS = 'DELETE_BPTC_SUCCESS';\r\nexport const DELETE_BPTC_FAIL = 'DELETE_BPTC_FAIL';\r\n\r\nexport const UPDATE_BPTC = 'UPDATE_BPTC';\r\nexport const UPDATE_BPTC_SUCCESS = 'UPDATE_BPTC_SUCCESS';\r\nexport const UPDATE_BPTC_NOTE = 'UPDATE_BPTC_NOTE';\r\nexport const UPDATE_BPTC_FAIL = 'UPDATE_BPTC_FAIL';\r\nexport const SET_BPTC_EDITING ='SET_BPTC_EDITING';","const style = (theme) => ({\r\n  content: {\r\n    marginTop: '65px',\r\n    '& .box-search': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n      '& .lb-search': {\r\n        width: '100px',\r\n        fontSize: '1rem',\r\n      },\r\n      '& .field-search': {\r\n        width: 'calc((100% - 100px) / 5)',\r\n        maxWidth: '300px',\r\n        paddingRight: '15px',\r\n        '& .multiple-select': {\r\n          backgroundColor: '#e7e7e7',\r\n          '& .lb-user': {\r\n            top: '-5px',\r\n            paddingLeft: '12px',\r\n            '&.Mui-focused, &.MuiFormLabel-filled': {\r\n              top: '10px'\r\n            }\r\n          },\r\n          '& .lb-user + .sl-user': {\r\n            marginTop: '24px'\r\n          },\r\n          '& .sl-user .MuiSelect-selectMenu': {\r\n            paddingLeft: '12px'\r\n          },\r\n          '& .sl-user.Mui-focused .MuiSelect-selectMenu': {\r\n            backgroundColor: '#e7e7e7',\r\n            paddingLeft: '12px'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        width: '100%',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        height: 'calc(100vh - 255px)',\r\n        overflowY: 'overlay !important',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      }\r\n    },\r\n    '& .lb-status': {\r\n      width: '160px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-start': {\r\n        backgroundColor: '#6c757d'\r\n      },\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-inprg-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-inprg-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-in-progress-no-tool': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress': {\r\n        backgroundColor: '#ffc107'\r\n      },\r\n      '&.color-in-progress-have-tool': {\r\n        backgroundColor: '#f55a42'\r\n      },\r\n      '&.color-complete': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-close': {\r\n        backgroundColor: '#000000'\r\n      }\r\n    }\r\n  },\r\n});\r\nexport default style;","const validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'content'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (values[field] === null || values[field] === '' ) {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  return errors\r\n}\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n  modal: {\r\n    //top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    //position: 'absolute',\r\n    position: 'fixed',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n  TextField: {\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.color.primary,\r\n    color: theme.color.textColor,\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color: theme.color.textColor,\r\n    fontWeight: 700,\r\n    textTransform: 'capitalize',\r\n    fontFamily: 'Roboto'\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    witdth: '100%',\r\n  },\r\n  textField: {\r\n    width: \"100%\",\r\n  },\r\n  TextFieldCustomer: {\r\n    width: \"100%\",\r\n    margin: \"16px 0 8px\"\r\n  },\r\n  alert: {\r\n    display: 'flex',\r\n    margin: '10px',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n\r\nexport default styles;","import React, { Component } from 'react';\r\nimport { withStyles, Grid, Button, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as bptcActions from '../../actions/bptcActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\nimport renderSelectField from '../../components/FormHelper/Select';\r\nimport moment from 'moment';\r\nimport { ConsoleWriter } from 'istanbul-lib-report';\r\n\r\nclass BptcForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showSearch: true,\r\n      openSelectCustomer: false,\r\n      nameCustomer: '',\r\n      userIdSelect: '',\r\n      msgError: ''\r\n    }\r\n  }\r\n  //@check login success adn error\r\n  componentDidUpdate(nextprops) {\r\n    const { msgError } = this.props;\r\n    if (msgError !== nextprops.msgError) {\r\n      this.setState({\r\n        msgError\r\n      })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { customerActionCreator } = this.props;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    listAllCustomers();\r\n  }\r\n  handleSubmitForm = (data) => {\r\n    const { bptcActionsCreator, bptcEditting, user } = this.props;\r\n    const { addBptc, updateBptc } = bptcActionsCreator;\r\n    const { content, note } = data;\r\n    const newBptc = {\r\n      ...(bptcEditting || {}),\r\n      content,\r\n      note: note || '',\r\n      userId: user._id,\r\n      group: user.group,\r\n    }\r\n    if (bptcEditting) {\r\n      // newBptc.PCT = bptcEditting.PCT\r\n      // newBptc.WO = bptcEditting.WO\r\n      newBptc.userId = bptcEditting.userId\r\n      // newBptc.timeChange = bptcEditting.timeChange\r\n      // newBptc.note = bptcEditting.note\r\n      if (user.admin || newBptc.userId._id === user._id) {\r\n        updateBptc(newBptc);\r\n      }\r\n    } else {\r\n      addBptc(newBptc);\r\n    }\r\n  };\r\n  handleChangeCustomer = (event) => {\r\n    const name = event.target.name;\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n  renderbptcFail = () => {\r\n    const { msgError } = this.state;\r\n    console.log(msgError);\r\n    let xhtml = null;\r\n    xhtml = msgError ? (<Alert variant=\"standard\" severity=\"error\">\r\n      {msgError}\r\n    </Alert>) : null\r\n    return xhtml;\r\n  }\r\n  render() {\r\n    var {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n\r\n      initialValues\r\n    } = this.props;\r\n\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n        <Grid container className={classes.form}>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"content\"\r\n              name=\"content\"\r\n              label=\"Nội dung công tác\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n            initialValues.BPTC ?\r\n              <div>\r\n                <Grid style={{ fontSize: \"16px\", paddingTop: \"16px\" }} item md={12}>\r\n                  <label>Số Biện Pháp Thi Công: {initialValues.BPTC}</label>\r\n                </Grid>\r\n                <Grid style={{ fontSize: \"16px\", paddingTop: \"16px\", paddingBottom: \"16px\" }} item md={12}>\r\n                  <label>Số JSA: {initialValues.JSA}</label>\r\n                </Grid></div>\r\n\r\n              : <></>\r\n          }\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"note\"\r\n              name=\"note\"\r\n              component={renderSelectField}\r\n              label=\"Ghi chú\"\r\n              className={classes.TextField}\r\n            >\r\n              <option value=\"\" />\r\n              <option value={'Cà Mau 1'}>Cà Mau 1</option>\r\n              <option value={'Cà Mau 2'}>Cà Mau 2</option>\r\n            </Field>\r\n          </Grid>\r\n          {\r\n          }\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-end\"\r\n            alignItems=\"flex-end\"\r\n          >\r\n            {this.renderbptcFail()}\r\n            <Button onClick={hideModal}>Hủy</Button>\r\n            <Button disabled={invalid || submitting} type=\"submit\">\r\n              Lưu\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nBptcForm.propTypes = {\r\n  customerId: PropTypes.string,\r\n  product: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    bptcEditting: state.bptcs.bptc,\r\n    initialValues: {\r\n      content: state.bptcs.bptc ? state.bptcs.bptc.content : null,\r\n      BPTC: state.bptcs.bptc ? state.bptcs.bptc.BPTC : null,\r\n      JSA: state.bptcs.bptc ? state.bptcs.bptc.JSA : null,\r\n      note: state.bptcs.bptc ? state.bptcs.bptc.note : '',\r\n    },\r\n    customers: state.customers ? state.customers.customers : [],\r\n    user: state.auth.user,\r\n    msgError: state.error.msg\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    bptcActionsCreator: bindActionCreators(bptcActions, dispatch),\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch)\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'bptc_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(BptcForm);\r\n","import React, { Component, Fragment, } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as bptcActions from '../../actions/bptcActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport BptcForm from '../BptcForm';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, InputLabel, Select, MenuItem, Input } from '@material-ui/core';\r\nimport { DeleteForever, Edit, Visibility, Lock } from '@material-ui/icons';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DataTable from 'react-data-table-component';\r\nimport moment from 'moment';\r\nimport { popupConfirm } from '../../actions/ui';\r\n\r\nclass Bptcs extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      pagination: {\r\n        page: 1,\r\n        rowPerPage: 20,\r\n        rowPerPageOption: [10, 20, 50]\r\n      },\r\n      redirect: false,\r\n      idRedirect: '',\r\n      dataSearch: {\r\n        wo: '',\r\n        pct: '',\r\n        userId: [],\r\n      },\r\n      columnsGrid: [\r\n        {\r\n          name: '', width: '100px', center: true,\r\n          cell: (params) => {\r\n            let { user } = this.props;\r\n            let data = JSON.parse(JSON.stringify(params));\r\n            console.log(data)\r\n            let checkUser = (user.admin || user._id === params.userId._id);\r\n            console.log(user)\r\n            return <>\r\n              <Fab\r\n                color=\"default\"\r\n                aria-label=\"Xem Chi Tiết\"\r\n                size='small'\r\n                onClick={() => {\r\n                  this.onClickView(data._id)\r\n                }}\r\n              >\r\n                <Visibility color=\"primary\" />\r\n              </Fab>\r\n              {\r\n                checkUser ?\r\n                  <>\r\n                    &nbsp;&nbsp;\r\n                    <Fab\r\n                      color=\"default\"\r\n                      aria-label=\"Sửa WO\"\r\n                      size='small'\r\n                      onClick={() => {\r\n                        this.onClickEdit(data)\r\n                      }}\r\n                    >\r\n                      <Edit color=\"primary\" />\r\n                    </Fab>\r\n                    &nbsp;&nbsp;\r\n\r\n                    {/* <Fab\r\n                    color=\"default\"\r\n                    aria-label=\"Xóa WO\"\r\n                    size='small'\r\n                    onClick={() => {\r\n                      this.onClickDelete(data)\r\n                    }}\r\n                    >\r\n                    <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                  </Fab> */}\r\n                  </> : <></>\r\n              }\r\n            </>\r\n          }\r\n        },\r\n        { selector: 'BPTC', name: 'Số Biện Pháp Thi Công', width: '200px', sortable: true, center: true },\r\n        { selector: 'JSA', name: 'Số JSA', width: '200px', sortable: true, center: true },\r\n        { selector: 'content', name: 'Nội dung công tác', width: '500px', sortable: true, center: true },\r\n        { selector: 'note', name: 'Ghi chú', width: '300px', sortable: true },\r\n      ]\r\n    }\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect && this.state.idRedirect) {\r\n      let tool = '/admin/bptc-detail/' + this.state.idRedirect;\r\n      return <Redirect to={tool} />\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { bptcActionCreator, customerActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchBptc } = bptcActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    let params = JSON.parse(JSON.stringify(dataSearch));\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    searchBptc(params);\r\n    listAllCustomers();\r\n  }\r\n  onClickDelete = (bptc) => {\r\n    let { user } = this.props;\r\n    const { dataSearch } = this.state;\r\n    if (!user.admin && user._id !== bptc.userId._id) return;\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn xóa Biện pháp thi công và JSA này?\",\r\n      ifOk: () => {\r\n        const { bptcActionCreator } = self.props;\r\n        const { deleteBptc } = bptcActionCreator;\r\n        let params = JSON.parse(JSON.stringify(dataSearch))\r\n        deleteBptc(bptc, params);\r\n      }\r\n    })\r\n  }\r\n  onClickView = (idRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      idRedirect\r\n    })\r\n  };\r\n  onCloseWo = (data) => {\r\n    const { bptcActionCreator, user } = this.props;\r\n    const { updateBptc } = bptcActionCreator;\r\n    const newBptc = JSON.parse(JSON.stringify(data));\r\n    switch (newBptc.status) {\r\n      case 'COMPLETE':\r\n        if (user.pkt) {\r\n          newBptc.status = 'CLOSE'\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    updateBptc(newBptc);\r\n  };\r\n  onClickEdit = (data) => {\r\n    const { bptcActionCreator, modalActionsCreator, user } = this.props;\r\n    const { setBptcEditing } = bptcActionCreator;\r\n    if (!user.admin && user._id !== data.userId._id) return;\r\n    setBptcEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa BPTC & JSA');\r\n    changeModalContent(<BptcForm />);\r\n  }\r\n  handleSearch = (event) => {\r\n    const { bptcActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchBptc } = bptcActionCreator;\r\n    let search = {\r\n      ...dataSearch,\r\n      skip: 0,\r\n      limit: pagination.rowPerPage,\r\n      [event.target.name]: event.target.value\r\n    }\r\n    this.setState({ dataSearch: search });\r\n    searchBptc(search);\r\n  }\r\n  handleChangePage = (page, total) => {\r\n    const { bptcActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchBptc } = bptcActionCreator;\r\n    pagination.page = page;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchBptc(params);\r\n  }\r\n  handleChangeRowsPerPage = (rowPerPage, total) => {\r\n    const { bptcActionCreator } = this.props;\r\n    const { pagination, dataSearch } = this.state;\r\n    const { searchBptc } = bptcActionCreator;\r\n    pagination.rowPerPage = rowPerPage;\r\n    pagination.page = 1;\r\n    this.setState({ pagination })\r\n    let params = JSON.parse(JSON.stringify(dataSearch))\r\n    params = {\r\n      ...params,\r\n      skip: (pagination.page - 1) * pagination.rowPerPage,\r\n      limit: pagination.rowPerPage\r\n    }\r\n    this.setState({ dataSearch: params })\r\n    searchBptc(params);\r\n  }\r\n\r\n  render() {\r\n    const { bptcs, customers, BptcsTotal, classes } = this.props;\r\n    const { columnsGrid, pagination, dataSearch } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.content}>\r\n          <div className=\"box-search\">\r\n            <div className=\"lb-search\">Search</div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_BPTC\"\r\n                name=\"bptc\"\r\n                label=\"Số Biện pháp thi công\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_jsa\"\r\n                name=\"jsa\"\r\n                label=\"Số JSA\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_content\"\r\n                name=\"content\"\r\n                label=\"Nội dung công tác\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth className=\"multiple-select\">\r\n                <InputLabel className=\"lb-user\" id=\"lb-user\">Người lấy số phiếu</InputLabel>\r\n                <Select\r\n                  labelId=\"lb-user\"\r\n                  id=\"user-id\"\r\n                  className=\"sl-user\"\r\n                  multiple\r\n                  value={dataSearch.userId}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'userId',\r\n                    id: 'userId',\r\n                  }}\r\n                  input={<Input />}\r\n                >\r\n                  {customers && customers.map((c) => (\r\n                    <MenuItem key={c._id} value={c._id}>\r\n                      {c.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n          </div>\r\n          <Grid className={classes.dataTable}>\r\n            <DataTable\r\n              noHeader={true}\r\n              keyField={'_id'}\r\n              columns={columnsGrid}\r\n              data={this.genData(bptcs)}\r\n              striped={true}\r\n              pagination\r\n              paginationServer\r\n              paginationDefaultPage={pagination.page}\r\n              paginationPerPage={pagination.rowPerPage}\r\n              paginationRowsPerPageOptions={pagination.rowPerPageOption}\r\n              paginationTotalRows={BptcsTotal}\r\n              onChangePage={this.handleChangePage}\r\n              onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n            />\r\n          </Grid>\r\n          {this.renderRedirect()}\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  genData = (bptcs) => {\r\n    let { user } = this.props;\r\n    console.log(bptcs)\r\n    if (!user) return [];\r\n    return bptcs.filter(bptc => bptc.userId)\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    bptcs: state.bptcs.bptcs,\r\n    BptcsTotal: state.bptcs.total,\r\n    user: state.auth.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    bptcActionCreator: bindActionCreators(bptcActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(Bptcs);","const style = (theme) => ({\r\n  containerPanel: {\r\n    marginTop: '65px',\r\n    '& .hide' : {\r\n      display: 'none !important'\r\n    },\r\n    '& .box-panel': {\r\n      display: 'flex',\r\n      '& .block': {\r\n        padding: '15px',\r\n        background: '#fff',\r\n        boxShadow: '0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)',\r\n        height: '100%',\r\n        fontSize: '1rem',\r\n        '& .info-wo': {\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          margin: '0 -15px',\r\n          '& .col-wo-50': {\r\n            width: '50%',\r\n            padding: '0 15px'\r\n          },\r\n          '& .col-wo-100': {\r\n            width: '100%',\r\n            padding: '0 15px'\r\n          }\r\n        },\r\n        '& .image-gallery': {\r\n          '& .image-gallery-image': {\r\n            height: 'calc(100vh - 280px)'\r\n          }\r\n        }\r\n      },\r\n      '& .customer-field': {\r\n        fontSize: '1rem',\r\n        marginTop: '10px'\r\n      },\r\n      '& .header-action': {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n      },\r\n      '& .left-panel': {\r\n        width: '50%',\r\n        marginLeft: '25%',\r\n        transition: 'all 1s ease-in-out',\r\n        '& .field': {\r\n          margin: '10px 0'\r\n        }\r\n      },\r\n      '& .right-panel': {\r\n        width: '50%',\r\n        display: 'none',\r\n      },\r\n      '&.show-right-panel': {\r\n        '& .left-panel': {\r\n          marginLeft: '0',\r\n          paddingRight: '10px'\r\n        },\r\n        '& .right-panel': {\r\n          display: 'block',\r\n          paddingLeft: '10px'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        height: 'calc(100vh - 590px)',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        overflowY: 'overlay !important',\r\n        minHeight: '200px',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      },\r\n    \r\n    },\r\n    '& .lb-status': {\r\n      width: '90px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-in-use': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-bad': {\r\n        backgroundColor: '#dc3545'\r\n      },\r\n      '&.color-lost': {\r\n        backgroundColor: '#343a40'\r\n      }\r\n    },\r\n  },\r\n  gridList: {\r\n    flexWrap: 'nowrap',\r\n    transform: 'translateZ(0)',\r\n  },\r\n  boxActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    margin: '10px 0'\r\n  },\r\n  maskLoading: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: 'calc(100% - 64px)',\r\n    top: '0',\r\n    left: '0',\r\n    backgroundColor: 'rgba(0,0,0,0.3)',\r\n    zIndex: 1\r\n  }\r\n});\r\nexport default style;","import React, { Component, Fragment, } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as bptcActions from '../../actions/bptcActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as toolActions from '../../actions/toolActions';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport styles from './style';\r\nimport { Grid, withStyles, TextField, FormControl, Button } from '@material-ui/core';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {ArrowBackIos, Edit } from '@material-ui/icons';\r\nimport BptcForm from '../BptcForm';\r\nimport moment from 'moment';\r\n\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\n\r\n\r\nclass BptcDetail extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showRightPanel: false,\r\n      redirect: false,\r\n      urlRedirect: '',\r\n      currentIdTool: {},\r\n      isChange: false,\r\n      bptcAction: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { bptcActionCreator, customerActionCreator, match: { params }, bptc } = this.props;\r\n    const { getIdBptc } = bptcActionCreator;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    getIdBptc(params.bptcId);\r\n    listAllCustomers();\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.urlRedirect} />\r\n    }\r\n  }\r\n  onClickAddTool = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickGotoList = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n  onClickEdit = (data) => {\r\n    const { bptcActionCreator, modalActionsCreator } = this.props;\r\n    const { setBptcEditing } = bptcActionCreator;\r\n    setBptcEditing(data);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa BPTC & JSA');\r\n    changeModalContent(<BptcForm />);\r\n  }\r\n  onChangeNote = (event) => {\r\n    const { bptcActionCreator, bptc } = this.props;\r\n    const { updateBptcNote } = bptcActionCreator;\r\n    const newBptc = JSON.parse(JSON.stringify(bptc));\r\n    newBptc.note = event.target.value;\r\n    this.setState({ isChange: true });\r\n    updateBptcNote(newBptc);\r\n  }\r\n  onBlurNote = (event) => {\r\n    const { bptcActionCreator, bptc } = this.props;\r\n    const { isChange } = this.state;\r\n    const newBptc = JSON.parse(JSON.stringify(bptc));\r\n    if (isChange) {\r\n      const { updateBptc } = bptcActionCreator;\r\n      newBptc.note = event.target.value;\r\n      updateBptc(newBptc);\r\n      this.setState({ isChange: false });\r\n    }\r\n  }\r\n  render() {\r\n    const { classes, bptc, user, customers } = this.props\r\n    const { showRightPanel, columnsGrid, columnsGridComplete, currentIdTool, bptcAction } = this.state\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.containerPanel}>\r\n          {this.renderRedirect()}\r\n          <div className={bptc._id ? '' : classes.maskLoading}>\r\n          </div>\r\n          <Grid className={(showRightPanel ? 'box-panel show-right-panel' : 'box-panel')}>\r\n            <Grid className='left-panel'>\r\n              <div className='block'>\r\n                <div className='header-action'>\r\n                  <div className='group'>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => { this.onClickGotoList('/admin/bptc') }}>\r\n                      <ArrowBackIos style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Quay về danh sách\r\n                    </Button>\r\n                    &nbsp;\r\n                    <Button className={bptc.userId && (user.admin || user._id === bptc.userId._id) ? '' : 'hide'} variant=\"contained\" color=\"primary\" onClick={() => { this.onClickEdit(bptc) }}>\r\n                      <Edit style={{ 'color': '#fff' }} fontSize=\"small\" />&nbsp;Chỉnh sửa\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                {bptc.userId && user._id !== bptc.userId._id ? <div className='customer-field'>Người dùng: {bptc.userId ? bptc.userId.name : ''}</div> : ''}\r\n                <div className='info-wo'>\r\n                  <div className='col-wo-50'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"bptc\" value={bptc.BPTC} label=\"Số Biện pháp thi công\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"jsa\" value={bptc.JSA} label=\"Số JSA\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"content\" value={bptc.content} label=\"Nội dung công tác\" InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                  <div className='col-wo-100'>\r\n                    <FormControl className='field' fullWidth>\r\n                      <TextField id=\"note\" multiline value={bptc.note || ''} label=\"Ghi chú\" onBlur={this.onBlurNote} onChange={this.onChangeNote} InputProps={{ readOnly: true }} />\r\n                    </FormControl>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    bptcs: state.bptcs.bptcs,\r\n    bptc: {\r\n      WO: state.bptcs.bptc ? state.bptcs.bptc.WO : '',\r\n      content: state.bptcs.bptc ? state.bptcs.bptc.content : '',\r\n      BPTC: state.bptcs.bptc ? state.bptcs.bptc.BPTC : '',\r\n      JSA: state.bptcs.bptc ? state.bptcs.bptc.JSA : '',\r\n      time: state.bptcs.bptc ? state.bptcs.bptc.time : '',\r\n      userId: state.bptcs.bptc ? state.bptcs.bptc.userId : {},\r\n      note: state.bptcs.bptc ? state.bptcs.bptc.note : '',\r\n      _id: state.bptcs.bptc ? state.bptcs.bptc._id : '',\r\n      isAction: true\r\n    },\r\n    user: state.auth.user || {}\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    toolActionCreator: bindActionCreators(toolActions, dispatch),\r\n    bptcActionCreator: bindActionCreators(bptcActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(BptcDetail);","const validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'name',\r\n    'manufacturer',\r\n    'quantity',\r\n    'type'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (values[field] === null || values[field] === '' ) {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  if ( parseInt(values.quantity) === 0 ) {\r\n    errors.quantity = 'Số lượng lớn hơn 0'\r\n  }\r\n  // if ( parseInt(values.price) < 1000  ) {\r\n  //   errors.price = 'Giá > 1.000 vnđ'\r\n  // }\r\n  // if ( parseInt(values.cash) < 1000 ) {\r\n  //   errors.cash = 'Thành tiên > 1.000vnđ'\r\n  // }\r\n  return errors\r\n}\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n  modal: {\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    position: 'absolute',\r\n    maxWidth: \"100%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n  TextField: {\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.color.primary,\r\n    color: theme.color.textColor,\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color: theme.color.textColor,\r\n    fontWeight: 700,\r\n    textTransform: 'capitalize',\r\n    fontFamily: 'Roboto'\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n  },\r\n  showImage: {\r\n    marginTop: 20,\r\n  },\r\n  picture: {\r\n    maxWidth: '100px',\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { withStyles, Grid, Button, Paper, Menu, MenuItem, Typography, FormControl, InputLabel, Select } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport { API_ENDPOINT } from '../../constants';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as ToolActions from '../../actions/toolActions';\r\nimport * as imageActions from '../../actions/imageActions';\r\nimport * as tempImageForToolAction from '../../actions/tempImageForToolAction';\r\n\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\nimport Alert from '@material-ui/lab/Alert';\r\n//  import DropzoneArea from '../../components/DropzoneArea';\r\nimport DropzoneDialog from '../../components/DropzoneDialog';\r\n\r\nconst menuId = 'primary-search-account-menu';\r\nclass ToolForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      msgError: '',\r\n      anchorEl: null,\r\n      imageSelected: '',\r\n      statusSelected: props.toolEditting ? props.toolEditting.status : 1,\r\n    }\r\n  }\r\n  //@check login success adn error\r\n  componentDidMount() {\r\n    console.log('First time')\r\n\r\n  }\r\n  componentDidUpdate(nextprops) {\r\n    const { msgError, } = this.props;\r\n    if (msgError !== nextprops.msgError) {\r\n      this.setState({\r\n        msgError\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmitForm = (data) => {\r\n    const { toolActionsCreator, toolEditting, images } = this.props;\r\n    const { statusSelected } = this.state;\r\n    const { addTool, updateTool } = toolActionsCreator;\r\n    const { name, manufacturer, type } = data;\r\n    const newTool = {\r\n      name,\r\n      manufacturer,\r\n      quantity: 1,\r\n      images,\r\n      type,\r\n      status: statusSelected || 1,\r\n      wo: \"\",\r\n    }\r\n    if (toolEditting) {\r\n      updateTool(newTool);\r\n    } else {\r\n      addTool(newTool);\r\n    }\r\n  };\r\n  saveToolFail = () => {\r\n    const { msgError } = this.state;\r\n    let xhtml = null;\r\n    xhtml = msgError ? (<Alert variant=\"standard\" severity=\"error\">\r\n      {msgError}\r\n    </Alert>) : null\r\n    return xhtml;\r\n  }\r\n  renderToolImages = () => {\r\n    let { images } = this.props;\r\n    let xhtml = null;\r\n    let link = images[0]\r\n    //console.log(link.webViewLink);\r\n    if (images.length > 0) {\r\n      xhtml = images.map((image, index) => {\r\n        console.log(image)\r\n        return <Grid item key={image.id} >\r\n          <Paper>\r\n            <img\r\n              //src={`${API_ENDPOINT}/api/upload/image/${image.filename}`}\r\n              src={`https://drive.google.com/uc?export=view&id=${image.idImage}`}\r\n              // alt={image.name}\r\n              // className={classes.picture}\r\n              data-filename={image.idImage}\r\n              onClick={this.onClickPicture}\r\n            />\r\n          </Paper>\r\n        </Grid>\r\n      })\r\n    }\r\n    return xhtml;\r\n  };\r\n  renderToolImagesNew = () => {\r\n    let { images, classes } = this.props;\r\n    let xhtml = null;\r\n    if (images && images.length > 0) {\r\n      xhtml = images.map((image, index) => {\r\n        return <Grid item key={index} >\r\n          <Paper>\r\n            <img\r\n              src={`https://drive.google.com/uc?export=view&id=${image.idImage}`}\r\n              // alt={image.name}\r\n              data-filename={image.idImage}\r\n              // className={classes.picture}\r\n              onClick={this.onClickPicture}\r\n            />\r\n\r\n          </Paper>\r\n        </Grid>\r\n      })\r\n    }\r\n    return xhtml;\r\n  };\r\n  onClickPicture = (event) => {\r\n    //console.log(event.currentTarget.dataset.filename)\r\n    this.setState({\r\n      anchorEl: event.currentTarget,\r\n      filename: event.currentTarget.dataset.filename,\r\n    });\r\n  };\r\n  cancelSelectImage = () => {\r\n    this.setState({\r\n      anchorEl: null,\r\n    });\r\n  };\r\n  deleteImage = () => {\r\n    const { imageActionsCreator, images } = this.props;\r\n    const { deleteImage } = imageActionsCreator;\r\n    const { filename } = this.state;\r\n\r\n    deleteImage(filename);\r\n    this.setState({\r\n      anchorEl: null,\r\n    });\r\n  }\r\n\r\n\r\n  renderDetailPicture = () => {\r\n    const { anchorEl } = this.state;\r\n    const isMenuOpen = Boolean(anchorEl);\r\n    return (\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        id={menuId}\r\n        keepMounted\r\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        open={isMenuOpen}\r\n        onClose={this.handleMenuClose}\r\n      >\r\n        {/* <MenuItem onClick={this.deleteImage}>Xóa</MenuItem> */}\r\n        <MenuItem onClick={this.deleteImage}>Hủy bỏ</MenuItem>\r\n      </Menu>\r\n    );\r\n  };\r\n  setValueStatus = (event) => {\r\n    console.log(event.target.value)\r\n    const { statusSelected } = this.state;\r\n    if (statusSelected + '' === event.target.value + '') {\r\n      return\r\n    } else {\r\n      this.setState({ statusSelected: event.target.value })\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n      toolEditting\r\n    } = this.props;\r\n    const { statusSelected } = this.state;\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      <Fragment>\r\n        {this.renderDetailPicture()}\r\n        <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n          <Grid container className={classes.form}>\r\n            <Grid item container\r\n              direction=\"row\"\r\n              justify=\"center\"\r\n              alignItems=\"center\" >\r\n              <div>{this.saveToolFail()}</div>\r\n            </Grid>\r\n            <Grid item md={12} xs={12}>\r\n              <Field\r\n                id=\"name\"\r\n                name=\"name\"\r\n                label=\"Tên công cụ\"\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12} xs={12}>\r\n              <Field\r\n                id=\"manufacturer\"\r\n                name=\"manufacturer\"\r\n                label=\"Hãng sản xuất\"\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            <Grid item md={12} xs={12}>\r\n              <Field\r\n                id=\"type\"\r\n                name=\"type\"\r\n                label=\"Loại\"\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n            {\r\n              toolEditting ?\r\n                <Grid item md={12} xs={12}>\r\n                  <FormControl fullWidth style={{ 'marginTop': '16px' }}>\r\n                    <InputLabel htmlFor=\"status\">Trạng thái</InputLabel>\r\n                    <Select\r\n                      fullWidth\r\n                      native\r\n                      value={statusSelected}\r\n                      onChange={this.setValueStatus}\r\n                      inputProps={{\r\n                        name: 'status',\r\n                        id: 'status',\r\n                      }}\r\n                    >\r\n                      <option value=\"1\">READY</option>\r\n                      <option value=\"2\">IN USE</option>\r\n                      <option value=\"3\">BAD</option>\r\n                      <option value=\"4\">LOST</option>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                : <></>\r\n            }\r\n            <Grid item md={12} xs={12} className={classes.showImage}>\r\n              <Grid item>\r\n                <Typography variant=\"h6\" >Hình ảnh công cụ</Typography>\r\n              </Grid>\r\n              <Grid container spacing={3} className={classes.showImage} >\r\n                {this.renderToolImages()}\r\n              </Grid>\r\n            </Grid>\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justify=\"flex-end\"\r\n              alignItems=\"flex-end\"\r\n            >\r\n              {/* <DropzoneArea/> */}\r\n              <DropzoneDialog />\r\n              <Button onClick={hideModal}>Hủy</Button>\r\n              <Button disabled={invalid || submitting} type=\"submit\">\r\n                Lưu\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nToolForm.propTypes = {\r\n  customerId: PropTypes.string,\r\n  tool: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    toolEditting: state.tools.toolEditting,\r\n    initialValues: {\r\n      name: state.tools.toolEditting\r\n        ? state.tools.toolEditting.name\r\n        : state.tempImageForTool ? state.tempImageForTool.name : null,\r\n      manufacturer: state.tools.toolEditting\r\n        ? state.tools.toolEditting.manufacturer\r\n        : state.tempImageForTool ? state.tempImageForTool.manufacturer : null,\r\n      type: state.tools.toolEditting\r\n        ? state.tools.toolEditting.type\r\n        : state.tempImageForTool ? state.tempImageForTool.type : null,\r\n      status: state.tools.toolEditting ? state.tools.toolEditting.status : null,\r\n    },\r\n    msgError: state.error.msg,\r\n    showModalStatus: state.modal.showModal,\r\n    images: state.images.images,\r\n    imagesInTool: state.tools.toolEditting ? state.tools.toolEditting.images : null,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    toolActionsCreator: bindActionCreators(ToolActions, dispatch),\r\n    imageActionsCreator: bindActionCreators(imageActions, dispatch)\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'TOOL_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(ToolForm);\r\n","const style = (theme) => ({\r\n  content: {\r\n    marginTop: '65px',\r\n    maxHeight: '60vh',\r\n    '& .box-search': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n      '& .lb-search': {\r\n        width: '100px',\r\n        fontSize: '1rem',\r\n      },\r\n      '& .field-search': {\r\n        width: 'calc((100% - 100px) / 3)',\r\n        maxWidth: '300px',\r\n        paddingRight: '15px'\r\n      }\r\n    }\r\n  },\r\n  background: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    padding: 40,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: '100vh',\r\n    textAlign: 'center',\r\n    flex: '1 0 auto',\r\n  },\r\n  alert: {\r\n    display: 'flex',\r\n    margin: '10px',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  login: {\r\n    maxWidth: '600px',\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n\r\n  gridList: {\r\n    flexWrap: 'nowrap',\r\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n    transform: 'translateZ(0)',\r\n  },\r\n  test: {\r\n    minHeight: '40vh'\r\n  },\r\n  showImageProduct: {\r\n    width: '50vw',\r\n    height: '50vh',\r\n\r\n  },\r\n  showImageProduct1: {\r\n    height: '100%',\r\n  },\r\n  boxImage: {\r\n    display: 'block',\r\n    marginTop: '20px',\r\n    height: '100vw*0.5',\r\n    width: '100%',\r\n    maxWidth: '600px',\r\n    \r\n  },\r\n\r\n  largeImage: {\r\n    display: 'flex',\r\n    direction: 'row',\r\n    alignItems: 'flex-start',\r\n    justifyContent: 'center',\r\n    height: '60%',\r\n    width: '100%',\r\n  },\r\n  imgLarge: {\r\n    //width: '100%',\r\n    height: '30vh',\r\n  },\r\n  smallImage: {\r\n    display: 'flex',\r\n    //direction: 'row',\r\n    //justifyContent:\"center\",\r\n    height: '40%',\r\n    width: '100%',\r\n    padding: '10px',\r\n    overflowY: 'scroll',\r\n  },\r\n\r\n  itemSmallImage: {\r\n    //display: 'inline',\r\n    //width: '100px',\r\n    height: '15vh',\r\n    //minWidth: '30%',\r\n    //height: '50%'\r\n  },\r\n  imgSmall:{\r\n    height:'100%',\r\n  },\r\n  showDetail: {\r\n    width: '50vw',\r\n    //position:'fixed',\r\n    top: 50,\r\n    right: 0,\r\n    bottom: 'auto',\r\n    minHeight: '50vh',\r\n  },\r\n\r\n  showTable: {\r\n    width: '100%'\r\n  },\r\n  \r\n  widthIcon: {\r\n    width: '50px'\r\n  },\r\n  \r\n  widthInput: {\r\n    width: 'calc(100% - 50px)'\r\n  },\r\n\r\n  width100per: {\r\n    width: '100%'\r\n  },\r\n  dataTable: {\r\n    width: '100%',\r\n    transition: 'width 1s ease-in-out',\r\n    border: '1px solid rgba(0,0,0,.12)',\r\n    '&.change-width': {\r\n      width: '50%',\r\n    },\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        width: '100%',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        height: 'calc(100vh - 270px)',\r\n        overflowY: 'overlay !important',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      }\r\n    },\r\n    '& .lb-status': {\r\n      width: '90px',\r\n      textAlign: 'center',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      padding: '5px',\r\n      borderRadius: '4px',\r\n      '&.color-ready': {\r\n        backgroundColor: '#3949ab'\r\n      },\r\n      '&.color-in-use': {\r\n        backgroundColor: '#28a745'\r\n      },\r\n      '&.color-bad': {\r\n        backgroundColor: '#dc3545'\r\n      },\r\n      '&.color-lost': {\r\n        backgroundColor: '#343a40'\r\n      }\r\n    }\r\n  },\r\n  colorSuccess: {\r\n    color: '#28a745'\r\n  },\r\n  boxGridTable: {\r\n    display: 'flex',\r\n    '& .data-select': {\r\n      width: '50%',\r\n      fontSize: '1rem',\r\n      transition: 'width 1s ease-in-out',\r\n      border: '1px solid rgba(0,0,0,.12)',\r\n      padding: '15px',\r\n      background: '#fff',\r\n      '&.hide': {\r\n        display: 'none',\r\n        width: '0%'\r\n      },\r\n      '& .image-gallery': {\r\n        height: 'calc(100vh - 260px)',\r\n        '& .image-gallery-image': {\r\n          height: 'calc(100vh - 460px)'\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\nexport default style;\r\n","import React, { Component, Fragment, } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as toolActions from '../../actions/toolActions';\r\nimport * as imageActions from '../../actions/imageActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as OrderActions from '../../actions/orderActions';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport ToolForm from '../ToolForm';\r\nimport { Grid, withStyles, Fab, TextField, FormControl, InputLabel, Select, GridList, GridListTile } from '@material-ui/core';\r\nimport styles from './style';\r\nimport { limitSizeImage } from '../../constants';\r\nimport { DeleteForever, Add, Edit, Remove } from '@material-ui/icons';\r\nimport DataTable from 'react-data-table-component';\r\nimport { API_ENDPOINT as URL } from '../../constants';\r\nimport { popupConfirm } from '../../actions/ui';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\n\r\nclass Tools extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      listFile: [],\r\n      filenameImageTool: [],\r\n      largeImage: '',\r\n      searchTerm: '',\r\n      dataSelected: {},\r\n      dataSearch: {\r\n        name: '',\r\n        manufacturer: '',\r\n        type: '',\r\n        userName: '',\r\n        status: \"all\"\r\n      },\r\n      columnsGrid: [\r\n        {\r\n          name: 'Hành động', width: '120px',\r\n          cell: (param) => {\r\n            let data = JSON.parse(JSON.stringify(param))\r\n            const { classes, user, order, match: { params } } = this.props;\r\n            return <>\r\n              {\r\n                params.orderId ?\r\n                  (order && user && order._id && !user.admin && user._id !== order.userId._id && order.status !== 'START' ?\r\n                    <></>\r\n                    :\r\n                    <>\r\n                      {\r\n                        data.hasTool ?\r\n                          <Fab\r\n                            color=\"default\"\r\n                            aria-label=\"Xóa khỏi WO\"\r\n                            size='small'\r\n                            onClick={() => {\r\n                              this.onClickWorkOrder(data)\r\n                            }}\r\n                          >\r\n                            <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                          </Fab>\r\n                          : (\r\n                            data.status === 1 ?\r\n                              <Fab\r\n                                color=\"default\"\r\n                                aria-label=\"Thêm vào WO\"\r\n                                size='small'\r\n                                onClick={() => {\r\n                                  this.onClickWorkOrder(data)\r\n                                }}\r\n                              >\r\n                                <Add className={classes.colorSuccess} fontSize=\"small\" />\r\n                              </Fab>\r\n                              : <></>\r\n                          )\r\n                      }\r\n                    </>\r\n                  )\r\n                  :\r\n                  <>\r\n                    {\r\n                      user && user.admin ?\r\n                        <>\r\n                          <Fab\r\n                            color=\"default\"\r\n                            aria-label=\"Delete\"\r\n                            size='small'\r\n                            onClick={() => {\r\n                              this.onClickEdit(data)\r\n                            }}\r\n                          >\r\n                            <Edit color=\"primary\" />\r\n                          </Fab>\r\n                          &nbsp;&nbsp;\r\n                          {/* <Fab\r\n                            color=\"default\"\r\n                            aria-label=\"Delete\"\r\n                            size='small'\r\n                            onClick={() => {\r\n                              this.onClickDelete(data)\r\n                            }}\r\n                          >\r\n                            <DeleteForever color=\"error\" fontSize=\"small\" />\r\n                          </Fab> */}\r\n                          &nbsp;&nbsp;\r\n                        </>\r\n                        : <></>\r\n                    }\r\n                  </>\r\n              }\r\n            </>\r\n          }\r\n        },\r\n        { selector: 'name', name: 'Tên công cụ', minWidth: '100px', maxWidth: '300px', sortable: true },\r\n        {\r\n          selector: 'status', name: 'Trạng thái', width: '150px', sortable: true, center: true,\r\n          cell: (param) => {\r\n            let status = 'READY'\r\n            let className = 'ready'\r\n            switch (param.status + \"\") {\r\n              case \"1\":\r\n                status = 'READY';\r\n                className = 'ready';\r\n                break;\r\n              case \"2\":\r\n                status = 'IN USE';\r\n                className = 'in-use';\r\n                break;\r\n              case \"3\":\r\n                status = 'BAD'\r\n                className = 'bad';\r\n                break;\r\n              case \"4\":\r\n                status = 'LOST';\r\n                className = 'lost';\r\n                break;\r\n              default:\r\n                status = 'READY'\r\n                break;\r\n            }\r\n            return <div className={'lb-status color-' + className}>{status}</div>;\r\n          }\r\n        },\r\n        { selector: 'manufacturer', name: 'Hãng', minWidth: '100px', maxWidth: '150px', sortable: true },\r\n        { selector: 'type', name: 'Loại', minWidth: '100px', maxWidth: '150px', sortable: true, allowOverflow: false, wrap: false },\r\n        { selector: 'woName', name: 'Work Order', width: '120px', sortable: true },\r\n        { selector: 'userName', name: 'Người dùng', width: '200px', sortable: true },\r\n      ]\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { orderActionsCreator, toolActionCreator, match: { params } } = this.props;\r\n    const { listAllTools } = toolActionCreator;\r\n    const { getIdOrder } = orderActionsCreator;\r\n    listAllTools();\r\n    if (params.orderId) {\r\n      getIdOrder(params.orderId)\r\n    }\r\n  }\r\n  onClickDelete = (tool) => {\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn xóa Công cụ này?\",\r\n      ifOk: () => {\r\n        const { toolActionCreator } = self.props;\r\n        const { deleteTool } = toolActionCreator;\r\n        deleteTool(tool)\r\n      }\r\n    })\r\n  }\r\n  onClickEdit = (tool) => {\r\n    const { toolActionCreator, modalActionsCreator, imageActionsCreator } = this.props;\r\n    const { setToolEditing } = toolActionCreator;\r\n    const { uploadImagesSuccess } = imageActionsCreator;\r\n    uploadImagesSuccess(tool.images);\r\n    setToolEditing(tool);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa công cụ');\r\n    changeModalContent(<ToolForm />);\r\n  }\r\n  onClickWorkOrder = (tool) => {\r\n    const { orderActionsCreator, toolActionCreator, order, user } = this.props;\r\n    if (order && !user.admin && user._id !== order.userId._id) {\r\n      window.location.href = '/admin/order'\r\n      return\r\n    }\r\n    const { updateOrder } = orderActionsCreator;\r\n    const { updateTool } = toolActionCreator;\r\n    let newOrder = JSON.parse(JSON.stringify(order));\r\n    let newTool = JSON.parse(JSON.stringify(tool));\r\n    let lstTool = []\r\n    if (newOrder.toolId && newOrder.toolId.length > 0) {\r\n      lstTool = newOrder.toolId\r\n      if (newOrder.toolId[0]._id) {\r\n        lstTool = newOrder.toolId.map(i => i._id)\r\n      }\r\n    }\r\n    let indexTool = lstTool.indexOf(tool._id);\r\n    if (indexTool > -1) {\r\n      lstTool.splice(indexTool, 1);\r\n      newTool.status = 1;\r\n      newTool.wo = \"\";\r\n      newTool.hasTool = false;\r\n    } else {\r\n      lstTool.unshift(tool._id);\r\n      newTool.status = 2;\r\n      newTool.wo = newOrder.WO;\r\n    }\r\n    newOrder.toolId = lstTool\r\n    if (lstTool.length !== 0 && newOrder.status === 'START') {\r\n      //newOrder.status = 'INPRG'\r\n    } else if (lstTool.length !== 0 && newOrder.status === 'INPRG NO TOOL') {\r\n      newOrder.status = 'INPRG HAVE TOOL'\r\n    }\r\n    newTool.woInfo = newOrder\r\n    console.log(newTool);\r\n    // updateOrder(newOrder);\r\n    updateTool(newTool);\r\n  }\r\n  onClickRow = (tool) => {\r\n    this.setState({\r\n      filenameImageTool: tool.images\r\n    })\r\n  }\r\n  onChange = (e) => {\r\n    const countFile = e.target.files.length;\r\n    let arrayFile = [];\r\n    let totalSize = 0;\r\n    for (let i = 0; i < countFile; i++) {\r\n      arrayFile.push(e.target.files[i])\r\n      totalSize = totalSize + e.target.files[i].size;\r\n      if (totalSize < limitSizeImage) {\r\n        this.setState({\r\n          listFile: [...this.state.listFile, arrayFile]\r\n        })\r\n      } else {\r\n        alert('Tổng dung lượng ảnh lớn hơn 10Mb, vui lòng chọn ảnh khác...');\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  onSubmit = (e) => {\r\n    e.preventDefault() // Stop form submit\r\n    const { imageActionsCreator } = this.props;\r\n    const { uploadImages } = imageActionsCreator;\r\n    if (this.state.listFile && this.state.listFile.length > 0) {\r\n      var { listFile } = this.state;\r\n      uploadImages(listFile);\r\n      this.setState({\r\n        listFile: null,\r\n      })\r\n    } else {\r\n      alert('Vui lòng chọn ảnh ...')\r\n    }\r\n  }\r\n  becomeLargeImage = (filename) => {\r\n    this.setState({\r\n      largeImage: filename,\r\n    })\r\n  }\r\n  handleSearch = (event) => {\r\n\r\n    const { toolActionCreator } = this.props;\r\n    const { dataSearch } = this.state;\r\n    const { searchToolsSuccess } = toolActionCreator;\r\n    let search = {\r\n      ...dataSearch,\r\n      [event.target.name]: event.target.value\r\n    }\r\n    this.setState({ dataSearch: search });\r\n    searchToolsSuccess([], search);\r\n  }\r\n  handleRowClicked = (data) => {\r\n    let { dataSelected } = this.state;\r\n    console.log(dataSelected)\r\n    if (dataSelected._id === data._id) {\r\n      dataSelected = {}\r\n    } else {\r\n      dataSelected = data\r\n    }\r\n    this.setState({ dataSelected });\r\n  }\r\n  getImage = (images) => {\r\n    console.log(images)\r\n    //console.log(`https://drive.google.com/uc?export=view&id=${images[0].idImage}`)\r\n    return images.map(image => ({\r\n      original: `https://drive.google.com/uc?export=view&id=${image.idImage}`,\r\n      thumbnail: `https://drive.google.com/uc?export=view&id=${image.idImage}`\r\n    }))\r\n  }\r\n  render() {\r\n    const { tools, classes } = this.props;\r\n    const { columnsGrid, dataSearch, dataSelected } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.content}>\r\n          <div className=\"box-search\">\r\n            <div className=\"lb-search\">Search</div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_name\"\r\n                name=\"name\"\r\n                label=\"Công cụ\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_manufacturer\"\r\n                name=\"manufacturer\"\r\n                label=\"Hãng\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_type\"\r\n                name=\"type\"\r\n                label=\"Loại\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"search_user\"\r\n                name=\"userName\"\r\n                label=\"Người dùng\"\r\n                variant=\"filled\"\r\n                onInput={this.handleSearch}\r\n              />\r\n            </div>\r\n            <div className=\"field-search\">\r\n              <FormControl fullWidth variant=\"filled\">\r\n                <InputLabel htmlFor=\"status\">Trạng thái</InputLabel>\r\n                <Select\r\n                  fullWidth\r\n                  native\r\n                  value={dataSearch.status}\r\n                  onChange={this.handleSearch}\r\n                  inputProps={{\r\n                    name: 'status',\r\n                    id: 'status',\r\n                  }}\r\n                >\r\n                  <option value=\"all\">Tất cả</option>\r\n                  <option value=\"1\">READY</option>\r\n                  <option value=\"2\">IN USE</option>\r\n                  <option value=\"3\">BAD</option>\r\n                  <option value=\"4\">LOST</option>\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n          </div>\r\n          <div className={classes.boxGridTable}>\r\n            <Grid className={classes.dataTable + (dataSelected._id ? ' change-width' : '')}>\r\n              <DataTable\r\n                noHeader={true}\r\n                keyField={'_id'}\r\n                columns={columnsGrid}\r\n                data={this.generateTools(tools)}\r\n                striped={true}\r\n                pagination\r\n                paginationPerPage={20}\r\n                paginationRowsPerPageOptions={[10, 20, 50]}\r\n                onRowClicked={this.handleRowClicked}\r\n              />\r\n            </Grid>\r\n            <div className={'data-select' + (dataSelected._id ? '' : ' hide')}>\r\n              <div>Tên công cụ: {dataSelected.name}</div>\r\n              <div>Hãng: {dataSelected.manufacturer}</div>\r\n              <div>Loại: {dataSelected.type}</div>\r\n              <div>Hình ảnh:</div>\r\n              {\r\n                (dataSelected.images || []).length === 0 ? <></>\r\n                  //: <ImageGallery className=\"field-gallery\" items={this.getImage(dataSelected.images)} />\r\n                  : <ImageGallery className=\"field-gallery\" items={this.getImage(dataSelected.images)} />\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  removeVietnameseTones = (str) => {\r\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n    str = str.replace(/đ/g, \"d\");\r\n    str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\r\n    str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\r\n    str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\r\n    str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\r\n    str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\r\n    str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\r\n    str = str.replace(/Đ/g, \"D\");\r\n    // Some system encode vietnamese combining accent as individual utf-8 characters\r\n    // Một vài bộ encode coi các dấu mũ, dấu chữ như một kí tự riêng biệt nên thêm hai dòng này\r\n    str = str.replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, \"\"); // ̀ ́ ̃ ̉ ̣  huyền, sắc, ngã, hỏi, nặng\r\n    str = str.replace(/\\u02C6|\\u0306|\\u031B/g, \"\"); // ˆ ̆ ̛  Â, Ê, Ă, Ơ, Ư\r\n    // Remove extra spaces\r\n    // Bỏ các khoảng trắng liền nhau\r\n    str = str.replace(/ + /g, \" \");\r\n    str = str.trim();\r\n    // Remove punctuations\r\n    // Bỏ dấu câu, kí tự đặc biệt\r\n    // eslint-disable-next-line no-useless-escape\r\n    str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g, \" \");\r\n    return str;\r\n  }\r\n  generateTools = (tools) => {\r\n    let { order, user } = this.props;\r\n    const { dataSearch } = this.state;\r\n    if (!user && !user._id) return []\r\n    order.isAction = true\r\n    if (order && order._id && !user.admin && (user._id !== order.userId._id || order.status !== 'START')) order.isAction = false;\r\n\r\n    let _tools = JSON.parse(JSON.stringify(tools.filter(t =>\r\n      this.removeVietnameseTones(t.name).toLowerCase().indexOf(dataSearch.name.toLowerCase()) > -1 &&\r\n      this.removeVietnameseTones(t.manufacturer).toLowerCase().indexOf(dataSearch.manufacturer.toLowerCase()) > -1 &&\r\n      this.removeVietnameseTones(t.type).toLowerCase().indexOf(dataSearch.type.toLowerCase()) > -1\r\n    )));\r\n    if (dataSearch.status && dataSearch.status !== 'all') {\r\n      _tools = _tools.filter(t => {\r\n        t.status = t.status || \"1\";\r\n        return dataSearch.status === t.status + '';\r\n      })\r\n    }\r\n    if (order && order.toolId && order.toolId.length > 0) {\r\n      let lstIdTool = order.toolId\r\n      if (order.toolId[0]._id) {\r\n        lstIdTool = order.toolId.map(t => t._id)\r\n      }\r\n      _tools.filter(t => t.status).forEach(t => {\r\n        t.hasTool = lstIdTool.indexOf(t._id) > -1;\r\n      })\r\n    }\r\n    if (dataSearch.userName && dataSearch.status == '2') {\r\n\r\n      _tools = _tools.filter(t =>\r\n        this.removeVietnameseTones(t.woInfo[0].userInfo.name).toLowerCase().indexOf(dataSearch.userName.toLowerCase()) > -1\r\n      )\r\n    }\r\n\r\n\r\n    _tools.forEach(t => {\r\n      if (t.woInfo && t.woInfo.length > 0) {\r\n        let woInfo = t.woInfo.filter(wo => (wo.status !== \"COMPLETE\"));\r\n        if (woInfo.length > 0 && t.status === 2) {\r\n          let showInfo = t.woInfo.filter(wo => (wo.WO === t.wo));\r\n\r\n          if (showInfo.length > 0) {\r\n            t.woName = showInfo[0].WO;\r\n            t.userName = showInfo[0].userInfo.name\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n    return _tools;\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    tools: state.tools.tools || [],\r\n    user: state.auth.user || {},\r\n    order: state.orders.order || {}\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    toolActionCreator: bindActionCreators(toolActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    imageActionsCreator: bindActionCreators(imageActions, dispatch),\r\n    orderActionsCreator: bindActionCreators(OrderActions, dispatch)\r\n  }\r\n}\r\n\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(Tools);","const validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'name',\r\n    'password',\r\n    'email',\r\n    'phone'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (!values[field]) {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  return errors\r\n}\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n  modal: {\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    position: 'absolute',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n  },\r\n  TextField: {\r\n    width: '100%',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.color.primary,\r\n    color: theme.color.textColor,\r\n    padding: theme.spacing(2),\r\n  },\r\n  title: {\r\n    color: theme.color.textColor,\r\n    fontWeight: 700,\r\n    textTransform: 'capitalize',\r\n    fontFamily: 'Roboto'\r\n  },\r\n  content: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import React, { Component } from 'react';\r\nimport { withStyles, Grid, Button, FormControlLabel, Checkbox } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport * as CustomerActions from '../../actions/customerActions';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport renderTextField from '../../components/FormHelper/TextField';\r\n\r\nclass CustomerForm extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      admin: props.customerEditting ? (props.customerEditting.admin || false) : false,\r\n      pkt: props.customerEditting ? (props.customerEditting.pkt || false) : false,\r\n      isEditPassword: props.customerEditting && props.customerEditting._id === props.user._id\r\n    }\r\n  }\r\n\r\n  handleSubmitForm = (data) => {\r\n    const { customerActionsCreator, customerEditting, user } = this.props;\r\n    const { addCustomer, updateCustomer } = customerActionsCreator;\r\n    const { name, email, phone, department, group, password } = data;\r\n    const newCustomer = {\r\n      name,\r\n      email,\r\n      password,\r\n      phone,\r\n      department: department || '',\r\n      group: group || '',\r\n      admin: this.state.admin || false,\r\n      pkt: this.state.pkt || false\r\n    }\r\n    if (customerEditting) {\r\n      if (customerEditting._id !== user._id) {\r\n        delete newCustomer.password\r\n      }\r\n      updateCustomer(newCustomer);\r\n    } else {\r\n      addCustomer(newCustomer);\r\n    }\r\n  };\r\n  resetPassword = () => {\r\n    const { customerActionsCreator, customerEditting, user } = this.props;\r\n    const { addCustomer, updateCustomer } = customerActionsCreator;\r\n    const { name, email, phone, department, group } = customerEditting;\r\n    const newCustomer = {\r\n      name,\r\n      email,\r\n      password:\"123456\",\r\n      phone,\r\n      department: department || '',\r\n      group: group || '',\r\n      admin: this.state.admin || false,\r\n      pkt: this.state.pkt || false\r\n    }\r\n    if (customerEditting) {\r\n      updateCustomer(newCustomer);\r\n    } else {\r\n      addCustomer(newCustomer);\r\n    }\r\n  };\r\n\r\n  handleAdmin = (e) => {\r\n    this.setState({ admin: e.target.checked });\r\n  }\r\n  handlePkt = (e) => {\r\n    this.setState({ pkt: e.target.checked });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n    } = this.props;\r\n    const {\r\n      isEditPassword\r\n    } = this.state;\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n        <Grid container>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"email\"\r\n              name=\"email\"\r\n              label=\"Email\"\r\n              type='text'\r\n              InputProps={{\r\n                readOnly: false,\r\n              }}\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"name\"\r\n              name=\"name\"\r\n              label=\"Tên người dùng\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"phone\"\r\n              name=\"phone\"\r\n              label=\"Số điện thoại\"\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            />\r\n          </Grid>\r\n          {\r\n            this.props.customerEditting && !isEditPassword\r\n            ?\r\n            <>\r\n            </>\r\n            :\r\n            <Grid item md={12}>\r\n              <Field\r\n                id=\"password\"\r\n                name=\"password\"\r\n                label=\"Mật khẩu\"\r\n                type='password'\r\n                className={classes.TextField}\r\n                margin=\"normal\"\r\n                component={renderTextField}\r\n              ></Field>\r\n            </Grid>\r\n          }\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"department\"\r\n              name=\"department\"\r\n              label=\"Phân Xưởng\"\r\n              type='text'\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Field\r\n              id=\"group\"\r\n              name=\"group\"\r\n              label=\"Tổ\"\r\n              type='text'\r\n              className={classes.TextField}\r\n              margin=\"normal\"\r\n              component={renderTextField}\r\n            ></Field>\r\n          </Grid>\r\n          {\r\n            isEditPassword\r\n            ?\r\n            <>\r\n            </>\r\n            :\r\n            <Grid item md={12}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.admin || false}\r\n                    onChange={this.handleAdmin}\r\n                    name=\"admin\"\r\n                    id=\"admin\"\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Admin\"\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.pkt || false}\r\n                    onChange={this.handlePkt}\r\n                    name=\"pkt\"\r\n                    id=\"pkt\"\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Pkt\"\r\n              />\r\n            </Grid>\r\n          }\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-end\"\r\n            alignItems=\"flex-end\"\r\n          >\r\n            <Button onClick={()=>this.resetPassword()}>Reset PassWord</Button>\r\n            <Button onClick={hideModal}>Hủy</Button>\r\n            <Button disabled={invalid || submitting} type=\"submit\">\r\n              Lưu\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nCustomerForm.propTypes = {\r\n  customerId: PropTypes.string,\r\n  product: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customerEditting: state.customers.customerEditting,\r\n    initialValues: {\r\n      email: state.customers.customerEditting ? state.customers.customerEditting.email : null,\r\n      name: state.customers.customerEditting ? state.customers.customerEditting.name : null,\r\n      password: state.customers.customerEditting ? '' : '123456',\r\n      phone: state.customers.customerEditting ? state.customers.customerEditting.phone : null,\r\n      department: state.customers.customerEditting ? state.customers.customerEditting.department : null,\r\n      group: state.customers.customerEditting ? state.customers.customerEditting.group : null,\r\n      admin: state.customers.customerEditting ? state.customers.customerEditting.admin : false,\r\n      pkt: state.customers.customerEditting ? state.customers.customerEditting.admin : false,\r\n    },\r\n    user: state.auth.user\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    customerActionsCreator: bindActionCreators(CustomerActions, dispatch),\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'CUSTOMER_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(CustomerForm);\r\n","const style = (theme) => ({\r\n  content: {\r\n    marginTop: '65px',\r\n    '& .box-search': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n      '& .lb-search': {\r\n        width: '100px',\r\n        fontSize: '1rem',\r\n      },\r\n      '& .field-search': {\r\n        width: 'calc((100% - 100px) / 3)',\r\n        maxWidth: '300px',\r\n        paddingRight: '15px'\r\n      }\r\n    }\r\n  },\r\n  background: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    padding: 40,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: '100vh',\r\n    textAlign: 'center',\r\n    flex: '1 0 auto',\r\n  },\r\n  alert: {\r\n    display: 'flex',\r\n    margin: '10px',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  login: {\r\n    maxWidth: '600px',\r\n  },\r\n  dataTable: {\r\n    '& .rdt_Table': {\r\n      '& .rdt_TableHead': {\r\n        width: '100%',\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        '& .rdt_TableCol': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        }\r\n      },\r\n      '& .rdt_TableBody': {\r\n        borderTop: '1px solid rgba(0,0,0,.12)',\r\n        height: 'calc(100vh - 255px)',\r\n        overflowY: 'overlay !important',\r\n        '& .rdt_TableCell': {\r\n          borderLeft: '1px solid rgba(0,0,0,.12)',\r\n          '&:last-child': {\r\n            borderRight: '1px solid rgba(0,0,0,.12)'\r\n          }\r\n        },\r\n        '& .rdt_TableRow:last-child': {\r\n          borderBottom: '1px solid rgba(0,0,0,.12)'\r\n        }\r\n      }\r\n    },\r\n  }\r\n});\r\nexport default style;","import React, { Component, Fragment, } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as customerActions from '../../actions/customerActions';\r\nimport * as modalActions from '../../actions/modal';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport CustomerForm from '../CustomerForm';\r\nimport { withStyles, Fab, Grid, TextField, FormControl, InputLabel, Select } from '@material-ui/core';\r\nimport { DeleteForever, Edit } from '@material-ui/icons';\r\nimport DataTable from 'react-data-table-component';\r\nimport styles from './style';\r\nimport { popupConfirm } from '../../actions/ui';\r\n\r\nclass Customers extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      page: 1,\r\n      rowPerPage: 20,\r\n      dataSearch: {\r\n        email: '',\r\n        name: '',\r\n        phone: '',\r\n        department: '',\r\n        group: '',\r\n        permit: ''\r\n      },\r\n      columnsGrid: [\r\n        {\r\n          name: '#', width: '80px',\r\n          cell: (params, index) => {\r\n            return index + 1\r\n          }\r\n        },\r\n        { selector: 'email', name: 'Email', minWidth: '200px', sortable: true },\r\n        { selector: 'name', name: 'Tên người dùng', minWidth: '200px', sortable: true },\r\n        {\r\n          selector: 'phone', name: 'Số điện thoại', width: '150px', sortable: true,\r\n          cell: (params) => params.phone ? '(+84) ' + params.phone : ''\r\n        },\r\n        { selector: 'department', name: 'Phân Xưởng', minWidth: '200px', sortable: true },\r\n        { selector: 'group', name: 'Tổ', minWidth: '200px', sortable: true },\r\n        {\r\n          name: 'Hành động', width: '120px',\r\n          cell: (params) => {\r\n            let data = JSON.parse(JSON.stringify(params))\r\n            return <>\r\n              <Fab\r\n                color=\"default\"\r\n                aria-label=\"Delete\"\r\n                size='small'\r\n                onClick={() => {\r\n                  this.onClickEdit(data)\r\n                }}\r\n              >\r\n                <Edit color=\"primary\" />\r\n              </Fab>\r\n              &nbsp;&nbsp;\r\n              {/* <Fab\r\n                color=\"default\"\r\n                aria-label=\"Delete\"\r\n                size='small'\r\n                onClick={() => {\r\n                  this.onClickDelete(data)\r\n                }}\r\n              >\r\n                <DeleteForever color=\"error\" fontSize=\"small\" />\r\n              </Fab> */}\r\n            </>\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const { customerActionCreator } = this.props;\r\n    const { listAllCustomers } = customerActionCreator;\r\n    listAllCustomers();\r\n  }\r\n  onClickWorkOrder = (customer) => {\r\n    const { customerActionCreator } = this.props;\r\n    const { deleteCustomer } = customerActionCreator;\r\n    deleteCustomer(customer);\r\n  }\r\n  onClickDelete = (customer) => {\r\n    let self = this\r\n    popupConfirm({\r\n      title: 'Delete',\r\n      html: \"Bạn muốn xóa người dùng này?\",\r\n      ifOk: () => {\r\n        const { customerActionCreator } = self.props;\r\n        const { deleteCustomer } = customerActionCreator;\r\n        deleteCustomer(customer);\r\n      }\r\n    })\r\n  }\r\n  onClickEdit = (customer) => {\r\n    const { customerActionCreator, modalActionsCreator } = this.props;\r\n    const { setCustomerEditing } = customerActionCreator;\r\n    setCustomerEditing(customer);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa thông tin người dùng');\r\n    changeModalContent(<CustomerForm />);\r\n  }\r\n  handleChangePage = (page, total) => {\r\n    // this.setState({ page });\r\n  }\r\n  handleChangeRowsPerPage = (perPage, total) => {\r\n    // this.setState({ page });\r\n  }\r\n\r\n  handleSearch = (event) => {\r\n    const { dataSearch } = this.state;\r\n    let search = {\r\n      ...dataSearch,\r\n      [event.target.name]: event.target.value\r\n    }\r\n    this.setState({ dataSearch: search });\r\n  }\r\n\r\n  render() {\r\n    const { customers, classes, user } = this.props;\r\n    const { columnsGrid, rowPerPage, dataSearch } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <div className={classes.content}>\r\n          {\r\n            user && user.admin\r\n              ?\r\n              <>\r\n                <div className=\"box-search\">\r\n                  <div className=\"lb-search\">Search</div>\r\n                  <div className=\"field-search\">\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"search_email\"\r\n                      name=\"email\"\r\n                      label=\"Email\"\r\n                      variant=\"filled\"\r\n                      onInput={this.handleSearch}\r\n                    />\r\n                  </div>\r\n                  <div className=\"field-search\">\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"search_name\"\r\n                      name=\"name\"\r\n                      label=\"Tên người dùng\"\r\n                      variant=\"filled\"\r\n                      onInput={this.handleSearch}\r\n                    />\r\n                  </div>\r\n                  <div className=\"field-search\">\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"search_phone\"\r\n                      name=\"phone\"\r\n                      label=\"Số điện thoại\"\r\n                      variant=\"filled\"\r\n                      onInput={this.handleSearch}\r\n                    />\r\n                  </div>\r\n                  <div className=\"field-search\">\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"search_department\"\r\n                      name=\"department\"\r\n                      label=\"Phân xưởng\"\r\n                      variant=\"filled\"\r\n                      onInput={this.handleSearch}\r\n                    />\r\n                  </div>\r\n                  <div className=\"field-search\">\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"search_group\"\r\n                      name=\"group\"\r\n                      label=\"Tổ\"\r\n                      variant=\"filled\"\r\n                      onInput={this.handleSearch}\r\n                    />\r\n                  </div>\r\n                  <div className=\"field-search\">\r\n                    <FormControl fullWidth variant=\"filled\">\r\n                      <InputLabel htmlFor=\"permit\">PHÂN QUYỀN</InputLabel>\r\n                      <Select\r\n                        fullWidth\r\n                        native\r\n                        value={dataSearch.permit}\r\n                        onChange={this.handleSearch}\r\n                        inputProps={{\r\n                          name: 'permit',\r\n                          id: 'permit',\r\n                        }}\r\n                      >\r\n                        <option value={false}>USER</option>\r\n                        <option value={true}>ADMIN</option>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </div>\r\n                </div>\r\n                <Grid className={classes.dataTable}>\r\n                  <DataTable\r\n                    noHeader={true}\r\n                    keyField={'_id'}\r\n                    columns={columnsGrid}\r\n                    data={this.generateCustomers(customers.filter(c => (user ? c._id !== user._id : c._id)))}\r\n                    striped={true}\r\n                    pagination\r\n                    paginationPerPage={rowPerPage}\r\n                    paginationRowsPerPageOptions={[10, 20, 50]}\r\n                    onChangePage={this.handleChangePage}\r\n                    onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n                  />\r\n                </Grid>\r\n              </>\r\n              :\r\n              <>\r\n              </>\r\n          }\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  generateCustomers = (customers) => {\r\n    const { dataSearch } = this.state;\r\n    let _customers = []\r\n    if (customers && customers.length > 0) {\r\n      _customers = JSON.parse(JSON.stringify(customers.filter(t =>\r\n        t.email.toLowerCase().indexOf(dataSearch.email.toLowerCase()) > -1 &&\r\n        t.name.toLowerCase().indexOf(dataSearch.name.toLowerCase()) > -1 &&\r\n        (t.phone + '').toLowerCase().indexOf((dataSearch.phone + '').toLowerCase()) > -1 &&\r\n        t.department.toLowerCase().indexOf(dataSearch.department.toLowerCase()) > -1 &&\r\n        t.group.toLowerCase().indexOf(dataSearch.group.toLowerCase()) > -1 &&\r\n        String(t.admin).indexOf(dataSearch.permit) > -1\r\n      )));\r\n    }\r\n    return _customers;\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    customers: state.customers.customers,\r\n    user: state.auth.user,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    customerActionCreator: bindActionCreators(customerActions, dispatch),\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch)\r\n  }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(Customers);","import AdminHomePage from '../containers/AdminHomePage';\r\nimport Taskboard from '../containers/Taskboard';\r\nimport LoginPage from '../containers/LoginPage';\r\nimport SignupPage from '../containers/SignupPage';\r\nimport PageNotFound from '../containers/PageNotFound';\r\n\r\nimport FastReports from '../containers/FastReports';\r\nimport FastReportDetail from '../containers/FastReportDetail';\r\nimport FastReportForm from '../containers/FastReportForm';\r\n\r\nimport Orders from '../containers/Orders';\r\nimport OrderDetail from '../containers/OrderDetail';\r\nimport OrderForm from '../containers/OrderForm';\r\n\r\nimport Changechtts from '../containers/Changechtts';\r\nimport CchttDetail from '../containers/CchttDetail';\r\nimport CchttForm from '../containers/CchttForm';\r\n\r\nimport Changegsats from '../containers/Changegsats';\r\nimport CgsatDetail from '../containers/CgsatDetail';\r\nimport CgsatForm from '../containers/CgsatForm';\r\n\r\nimport Bbdgkts from '../containers/Bbdgkts';\r\nimport BbdgktDetail from '../containers/BbdgktDetail';\r\nimport BbdgktForm from '../containers/BbdgktForm';\r\n\r\nimport Thongkes from '../containers/ThongKes';\r\n\r\nimport Bptcs from '../containers/Bptcs';\r\n\r\nimport BptcDetail from '../containers/BptcDetail';\r\nimport BptcForm from '../containers/BptcForm';\r\n\r\nimport Tools from '../containers/Tools';\r\nimport ToolForm from '../containers/ToolForm';\r\n\r\nimport Customers from '../containers/Customers';\r\nimport CustomerForm from '../containers/CustomerForm';\r\n\r\nimport BallotIcon from '@material-ui/icons/Ballot';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport PagesIcon from '@material-ui/icons/Pages';\r\nimport ChromeReaderModeIcon from '@material-ui/icons/ChromeReaderMode';\r\nimport DateRangeIcon from '@material-ui/icons/DateRange';\r\nimport WorkIcon from '@material-ui/icons/Work';\r\nimport SwapHorizontalCircleIcon from '@material-ui/icons/SwapHorizontalCircle';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\n//export const API_ENDPOINT = 'https://api.yensaochampa.icu';\r\n//export const API_ENDPOINT = 'http://localhost:4001';\r\nexport const API_ENDPOINT = 'http://113.161.220.166:4001';\r\n\r\nexport const STATUSES = [\r\n  {\r\n    value: 0,\r\n    label: 'READY',\r\n  },\r\n  {\r\n    value: 1,\r\n    label: 'IN PROGRESS',\r\n  },\r\n  {\r\n    value: 2,\r\n    label: 'COMPLETE',\r\n  },\r\n];\r\n\r\nexport const STATUS_CODE = {\r\n  SUCCESS: 200,\r\n  CREATED: 201,\r\n  UPDATED: 202,\r\n};\r\n\r\nexport const ADMIN_ROUTES = [\r\n  {\r\n    path: '/admin',\r\n    name: 'Trang quản trị',\r\n    exact: true,\r\n    component: AdminHomePage,\r\n    form: null,\r\n    onlyAdmin: false,\r\n    iconSidebar: SupervisorAccountIcon,\r\n    isHide: true\r\n  },\r\n  {\r\n    path: '/',\r\n    name: 'Trang chủ',\r\n    exact: true,\r\n    component: AdminHomePage,\r\n    form: null,\r\n    onlyAdmin: false,\r\n    iconSidebar: PagesIcon,\r\n    isHide: true\r\n  },\r\n  {\r\n    path: '/admin/order',\r\n    params: [\":orderId?\"],\r\n    name: 'Quản lý Work Order',\r\n    exact: false,\r\n    component: Orders,\r\n    form: OrderForm,\r\n    onlyAdmin: false,\r\n    labelButtonAdd: 'WORK ORDER',\r\n    iconSidebar: WorkIcon,\r\n    isExport: true\r\n  },\r\n  {\r\n    path: '/admin/fastReport',\r\n    params: [\":fastReportId?\"],\r\n    name: 'Báo cáo nhanh',\r\n    exact: false,\r\n    component: FastReports,\r\n    form: FastReportForm,\r\n    onlyAdmin: false,\r\n    labelButtonAdd: 'FAST REPORT',\r\n    iconSidebar: WorkIcon,\r\n    isExport: true\r\n  },\r\n  {\r\n    path: '/admin/cchtt',\r\n    params: [\":cchttId?\"],\r\n    name: 'Thay đổi CHTT',\r\n    exact: false,\r\n    component: Changechtts,\r\n    form: CchttForm,\r\n    onlyAdmin: false,\r\n    labelButtonAdd: 'Phiếu Đổi CHTT',\r\n    iconSidebar: SwapHorizontalCircleIcon,\r\n    isExport: true\r\n  },\r\n  {\r\n    path: '/admin/cgsat',\r\n    params: [\":cgsatId?\"],\r\n    name: 'Thay đổi GSAT',\r\n    exact: false,\r\n    component: Changegsats,\r\n    form: CgsatForm,\r\n    onlyAdmin: false,\r\n    labelButtonAdd: 'Phiếu Đổi GSAT',\r\n    iconSidebar: SwapHorizontalCircleIcon,\r\n    isExport: true\r\n  },\r\n  {\r\n    path: '/admin/bbdgkt',\r\n    params: [\":bbdgktId?\"],\r\n    name: 'Biên bản ĐGKT',\r\n    exact: false,\r\n    component: Bbdgkts,\r\n    form: BbdgktForm,\r\n    onlyAdmin: false,\r\n    labelButtonAdd: 'Biên bản ĐGKT',\r\n    iconSidebar: DescriptionIcon,\r\n    isExport: true\r\n  },\r\n  {\r\n    path: '/admin/bptc',\r\n    params: [\":bptcId?\"],\r\n    name: 'BPTC & JSA',\r\n    exact: false,\r\n    component: Bptcs,\r\n    form: BptcForm,\r\n    onlyAdmin: false,\r\n    labelButtonAdd: 'BPTC & JSA',\r\n    iconSidebar: MenuBookIcon,\r\n    isExport: true\r\n  },\r\n  {\r\n    path: '/admin/order-detail',\r\n    params: [\":orderId\"],\r\n    name: 'Chi tiết Work Order',\r\n    exact: false,\r\n    component: OrderDetail,\r\n    form: OrderForm,\r\n    onlyAdmin: false,\r\n    iconSidebar: ChromeReaderModeIcon,\r\n    isHide: true\r\n  },\r\n  {\r\n    path: '/admin/fastReport-detail',\r\n    params: [\":fastReportId\"],\r\n    name: 'Chi tiết Báo cáo nhanh',\r\n    exact: false,\r\n    component: FastReportDetail,\r\n    form: FastReportForm,\r\n    onlyAdmin: false,\r\n    iconSidebar: ChromeReaderModeIcon,\r\n    isHide: true\r\n  },\r\n  {\r\n    path: '/admin/cchtt-detail',\r\n    params: [\":cchttId\"],\r\n    name: 'Chi tiết thay đổi chỉ huy trực tiếp',\r\n    exact: false,\r\n    component: CchttDetail,\r\n    form: CchttForm,\r\n    onlyAdmin: false,\r\n    iconSidebar: ChromeReaderModeIcon,\r\n    isHide: true\r\n  },\r\n  {\r\n    path: '/admin/cgsat-detail',\r\n    params: [\":cgsatId\"],\r\n    name: 'Chi tiết thay đổi giám sát an toàn',\r\n    exact: false,\r\n    component: CgsatDetail,\r\n    form: CgsatForm,\r\n    onlyAdmin: false,\r\n    iconSidebar: ChromeReaderModeIcon,\r\n    isHide: true\r\n  },\r\n  {\r\n    path: '/admin/bbdgkt-detail',\r\n    params: [\":bbdgktId\"],\r\n    name: 'Chi tiết Biên Bản ĐGKT',\r\n    exact: false,\r\n    component: BbdgktDetail,\r\n    form: BbdgktForm,\r\n    onlyAdmin: false,\r\n    iconSidebar: ChromeReaderModeIcon,\r\n    isHide: true\r\n  },\r\n  {\r\n    path: '/admin/bptc-detail',\r\n    params: [\":bptcId\"],\r\n    name: 'Chi tiết Biện pháp thi công & JSA',\r\n    exact: false,\r\n    component: BptcDetail,\r\n    form: BptcForm,\r\n    onlyAdmin: false,\r\n    iconSidebar: ChromeReaderModeIcon,\r\n    isHide: true\r\n  },\r\n  {\r\n    path: '/admin/tool',\r\n    params: [\":orderId?\"],\r\n    name: 'Quản lý dụng cụ',\r\n    exact: false,\r\n    component: Tools,\r\n    form: ToolForm,\r\n    onlyAdmin: false,\r\n    labelButtonAdd: 'CÔNG CỤ',\r\n    iconSidebar: BuildIcon,\r\n    isExport: true\r\n  },\r\n  {\r\n    path: '/admin/customer',\r\n    name: 'Quản lý người dùng',\r\n    exact: false,\r\n    component: Customers,\r\n    form: CustomerForm,\r\n    onlyAdmin: true,\r\n    labelButtonAdd: 'NGƯỜI DÙNG',\r\n    iconSidebar: FaceIcon,\r\n  },\r\n  {\r\n    path: '/admin/thongke',\r\n    name: 'Dash Board',\r\n    exact: false,\r\n    component: Thongkes,\r\n    onlyAdmin: false,\r\n    labelButtonAdd: 'DASHBOARD',\r\n    iconSidebar: FaceIcon,\r\n  },\r\n];\r\n\r\nexport const ROUTES = [\r\n  {\r\n    name: 'Dang nhap',\r\n    path: '/login',\r\n    exact: true,\r\n    component: LoginPage,\r\n  },\r\n  {\r\n    name: 'Dang ky',\r\n    path: '/signup',\r\n    exact: true,\r\n    component: SignupPage,\r\n  },\r\n  {\r\n    name: 'Page Not Found',\r\n    path: '',\r\n    exact: false,\r\n    component: PageNotFound,\r\n  }\r\n]\r\n\r\nexport const limitSizeImage = 10000000;","const styles = (theme) => ({\r\n  wrapper: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      height: '100vh',\r\n    },\r\n  wrapperContent: {\r\n    width:'100%',\r\n    padding: '8px',\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeIn,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  },\r\n  dashboard:{\r\n    display:'block',\r\n    height:'100vh',\r\n  },\r\n  shiftLeft:{\r\n   //marginLeft: \"-240px\",\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.shape,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    })\r\n  }\r\n   \r\n  });\r\n  \r\n  export default styles;\r\n  ","import {\r\n  fade\r\n} from '@material-ui/core/styles';\r\nconst styles = (theme) => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    marginRight: '20px',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    alignItems: 'center',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  btnBack: {\r\n    backgroundColor: '#fff',\r\n    color: '#3949ab'\r\n  }\r\n});\r\n\r\nexport default styles;","const validate = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'name',\r\n    'password',\r\n    'email',\r\n    'phone'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (!values[field]) {\r\n      errors[field] = 'Vui lòng không để trống'\r\n    }\r\n  })\r\n  return errors\r\n}\r\nexport default validate;\r\n","const styles = (theme) => ({\r\n    dateRange: {\r\n        width: \"100%\",\r\n        '& .rdrMonth': {\r\n            width: \"100%\"\r\n        }\r\n    }\r\n});\r\n\r\nexport default styles;\r\n","import axios from 'axios'\r\nimport * as Config from '../../constants'\r\n\r\nexport default function callApi(endpoint, method = 'GET', body, config) {\r\n    return axios({\r\n        method: method,\r\n        url: `${Config.API_ENDPOINT}/${endpoint}`,\r\n        data: body,\r\n        config\r\n    })\r\n}\r\n\r\nexport function getWithToken(endpoint, token, data) {\r\n    //const url = \"https://api.yensaochampa.icu/api/orders\";\r\n    let params = []\r\n    if (data) {\r\n        Object.keys(data.params).forEach(function (key) {\r\n            params.push(`${key}=${data.params[key]}`)\r\n        });\r\n    }\r\n    const url = `${Config.API_ENDPOINT}/${endpoint}${params.length > 0 ? `?${params.join('&')}` : ''}`\r\n    const options = {\r\n        method: 'GET',\r\n        headers: { \"Content-type\": \"application/json\", 'auth-token': token },\r\n        url, //@https://api.yensaochampa.icu/api/orders\r\n    };\r\n    return axios(options)\r\n}\r\n\r\nexport function postWithToken(endpoint, token, data) {\r\n    //const url = \"https://api.yensaochampa.icu/api/orders\";\r\n    const url = `${Config.API_ENDPOINT}/${endpoint}`\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { \"Content-type\": \"application/json\", 'auth-token': token },\r\n        url, //@https://api.yensaochampa.icu/api/orders,\r\n        data,\r\n    };\r\n    return axios(options)\r\n}\r\n\r\nexport function deleteWithToken(endpoint, token, id) {\r\n    const url = `${Config.API_ENDPOINT}/${endpoint}/${id}`\r\n    const options = {\r\n        method: 'DELETE',\r\n        headers: { \"Content-type\": \"application/json\", 'auth-token': token },\r\n        url, //@https://api.yensaochampa.icu/api/orders/id,\r\n    };\r\n    return axios(options)\r\n}\r\n\r\nexport function patchWithToken(endpoint, token, id, data) {\r\n    const url = `${Config.API_ENDPOINT}/${endpoint}/${id}`\r\n    const options = {\r\n        method: 'PATCH',\r\n        headers: { \"Content-type\": \"application/json\", 'auth-token': token },\r\n        url, //@https://api.yensaochampa.icu/api/orders/id,\r\n        data,\r\n    };\r\n    return axios(options)\r\n}\r\nexport function postImagesWithToken(endpoint, token, listFile) {\r\n\r\n    const url = `${Config.API_ENDPOINT}/${endpoint}/`; //@https://api.yensaochampa.icu/api/upload/upload-photos,\r\n    const config = {\r\n        headers: { 'content-type': 'multipart/form-data', 'auth-token': token },\r\n    }\r\n    console.log(listFile)\r\n    let formData = new FormData();\r\n    for (let i = 0; i < listFile[0].length; i++) {\r\n        formData.append('photos', listFile[0][i])\r\n    }\r\n    return axios.post(url, formData, config)\r\n}\r\n\r\n\r\nexport function deleteImageWithToken(endpoint, token, filename) {\r\n    const url = `${Config.API_ENDPOINT}/${endpoint}/${filename}`\r\n    const options = {\r\n        method: 'DELETE',\r\n        headers: { \"Content-type\": \"application/json\", 'auth-token': token },\r\n        url, //@https://api.yensaochampa.icu/api/upload/image/:filename,\r\n    };\r\n    return axios(options)\r\n}\r\nexport function postFilesWithToken(endpoint, token, listFile) {\r\n\r\n    const url = `${Config.API_ENDPOINT}/${endpoint}/`; //@https://api.yensaochampa.icu/api/upload/upload-photos,\r\n    const config = {\r\n        headers: { 'content-type': 'multipart/form-data', 'auth-token': token },\r\n    }\r\n    let formData = new FormData();\r\n    console.log(listFile.length)\r\n    for (let i = 0; i < listFile.length; i++) {\r\n        formData.append('files', listFile[i])\r\n    }\r\n    return axios.post(url, formData, config)\r\n}\r\n\r\n\r\nexport function deleteFileWithToken(endpoint, token, filename) {\r\n    const url = `${Config.API_ENDPOINT}/${endpoint}/${filename}`\r\n    const options = {\r\n        method: 'DELETE',\r\n        headers: { \"Content-type\": \"application/json\", 'auth-token': token },\r\n        url, //@https://api.yensaochampa.icu/api/upload/image/:filename,\r\n    };\r\n    return axios(options)\r\n}\r\n","import callApi from '../commons/utils/apiCaller';\r\n\r\n//@post user to login https://api.yensaochampa.icu/users/login\r\n\r\nexport const login = (user) => {\r\n  //headers \r\n  const config = {\r\n    headers: {\r\n      \"Content-type\": \"application/json\"\r\n    }\r\n  }\r\n  return callApi('users/login', 'POST', user, config).then(res => {\r\n    return res;\r\n  }).catch(err => {\r\n    return err.response\r\n  })\r\n};\r\n\r\nexport const getToken = () => {\r\n  const token = localStorage.getItem('token');\r\n  return token;\r\n}","import React, { Component } from 'react';\r\nimport { withStyles, Grid, Button } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as modalActions from '../../actions/modal';\r\nimport { reduxForm } from 'redux-form';\r\nimport validate from './validate';\r\nimport styles from './style';\r\nimport { DateRange } from 'react-date-range';\r\nimport { getWithToken } from '../../commons/utils/apiCaller';\r\nimport { getToken } from '../../apis/auth';\r\nimport XLSX from 'xlsx';\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\nimport { vi } from 'date-fns/locale';\r\nimport 'react-date-range/dist/styles.css'; // main css file\r\nimport 'react-date-range/dist/theme/default.css'; // theme css file\r\n\r\nclass ExportToolForm extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      range: {\r\n        startDate: new Date(),\r\n        endDate: new Date(),\r\n        key: 'selection'\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSubmitForm = async (data) => {\r\n    const { user, modalActionsCreator } = this.props;\r\n    if (user && user.admin) {\r\n      let { range: { startDate, endDate } } = this.state;\r\n      startDate = moment(startDate)._d.toJSON();\r\n      endDate = moment(endDate)._d.toJSON();\r\n      let params = { startDate, endDate }\r\n      let token = await getToken();\r\n      getWithToken('api/orders/collect-tools', token, { params }).then(res => {\r\n        console.log(res);\r\n        if (res.data.Status.StatusCode === 200) {\r\n          let data = JSON.parse(JSON.stringify(res.data.Data.Row.filter(order => order.status === 'COMPLETE' || order.status === 'CLOSE')))\r\n          let lstTool = _.flattenDeep(data.map(row => row.toolId));\r\n          // let lstTypeTool = _.uniq(lstTool.map(tool => tool.type));\r\n          let lstTypeTool = _.uniq(lstTool.map(tool => tool.name));\r\n          let dataTable = [\r\n            ['REPORT TOOL','',''],\r\n            ['','',''],\r\n            ['From', moment(startDate).format('DD/MM/YYYY'), ''],\r\n            ['To', moment(endDate).format('DD/MM/YYYY'), ''],\r\n            ['','',''],\r\n            ['STT', 'Tên công cụ dụng cụ', 'Số lần mượn']\r\n          ]\r\n          for (let i = 0; i < lstTypeTool.length; i++) {\r\n            let tmp = [\r\n              i + 1,\r\n              lstTypeTool[i],\r\n              // lstTool.filter(tool => tool.type === lstTypeTool[i]).length\r\n              lstTool.filter(tool => tool.name === lstTypeTool[i]).length\r\n            ]\r\n            dataTable.push(tmp)\r\n          }\r\n          console.log(dataTable);\r\n          const wb = XLSX.utils.book_new();\r\n          const wsAll = XLSX.utils.aoa_to_sheet(dataTable);\r\n          let cols = []\r\n          for (let i = 0; i < dataTable[0].length; i++) {\r\n            cols.push({ wch: 15 });\r\n          }\r\n          wsAll['!cols'] = cols\r\n          XLSX.utils.book_append_sheet(wb, wsAll, 'Report Tool');\r\n          let name = `ReportTool_${moment().format('YYYYMMDDHHmmss')}.xlsx`;\r\n          XLSX.writeFile(wb, name);\r\n          modalActionsCreator.hideModal();\r\n        }\r\n      }).catch(err => { return err.response });\r\n    }\r\n  };\r\n  setDateRange = (range) => {\r\n    this.setState({ range: range[0] });\r\n  }\r\n  setOpen = () => {\r\n  }\r\n  render() {\r\n    const {\r\n      classes,\r\n      modalActionsCreator,\r\n      handleSubmit,\r\n      invalid,\r\n      submitting,\r\n    } = this.props;\r\n    let { range } = this.state;\r\n    const { hideModal } = modalActionsCreator;\r\n    return (\r\n      <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n        <Grid container>\r\n          <Grid item md={12}>\r\n            <DateRange\r\n              className={classes.dateRange}\r\n              locale={vi}\r\n              editableDateInputs={true}\r\n              onChange={item => this.setDateRange([item.selection])}\r\n              moveRangeOnFirstSelection={false}\r\n              ranges={[range]}\r\n            />\r\n          </Grid>\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-end\"\r\n            alignItems=\"flex-end\"\r\n            style={{ marginTop: \"10px\" }}\r\n          >\r\n            <Button onClick={hideModal}>Hủy</Button>\r\n            <Button disabled={invalid || submitting} type=\"submit\">\r\n              Xuất\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    user: state.auth.user\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nconst FORM_NAME = 'EXPORT_TOOL_TYPE_MANAGEMENT';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_NAME,\r\n  validate,\r\n});\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(ExportToolForm);\r\n","import React, { Component } from 'react';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport { connect, } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport { withStyles, Button } from '@material-ui/core';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport { Add, GetApp } from '@material-ui/icons';\r\n\r\nimport * as modalActions from '../../../actions/modal';\r\nimport * as orderActions from '../../../actions/orderActions';\r\nimport * as cchttActions from '../../../actions/cchttActions';\r\nimport * as cgsatActions from '../../../actions/cgsatActions';\r\nimport * as bbdgktActions from '../../../actions/bbdgktActions';\r\nimport * as bptcActions from '../../../actions/bptcActions';\r\nimport * as customerActions from '../../../actions/customerActions';\r\nimport * as toolActions from '../../../actions/toolActions';\r\nimport * as fastReportActions from '../../../actions/fastReportActions';\r\n\r\nimport styles from './styles';\r\nimport CustomerForm from '../../../containers/CustomerForm';\r\nimport ExportToolForm from '../../../containers/ExportToolForm';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { getWithToken } from '../../../commons/utils/apiCaller';\r\nimport { getToken } from '../../../apis/auth';\r\nimport XLSX from 'xlsx';\r\nimport moment from 'moment';\r\n\r\nconst menuId = 'primary-search-account-menu';\r\nconst mobileMenuId = 'primary-search-account-menu-mobile';\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      anchorEl: null,\r\n      redirect: false,\r\n      urlRedirect: ''\r\n    };\r\n  }\r\n  handleProfileMenuOpen = (event) => {\r\n    this.setState({\r\n      anchorEl: event.currentTarget,\r\n    });\r\n  };\r\n\r\n  handleMenuClose = () => {\r\n    this.setState({\r\n      anchorEl: null,\r\n    });\r\n  };\r\n  handleMyProfile = () => {\r\n    const { customerActionsCreator, modalActionsCreator, user } = this.props;\r\n    const { setCustomerEditing } = customerActionsCreator;\r\n    setCustomerEditing(user);\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle('Sửa thông tin cá nhân');\r\n    changeModalContent(<CustomerForm />);\r\n  }\r\n  handleLogout = () => {\r\n    const { history, logout } = this.props;\r\n    logout();\r\n    if (history) {\r\n      history.push('/login')\r\n    }\r\n  }\r\n  renderMenu = () => {\r\n    const { anchorEl } = this.state;\r\n    const isMenuOpen = Boolean(anchorEl);\r\n    return (\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        id={menuId}\r\n        keepMounted\r\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        open={isMenuOpen}\r\n        onClose={this.handleMenuClose}\r\n      >\r\n        <MenuItem onClick={this.handleMyProfile}>Thông tin cá nhân</MenuItem>\r\n        <MenuItem onClick={this.handleLogout}>Log out</MenuItem>\r\n      </Menu>\r\n    );\r\n  };\r\n\r\n  handleToggleSidebar = () => {\r\n    const { showSidebar, onToggleSidebar } = this.props;\r\n    if (onToggleSidebar) {\r\n      onToggleSidebar(!showSidebar)\r\n    }\r\n  }\r\n  openForm = () => {\r\n    const { modalActionsCreator,\r\n      toolActionsCreator,\r\n      customerActionsCreator,\r\n      orderActionsCreator,\r\n      cchttActionsCreator,\r\n      cgsatActionsCreator,\r\n      bbdgktActionsCreator,\r\n      bptcActionsCreator,\r\n      fastReportActionsCreator,\r\n      form: FormComponent,\r\n      labelButtonAdd } = this.props;\r\n    const { setToolEditing } = toolActionsCreator;\r\n    setToolEditing(null);\r\n    const { setCustomerEditing } = customerActionsCreator;\r\n    setCustomerEditing(null);\r\n    const { setOrderEditing } = orderActionsCreator;\r\n    setOrderEditing(null);\r\n    const { setCchttEditing } = cchttActionsCreator;\r\n    setCchttEditing(null);\r\n    const { setCgsatEditing } = cgsatActionsCreator;\r\n    setCgsatEditing(null);\r\n    const { setBbdgktEditing } = bbdgktActionsCreator;\r\n    setBbdgktEditing(null);\r\n    const { setBptcEditing } = bptcActionsCreator;\r\n    setBptcEditing(null);\r\n    const { setFastReportEditing } = fastReportActionsCreator;\r\n    setFastReportEditing(null);\r\n\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle(`Thêm ${labelButtonAdd}`);\r\n    changeModalContent(<FormComponent />);\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.urlRedirect} />\r\n    }\r\n  }\r\n  onClickGotoUrl = (urlRedirect) => {\r\n    this.setState({\r\n      redirect: true,\r\n      urlRedirect\r\n    })\r\n  }\r\n\r\n  convertArrayOfObjectsToCSV = (array) => {\r\n    let result;\r\n\r\n    const columnDelimiter = ',';\r\n    const lineDelimiter = '\\n';\r\n    const keys = Object.keys(array[0]);\r\n\r\n    result = '';\r\n    result += keys.join(columnDelimiter);\r\n    result += lineDelimiter;\r\n\r\n    array.forEach(item => {\r\n      let ctr = 0;\r\n      keys.forEach(key => {\r\n        if (ctr > 0) result += columnDelimiter;\r\n\r\n        result += item[key];\r\n\r\n        ctr++;\r\n      });\r\n      result += lineDelimiter;\r\n    });\r\n\r\n    return result;\r\n  }\r\n  generateOrder = (item) => {\r\n    return [item.PCT, item.userId.department, item.location, item.KKS, item.content, moment(item.timeStart).format('DD-MM-YYYY'), moment(item.timeStop).format('DD-MM-YYYY'), item.userId.name, item.WO]\r\n  }\r\n  generateCchtt = (item) => {\r\n    return [item.PCCHTT, item.WO, item.PCT, item.userId.name, moment(item.timeChange).format('HH:mm DD-MM-YYYY'), item.note]\r\n  }\r\n  generateCgsat = (item) => {\r\n    return [item.PCGSAT, item.WO, item.PCT, item.userId.name, moment(item.timeChange).format('HH:mm DD-MM-YYYY'), item.note]\r\n  }\r\n  generateBbdgkt = (item) => {\r\n    return [item.BBDGKT, item.userId.department, item.content, item.WO, moment(item.time).format('DD-MM-YYYY'), item.userId.name]\r\n  }\r\n  generateBptc = (item) => {\r\n    return [item.BPTC, item.JSA, item.content, item.note]\r\n  }\r\n  generateFastReport = (item) => {\r\n    return [item.userId.name, item.WO, item.location, item.KKS, item.content, moment(item.timeStart).format('DD-MM-YYYY'), moment(item.timeStop).format('DD-MM-YYYY'), item.userId.department]\r\n  }\r\n  generateTool = (item) => {\r\n    if (item.woInfo && item.woInfo.length > 0) {\r\n      let woInfo = item.woInfo.filter(wo => wo.status !== 'COMPLETE');\r\n      if (woInfo.length > 0) {\r\n        item.woName = woInfo[0].WO;\r\n        item.userName = woInfo[0].userInfo.name\r\n      }\r\n    }\r\n    let status = ''\r\n    switch (item.status) {\r\n      case 1:\r\n        status = 'READY'\r\n        break;\r\n      case 2:\r\n        status = 'IN USE'\r\n        break;\r\n      case 3:\r\n        status = 'BAD'\r\n        break;\r\n      case 4:\r\n        status = 'LOST'\r\n        break;\r\n      default:\r\n\r\n        status = 'READY'\r\n        break;\r\n    }\r\n    return [item.name, item.manufacturer, item.type, item.woName || '', item.userName || '', status]\r\n  }\r\n  handleExport = async () => {\r\n    const { labelButtonAdd, order, tools, cchtt, cgsat, bbdgkt, bptc, fastReports } = this.props;\r\n    console.log(labelButtonAdd)\r\n    let url = '';\r\n    let params = {};\r\n    let header = [];\r\n    let dataBind = '';\r\n    let genData = null;\r\n    let nameSheet = '';\r\n    switch (labelButtonAdd) {\r\n      case 'WORK ORDER':\r\n        params = JSON.parse(JSON.stringify(order.params));\r\n        delete params.skip;\r\n        delete params.limit;\r\n        header = [\"Số phiếu\", \"PX thực hiện\", \"Địa điểm công tác\", \"Hệ thống/KKS\", \"Nội dung công tác\", \"Ngày bắt đầu\", \"Ngày kết thúc\", \"Nhóm công tác\", \"Ghi chú\"];\r\n        genData = this.generateOrder;\r\n        url = 'api/orders/search';\r\n        dataBind = 'data.Data.Row';\r\n        nameSheet = \"Work Order\";\r\n        break;\r\n\r\n      case 'CÔNG CỤ':\r\n        params = JSON.parse(JSON.stringify(tools && tools.params ? tools.params : {}));\r\n        if (tools && tools.params) {\r\n          delete params.skip;\r\n          delete params.limit;\r\n        }\r\n        header = [\"Tên công cụ\", \"Hãng\", \"Loại\", 'Work Order', \"Người dùng\", \"Trạng thái\"];\r\n        genData = this.generateTool;\r\n        url = 'api/tools/search';\r\n        dataBind = 'data';\r\n        nameSheet = \"Tool\"\r\n        break;\r\n\r\n      case 'Phiếu Đổi CHTT':\r\n        params = JSON.parse(JSON.stringify(cchtt.params));\r\n        delete params.skip;\r\n        delete params.limit;\r\n        delete params.userId;\r\n        header = [\"Số thay đổi CHTT\", \"Work Order\", \"Số PCT\", 'Người viết phiếu', \"Thời gian thay đổi\", \"Ghi chú\"];\r\n        genData = this.generateCchtt;\r\n        url = 'api/cchtts/search';\r\n        dataBind = 'data.Data.Row';\r\n        nameSheet = \"ChangeCHTT\"\r\n        break;\r\n      case 'Phiếu Đổi GSAT':\r\n        params = JSON.parse(JSON.stringify(cgsat.params));\r\n        delete params.skip;\r\n        delete params.limit;\r\n        delete params.userId;\r\n        header = [\"Số thay đổi GSAT\", \"Work Order\", \"Số PCT\", 'Người viết phiếu', \"Thời gian thay đổi\", \"Ghi chú\"];\r\n        genData = this.generateCgsat;\r\n        url = 'api/cgsats/search';\r\n        dataBind = 'data.Data.Row';\r\n        nameSheet = \"ChangeGSAT\"\r\n        break;\r\n      case 'Biên bản ĐGKT':\r\n        params = JSON.parse(JSON.stringify(bbdgkt.params));\r\n        delete params.skip;\r\n        delete params.limit;\r\n        delete params.userId;\r\n        header = [\"Số BBDGKT\", \"Phân xưởng thực hiện\", \"Nội dung công tác\", \"Work Order\", \"Ngày thực hiện\", \"Ghi chú\"];\r\n        genData = this.generateBbdgkt;\r\n        url = 'api/bbdgkts/search';\r\n        dataBind = 'data.Data.Row';\r\n        nameSheet = \"BBDGKT\"\r\n        console.log(params)\r\n        break;\r\n      case 'BPTC & JSA':\r\n        params = JSON.parse(JSON.stringify(bptc.params));\r\n        delete params.skip;\r\n        delete params.limit;\r\n        delete params.userId;\r\n        header = [\"Số BPTC\", \"Số JSA\", \"Nội dung công tác\", \"Ghi chú\"];\r\n        genData = this.generateBptc;\r\n        url = 'api/bptcs/search';\r\n        dataBind = 'data.Data.Row';\r\n        nameSheet = \"BPTC&JSA\"\r\n        console.log(params)\r\n        break;\r\n      case 'FAST REPORT':\r\n        params = JSON.parse(JSON.stringify(fastReports.params));\r\n        console.log(params)\r\n        delete params.skip;\r\n        delete params.limit;\r\n        header = [\"Họ tên người báo cáo\", \"Số WO\", \"Địa điểm công tác\", \"Hệ thống/KKS\", \"Nội dung công tác\", \"Ngày bắt đầu\", \"Ngày kết thúc\", \"Phân xưởng\"];\r\n        genData = this.generateFastReport;\r\n        url = 'api/fastReports/search';\r\n        dataBind = 'data.Data.Row';\r\n        nameSheet = \"FAST REPORT\"\r\n\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    let token = await getToken();\r\n    getWithToken(url, token, { params }).then(res => {\r\n      let path = dataBind.split('.')\r\n      console.log(params)\r\n      let array = res;\r\n      path.forEach(i => {\r\n        array = array[i];\r\n      })\r\n      console.log(array)\r\n      let users = [];\r\n      users.push(header);\r\n      array.forEach((item) => {\r\n        console.log(item)\r\n        users.push(genData(item));\r\n        console.log(users)\r\n      })\r\n      console.log(users)\r\n      const wb = XLSX.utils.book_new();\r\n      const wsAll = XLSX.utils.aoa_to_sheet(users);\r\n      let cols = []\r\n      for (let i = 0; i < header.length; i++) {\r\n        cols.push({ wch: 15 });\r\n      }\r\n      wsAll['!cols'] = cols\r\n      XLSX.utils.book_append_sheet(wb, wsAll, nameSheet);\r\n      let name = `${nameSheet.replace(/ /g, '')}_${moment().format('YYYYMMDDHHmmss')}.xlsx`;\r\n      XLSX.writeFile(wb, name);\r\n    }).catch(err => { return err.response });\r\n  }\r\n  checkPermissionAdd = () => {\r\n    const { labelButtonAdd, user } = this.props;\r\n    if (labelButtonAdd === 'WORK ORDER' && user && !user.admin) return true\r\n    if (labelButtonAdd === 'Phiếu Đổi CHTT' && user && !user.admin) return true\r\n    if (labelButtonAdd === 'Phiếu Đổi GSAT' && user && !user.admin) return true\r\n    if (labelButtonAdd === 'Biên bản ĐGKT' && user && !user.admin) return true\r\n    if (labelButtonAdd === 'BPTC & JSA' && user && !user.admin) return true\r\n    if (labelButtonAdd === 'FAST REPORT' && user && !user.admin) return true\r\n    return true\r\n  }\r\n  showExportToolType = () => {\r\n    const { labelButtonAdd, user } = this.props;\r\n    if (user && !user.admin) return false;\r\n    if (labelButtonAdd !== 'CÔNG CỤ') return false;\r\n    return true;\r\n  }\r\n  handleExportToolType = () => {\r\n    const { modalActionsCreator } = this.props;\r\n    const {\r\n      showModal,\r\n      changeModalTitle,\r\n      changeModalContent,\r\n    } = modalActionsCreator;\r\n    showModal();\r\n    changeModalTitle(\"Thống kê dữ liệu\");\r\n    changeModalContent(<ExportToolForm />);\r\n  }\r\n  render() {\r\n    const { classes, name, labelButtonAdd, user, isHide, isExport, match: { params }, order } = this.props;\r\n    let isGetToolforOrder = params.orderId ? true : false;\r\n    return (\r\n      <div className={classes.grow}>\r\n        {this.renderRedirect()}\r\n        <AppBar position=\"fixed\">\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={this.handleToggleSidebar}\r\n            >\r\n\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography className={classes.title} variant=\"h6\" noWrap>\r\n              {isHide || !isGetToolforOrder ? name : <>{`Thêm Công Cụ vào Work Order: ${order && order.order ? order.order.WO : ''}`}&nbsp;<Button variant=\"contained\" className={classes.btnBack} onClick={() => { this.onClickGotoUrl('/admin/order-detail/' + order.order._id) }}>Quay lại</Button></>}\r\n            </Typography>\r\n            {labelButtonAdd && !isGetToolforOrder && this.checkPermissionAdd() ? <Button variant=\"contained\" color=\"primary\" onClick={this.openForm}>\r\n              <Add />\r\n              {`THÊM MỚI ${labelButtonAdd}`}\r\n            </Button> : null}\r\n            {isExport && user && user.admin ? <>&nbsp;&nbsp;&nbsp;&nbsp;<Button variant=\"contained\" color=\"primary\" onClick={this.handleExport}><GetApp />&nbsp;Xuất file</Button></> : null}\r\n            {this.showExportToolType() ? <>&nbsp;&nbsp;&nbsp;&nbsp;<Button variant=\"contained\" color=\"primary\" onClick={this.handleExportToolType}><GetApp />&nbsp;Thống kê dữ liệu</Button></> : null}\r\n            <div className={classes.grow} />\r\n            <div className={classes.sectionDesktop}>\r\n              <label>{user.name}</label>\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label=\"account of current user\"\r\n                aria-controls={menuId}\r\n                aria-haspopup=\"true\"\r\n                onClick={this.handleProfileMenuOpen}\r\n                color=\"inherit\"\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n            </div>\r\n            <div className={classes.sectionMobile}>\r\n              <IconButton\r\n                aria-label=\"show more\"\r\n                aria-controls={mobileMenuId}\r\n                aria-haspopup=\"true\"\r\n                onClick={this.handleProfileMenuOpen}\r\n                color=\"inherit\"\r\n              >\r\n                <MoreIcon />\r\n              </IconButton>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n        {this.renderMenu()}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    modalActionsCreator: bindActionCreators(modalActions, dispatch),\r\n    orderActionsCreator: bindActionCreators(orderActions, dispatch),\r\n    cchttActionsCreator: bindActionCreators(cchttActions, dispatch),\r\n    cgsatActionsCreator: bindActionCreators(cgsatActions, dispatch),\r\n    bbdgktActionsCreator: bindActionCreators(bbdgktActions, dispatch),\r\n    bptcActionsCreator: bindActionCreators(bptcActions, dispatch),\r\n    customerActionsCreator: bindActionCreators(customerActions, dispatch),\r\n    toolActionsCreator: bindActionCreators(toolActions, dispatch),\r\n    fastReportActionsCreator: bindActionCreators(fastReportActions, dispatch)\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    showModalStatus: state.modal.showModal,\r\n    user: state.auth.user || {},\r\n    order: state.orders,\r\n    cchtt: state.cchtts,\r\n    bbdgkt: state.bbdgkts,\r\n    bptc: state.bptcs,\r\n    cgsat: state.cgsats,\r\n    tools: state.tools,\r\n    fastReports: state.fastReports\r\n  };\r\n};\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withRouter,\r\n)(Header);\r\n","const styles = (theme) => ({\r\n    drawerPaper: {\r\n      width: 240,\r\n      maxWidth:240, \r\n      zIndex: 10,\r\n      height: '100vh',\r\n      position: \"relative\",\r\n    },\r\n    menuLink: {\r\n      textDecoration: 'none',\r\n      color: theme.color.menuLink,\r\n    },\r\n    menuLinkActive: {\r\n      \"&>div\": {\r\n        backgroundColor: theme.color.defaultTextColor,\r\n        color: '#fff',\r\n        '& .MuiListItemIcon-root': {\r\n          color: '#fff',\r\n        }\r\n      }\r\n    },\r\n   \r\n  });\r\n  \r\n  export default styles;\r\n  ","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { withStyles, ListItemText, ListItemIcon } from '@material-ui/core';\r\nimport { ADMIN_ROUTES } from '../../../constants';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\n\r\nimport cn from 'classnames';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\n\r\nimport styles from './styles';\r\nclass Sidebar extends Component {\r\n\r\n    toggleDrawer = (value) => {\r\n        const { onToggleSidebar } = this.props;\r\n        if (onToggleSidebar) {\r\n            onToggleSidebar(value);\r\n        }\r\n        console.log(value);\r\n    }\r\n    handleToggleSidebar = () => {\r\n        const { showSidebar, onToggleSidebar } = this.props;\r\n        if (onToggleSidebar) {\r\n            onToggleSidebar(!showSidebar)\r\n        }\r\n    }\r\n    renderList() {\r\n        const { classes, user } = this.props;\r\n        let xhtml = null;\r\n        xhtml = (\r\n            <div className={classes.list}>\r\n                <List component=\"div\" >\r\n                    {ADMIN_ROUTES.filter(item => !item.isHide && (user && !user.admin ? !item.onlyAdmin : true)).map((item) => {\r\n                        return (\r\n                            <NavLink key={item.path} to={item.path} exact={item.exact} className={classes.menuLink} activeClassName={classes.menuLinkActive}>\r\n                                <ListItem \r\n                                    key={item.name}\r\n                                    className={classes.listItem}\r\n                                    onClick={this.handleToggleSidebar}\r\n                                    button>\r\n                                    <ListItemIcon>{<item.iconSidebar/>}</ListItemIcon>\r\n                                    <ListItemText>\r\n                                        {item.name}\r\n                                    </ListItemText>\r\n\r\n                                </ListItem>\r\n                            </NavLink>\r\n                        )\r\n                    })}\r\n                </List>\r\n            </div>\r\n        )\r\n        return xhtml;\r\n    }\r\n    render() {\r\n        const { classes, showSidebar } = this.props;\r\n        return (\r\n            <Drawer\r\n                // className={cn(classes.drawer, {\r\n                //     [classes.drawerOpen]: showSidebar,\r\n                //     [classes.drawerClose]: !showSidebar,\r\n                // })}\r\n                // variant=\"persistent\"\r\n                anchor=\"left\"\r\n                open={showSidebar}\r\n                //onClick={this.handleToggleSidebar}\r\n                onClose={this.handleToggleSidebar}\r\n                classes={{\r\n                    paper: classes.drawerPaper,\r\n                }}\r\n            >\r\n                {this.renderList()}\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n    }\r\n}\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n    withStyles(styles),\r\n    withConnect,\r\n)(Sidebar);\r\n","import { fade } from '@material-ui/core/styles';\r\nconst styles = (theme) => ({\r\n  text: {\r\n    padding: theme.spacing(2, 2, 0),\r\n  },\r\n  paper: {\r\n    paddingBottom: 50,\r\n  },\r\n  list: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  subheader: {\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  appBar: {\r\n    height:'50px',\r\n    top: 'auto',\r\n    bottom: 0,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  fabButton: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: -30,\r\n    left: 0,\r\n    right: 0,\r\n    margin: '0 auto',\r\n  },\r\n   \r\n  });\r\n  \r\n  export default styles;\r\n  ","import React, { Component, Fragment } from 'react';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport { connect, } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport { withStyles, Button, Fab } from '@material-ui/core';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nimport * as modalActions from '../../../actions/modal';\r\nimport * as orderActions from '../../../actions/orderActions';\r\nimport * as customerActions from '../../../actions/customerActions';\r\nimport * as toolActions from '../../../actions/toolActions';\r\n\r\nimport styles from './styles';\r\nimport OrderForm from '../../../containers/OrderForm';\r\nimport CustomerForm from '../../../containers/CustomerForm';\r\nimport ToolForm from '../../../containers/ToolForm';\r\n\r\nconst menuId = 'primary-search-account-menu';\r\nconst mobileMenuId = 'primary-search-account-menu-mobile';\r\n\r\nclass Footer extends Component {\r\n \r\n  render() {\r\n    const { classes, } = this.props;\r\n    return (\r\n      <>\r\n        {/* <Fragment>\r\n              <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" aria-label=\"open drawer\">\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Fab color=\"secondary\" aria-label=\"add\" className={classes.fabButton}>\r\n              <AddIcon />\r\n            </Fab>\r\n            <div className={classes.grow} />\r\n            <IconButton color=\"inherit\">\r\n              <SearchIcon />\r\n            </IconButton>\r\n            <IconButton edge=\"end\" color=\"inherit\">\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        </Fragment> */}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    \r\n  };\r\n};\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withRouter,\r\n)(Footer);\r\n","import React, { Component } from 'react';\r\nimport { withStyles, } from '@material-ui/core';\r\nimport styles from './styles';\r\nimport Header from './Header';\r\nimport Sidebar from './Sidebar';\r\nimport Footer from './Footer';\r\nimport { connect } from 'react-redux';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport * as uiActions from '../../actions/ui';\r\nimport * as authActions from '../../actions/authActions';\r\nimport cn from 'classnames';\r\n\r\n\r\nclass Dashboard extends Component {\r\n\r\n  handleToggleSidebar = (value) => {\r\n    const { uiActionsCreator } = this.props;\r\n    const { showSidebar, hideSidebar } = uiActionsCreator;\r\n    if (value === true) {\r\n      showSidebar();\r\n    } else {\r\n      hideSidebar();\r\n    }\r\n  }\r\n  handleLogout = () => {\r\n    const { authActionsCreator } = this.props;\r\n    const { logout } = authActionsCreator;\r\n    logout();// call action logout\r\n  }\r\n\r\n  render() {\r\n    const { children, classes, name, showSidebar, form, labelButtonAdd, isHide, isExport } = this.props;\r\n    return (\r\n      <div className={classes.dashboard}>\r\n        <Header\r\n          name={name}\r\n          showSidebar={showSidebar}\r\n          onToggleSidebar={this.handleToggleSidebar}\r\n          logout={this.handleLogout}\r\n          form={form}\r\n          labelButtonAdd={labelButtonAdd}\r\n          isHide={isHide}\r\n          isExport={isExport}\r\n        />\r\n        <div className={classes.wrapper}>\r\n          <Sidebar \r\n          showSidebar={showSidebar}\r\n          onToggleSidebar={this.handleToggleSidebar}\r\n          iconSidebar\r\n          />\r\n          <div className={cn(classes.wrapperContent, {\r\n            [classes.shiftLeft]: showSidebar === false,\r\n          })}>\r\n            {children}\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    showSidebar: state.ui.showSidebar,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    uiActionsCreator: bindActionCreators(uiActions, dispatch),\r\n    authActionsCreator: bindActionCreators(authActions, dispatch)\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(Dashboard);\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport Dashboard from '../../../components/Dashboard';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass AdminLayoutRoute extends Component {\r\n  render() {\r\n    const { component: YourComponent, ...remainProps } = this.props;\r\n    return (\r\n      <Route\r\n        {...remainProps}\r\n        render={(routeProps) => {\r\n          return (\r\n            <Dashboard {...remainProps}>\r\n              <YourComponent {...routeProps} />\r\n            </Dashboard>\r\n          );\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\nAdminLayoutRoute.propTypes = {\r\n  path: PropTypes.string,\r\n  exact: PropTypes.bool,\r\n  component: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\r\n  name: PropTypes.string,\r\n};\r\n\r\nexport default AdminLayoutRoute;\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass DefaultLayoutRoute extends Component {\r\n  render() {\r\n    const { component: YourComponent, ...remainProps } = this.props;\r\n    return (\r\n      <Route\r\n        {...remainProps}\r\n        render={(routeProps) => {\r\n          return (\r\n            <YourComponent {...routeProps} />\r\n          );\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\nDefaultLayoutRoute.propTypes = {\r\n  path: PropTypes.string,\r\n  exact: PropTypes.bool,\r\n  component: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\r\n  name: PropTypes.string,\r\n  form: PropTypes.object,\r\n};\r\n\r\nexport default DefaultLayoutRoute;\r\n","import React, { Component } from 'react';\r\nimport { withStyles, ThemeProvider } from '@material-ui/core';\r\nimport { BrowserRouter, Switch } from 'react-router-dom';\r\nimport styles from './style';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport theme from '../../commons/Theme';\r\nimport { connect } from 'react-redux';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport GlobalLoading from '../../components/GlobalLoading';\r\nimport ModalMain from '../../components/CModal';\r\nimport { ADMIN_ROUTES } from '../../constants';\r\nimport { ROUTES } from '../../constants';\r\nimport AdminLayoutRoute from '../../commons/Layout/AdminLayoutRoute';\r\nimport DefaultLayoutRoute from '../../commons/Layout/DefaultLayoutRoute';\r\nimport * as authActions from '../../actions/authActions';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    const { authActionsCreator } = this.props;\r\n    const { loadUser } = authActionsCreator;\r\n    loadUser();\r\n  }\r\n\r\n  genPath = (r) => {\r\n    let params = ''\r\n    if (r && r.params && r.params.length > 0) {\r\n      params = '/' + r.params.join('/')\r\n    }\r\n    return r.path + params\r\n  }\r\n  renderAdminRoutes() {\r\n    let xhtml = null;\r\n    xhtml = ADMIN_ROUTES.map((route) => {\r\n      return (\r\n        <AdminLayoutRoute\r\n          key={this.genPath(route)}\r\n          path={this.genPath(route)}\r\n          component={route.component}\r\n          iconSidebar = {route.iconSidebar}\r\n          exact={route.exact}\r\n          name={route.name}\r\n          form={route.form}\r\n          labelButtonAdd={route.labelButtonAdd}\r\n          isHide={route.isHide}\r\n          isExport={route.isExport}\r\n        />\r\n      );\r\n    });\r\n    return xhtml;\r\n  }\r\n  renderDefaultRoutes() {\r\n    let xhtml = null;\r\n    xhtml = ROUTES.map((route) => {\r\n      return (\r\n        <DefaultLayoutRoute\r\n          key={route.path}\r\n          path={route.path}\r\n          component={route.component}\r\n          exact={route.exact}\r\n          name={route.name}\r\n        />\r\n      );\r\n    });\r\n    return xhtml;\r\n  }\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <ThemeProvider theme={theme}>\r\n          <CssBaseline />\r\n          <ToastContainer />\r\n          <ModalMain />\r\n          <GlobalLoading />\r\n          <Switch>\r\n            {this.renderAdminRoutes()}\r\n            {this.renderDefaultRoutes()}\r\n          </Switch>\r\n        </ThemeProvider>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    authActionsCreator: bindActionCreators(authActions, dispatch),\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    msgError: state.error.msg,\r\n  };\r\n};\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { toast } from 'react-toastify';\r\n\r\nexport const toastError = (err) => {\r\n  let message = null;\r\n  if (typeof err === 'object' && err.message) {\r\n    ({ message } = err);\r\n  } else {\r\n    message = err\r\n  }\r\n  if (message !== null && typeof message !== 'undefined' && message) {\r\n    toast.error(message);\r\n  }\r\n};\r\n\r\nexport const toastSuccess = message => {\r\n  if (message !== null && typeof message !== 'undefined' && message) {\r\n    toast.success(message);\r\n  }\r\n}\r\n","import * as taskConstants from './../constants/task';\r\nimport { toastError, toastSuccess } from './../helpers/toastHelper';\r\nconst initialState = {\r\n  listTasks: [],\r\n  taskEditing: null,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case taskConstants.FETCH_TASK: {\r\n      return {\r\n        ...state,\r\n        listTasks: [],\r\n      };\r\n    }\r\n    case taskConstants.FETCH_TASK_SUCCESS: {\r\n      const { data } = action.payload;\r\n      return {\r\n        ...state,\r\n        listTasks: data,\r\n      };\r\n    }\r\n    case taskConstants.FETCH_TASK_FAIL: {\r\n      const { error } = action.payload;\r\n      toastError(error);\r\n      return { ...state, listTasks: [] };\r\n    }\r\n    case taskConstants.FILTER_TASK_SUCCESS: {\r\n      const { data } = action.payload;\r\n      return {\r\n        ...state,\r\n        listTasks: data,\r\n      };\r\n    }\r\n\r\n    case taskConstants.ADD_TASK: {\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n\r\n    case taskConstants.ADD_TASK_SUCCESS: {\r\n      const { data } = action.payload;\r\n      toastSuccess('Them moi cong viec thanh cong')\r\n      return {\r\n        ...state,\r\n        listTasks: [data].concat(state.listTasks),\r\n      };\r\n    }\r\n\r\n    case taskConstants.ADD_TASK_FAIL: {\r\n      const { error } = action.payload;\r\n      toastError(error);\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case taskConstants.SET_TASK_EDITING: {\r\n      const { task } = action.payload;\r\n      return {\r\n        ...state,\r\n        taskEditing: task,\r\n      };\r\n    }\r\n    case taskConstants.UPDATE_TASK: {\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case taskConstants.UPDATE_TASK_SUCCESS: {\r\n      console.log(action)\r\n      const { data } = action.payload;\r\n      const { listTasks } = state;\r\n      const index = listTasks.findIndex((item) => item.id === data.id);\r\n      if (index !== -1) {\r\n        const newList = [\r\n          ...listTasks.slice(0, index),\r\n          data,\r\n          ...listTasks.slice(index + 1),\r\n        ];\r\n        toastSuccess('Cap nhat cong viec thanh cong')\r\n        return {\r\n          ...state,\r\n          listTasks: newList,\r\n        };\r\n      }\r\n      return {...state,}\r\n    }\r\n    case taskConstants.UPDATE_TASK_FAIL: {\r\n      const { error } = action.payload;\r\n      toastError(error);\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case taskConstants.DELETE_TASK: {\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case taskConstants.DELETE_TASK_SUCCESS: {   //xoa list task trn store\r\n      const { id } = action.payload;\r\n      toastSuccess('Xoa cong viec thanh cong')\r\n        return {\r\n          ...state,\r\n          listTasks: state.listTasks.filter(item => item.id !== id)\r\n        };\r\n      }\r\n    \r\n    case taskConstants.DELETE_TASK_FAIL: {\r\n      const { error } = action.payload;\r\n      toastError(error);\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as types from '../constants/ui';\r\n\r\nconst initialState = {\r\n  showLoading: false,\r\n  showSidebar: false,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.SHOW_LOADING:\r\n      return {\r\n        ...state,\r\n        showLoading: true,\r\n      };\r\n    case types.HIDE_LOADING:\r\n      return {\r\n        ...state,\r\n        showLoading: false,\r\n      };\r\n    case types.SHOW_SIDEBAR:\r\n      return {\r\n        ...state,\r\n        showSidebar: true,\r\n      };\r\n    case types.HIDE_SIDEBAR:\r\n      return {\r\n        ...state,\r\n        showSidebar: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as types from '../constants/modal';\r\n\r\nconst initialState = {\r\n  showModal: false,\r\n  title: '',\r\n  component: null,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.SHOW_MODAL:\r\n      return {\r\n        ...state,\r\n        showModal: true,\r\n      };\r\n    case types.HIDE_MODAL:\r\n      return {\r\n        ...state,\r\n        showModal: false,\r\n        title: '',\r\n        component: null,\r\n      };\r\n      case types.HIDE_TEMP_MODAL:\r\n        return {\r\n          ...state,\r\n          showModal: false,\r\n        }\r\n    case types.CHANGE_MODAL_TITLE:\r\n      const { title } = action.payload;\r\n      return {\r\n        ...state,\r\n        title,\r\n      };\r\n    case types.CHANGE_MODAL_CONTENT:\r\n      const { component } = action.payload;\r\n      return {\r\n        ...state,\r\n        component,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import {\r\n    USER_LOADED,\r\n    USER_LOADING,\r\n    AUTH_ERROR,\r\n    LOGIN_FAIL,\r\n    LOGIN_SUCCESS,\r\n    LOGOUT_SUCCESS,\r\n    REGISTER_FAIL,\r\n    REGISTER_SUCCESS\r\n} from '../constants/ActionTypes'\r\n\r\nconst initialState = {\r\n    token: localStorage.getItem('token'),\r\n    isAuthenticated: null,\r\n    isLoading: false,\r\n    user: null\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    let pathURL = window.location.pathname\r\n    switch (action.type) {\r\n        case USER_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            }\r\n        case USER_LOADED:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                isLoading: false,\r\n                user: action.payload\r\n            }\r\n        case LOGIN_SUCCESS:\r\n            let url = window.location.search\r\n            if (url.indexOf('url=') > -1) {\r\n                let _url = url.split('url=')[1]\r\n                window.location = _url\r\n            }\r\n        case REGISTER_SUCCESS:\r\n            localStorage.setItem('token', action.payload.token)\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                isLoading: false,\r\n            }\r\n        case LOGIN_FAIL:\r\n        case AUTH_ERROR:\r\n            if (pathURL != '/login') {\r\n                window.location = '/login?url=' + pathURL\r\n            }\r\n        case REGISTER_FAIL:\r\n        case LOGOUT_SUCCESS:\r\n            localStorage.removeItem('token')\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                user: null,\r\n                isAuthenticated: false,\r\n                isLoading: false\r\n            }\r\n        default: return state\r\n    }\r\n}","import { GET_ERRORS, CLEAR_ERRORS } from './../constants/ActionTypes'\r\n\r\nconst initialState = {\r\n    msg: {},\r\n    status: null,\r\n    id: null\r\n}\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case GET_ERRORS:\r\n            console.log(action)\r\n            return {\r\n                msg: action.payload.msg,\r\n                status: action.payload.status,\r\n                id: action.payload.id\r\n            }\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                msg: {},\r\n                status: null,\r\n                id: null\r\n            }\r\n        default: return state;\r\n    }\r\n}","import * as types from '../constants/order';\r\nimport { toastError, toastSuccess } from './../helpers/toastHelper';\r\nvar initialState = {\r\n    orders: [],\r\n    loading: false,\r\n    isCreateSuccess: false,\r\n    orderEditting: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_ALL_ORDERS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                orders: action.payload.Status.StatusCode === 200 && action.payload.Data.Row || [],\r\n                total: action.payload.Status.StatusCode === 200 && action.payload.Data.Total || 0,\r\n                loading: false\r\n            }\r\n        case types.SEARCH_ORDER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                orders: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Row || [],\r\n                total: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Total || 0,\r\n                params: action.payload.params.params || {},\r\n                loading: false\r\n            }\r\n        case types.GET_ID_ORDER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                order: action.payload,\r\n                loading: false\r\n            }\r\n        case types.ADD_ORDER:\r\n            return {\r\n                ...state,\r\n            }\r\n        case types.ADD_ORDER_SUCCESS: {\r\n            const  data  = action.payload;\r\n            toastSuccess('Thêm mới Work Order thành công!')\r\n            return {\r\n                ...state,\r\n                orders: [data, ...state.orders],\r\n            };\r\n        }\r\n        case types.ADD_ORDER_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_ORDER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                orders: [...state.orders.filter(order => order._id !== action.payload)]\r\n            }\r\n        case types.SET_ORDER_EDITING: {\r\n            const { order } = action.payload;\r\n            return {\r\n                ...state,\r\n                order,\r\n            };\r\n        }\r\n        case types.UPDATE_ORDER: {\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.UPDATE_ORDER_NOTE: {\r\n            const  orderEditting  = action.payload;\r\n            return {\r\n                ...state,\r\n                order: orderEditting\r\n            };\r\n        }\r\n        case types.UPDATE_ORDER_SUCCESS: {\r\n            const  orderEditting  = action.payload;\r\n            const { orders } = state;\r\n            const index = orders.findIndex((item) => item._id === orderEditting._id);\r\n            if (index !== -1) {\r\n                const newList = [\r\n                    ...orders.slice(0, index),\r\n                    orderEditting,\r\n                    ...orders.slice(index + 1),\r\n                ];\r\n                // toastSuccess('Cập nhật đơn hàng thành công')\r\n                return {\r\n                    ...state,\r\n                    orders: newList,\r\n                    order: orderEditting\r\n                };\r\n            }\r\n            return { ...state, order: orderEditting }\r\n        }\r\n        case types.UPDATE_ORDER_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/fastReport';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    fastReports: [],\r\n    loading: false,\r\n    isCreateSuccess: false,\r\n    fastReportEditting: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_ALL_FASTREPORTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                fastReports: action.payload.Status.StatusCode === 200 && action.payload.Data.Row || [],\r\n                total: action.payload.Status.StatusCode === 200 && action.payload.Data.Total || 0,\r\n                loading: false\r\n            }\r\n        case types.SEARCH_FASTREPORT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                fastReports: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Row || [],\r\n                total: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Total || 0,\r\n                params: action.payload.params.params || {},\r\n                loading: false\r\n            }\r\n        case types.GET_ID_FASTREPORT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                fastReport: action.payload,\r\n                loading: false\r\n            }\r\n        case types.ADD_FASTREPORT:\r\n            return {\r\n                ...state,\r\n            }\r\n        case types.ADD_FASTREPORT_SUCCESS: {\r\n            const data = action.payload;\r\n            toastSuccess('Thêm mới Work Order thành công!')\r\n            return {\r\n                ...state,\r\n                fastReports: [data, ...state.fastReports],\r\n            };\r\n        }\r\n        case types.ADD_FASTREPORT_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_FASTREPORT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                fastReports: [...state.fastReports.filter(fastReport => fastReport._id !== action.payload)]\r\n            }\r\n        case types.SET_FASTREPORT_EDITING: {\r\n            const { fastReport } = action.payload;\r\n            return {\r\n                ...state,\r\n                fastReport,\r\n            };\r\n        }\r\n        case types.UPDATE_FASTREPORT: {\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.UPDATE_FASTREPORT_NOTE: {\r\n            const fastReportEditting = action.payload;\r\n            return {\r\n                ...state,\r\n                fastReport: fastReportEditting\r\n            };\r\n        }\r\n        case types.UPDATE_FASTREPORT_SUCCESS: {\r\n            const fastReportEditting = action.payload;\r\n            const { fastReports } = state;\r\n            const index = fastReports.findIndex((item) => item._id === fastReportEditting._id);\r\n            if (index !== -1) {\r\n                const newList = [\r\n                    ...fastReports.slice(0, index),\r\n                    fastReportEditting,\r\n                    ...fastReports.slice(index + 1),\r\n                ];\r\n                // toastSuccess('Cập nhật đơn hàng thành công')\r\n                return {\r\n                    ...state,\r\n                    fastReports: newList,\r\n                    fastReport: fastReportEditting\r\n                };\r\n            }\r\n            return { ...state, fastReport: fastReportEditting }\r\n        }\r\n        case types.UPDATE_FASTREPORT_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/cchtt';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    cchtts: [],\r\n    loading: false,\r\n    isCreateSuccess: false,\r\n    cchttEditting: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_ALL_CCHTTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cchtts: action.payload.Status.StatusCode === 200 && action.payload.Data.Row || [],\r\n                total: action.payload.Status.StatusCode === 200 && action.payload.Data.Total || 0,\r\n                loading: false\r\n            }\r\n        case types.SEARCH_CCHTT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cchtts: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Row || [],\r\n                total: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Total || 0,\r\n                params: action.payload.params.params || {},\r\n                loading: false\r\n            }\r\n        case types.GET_ID_CCHTT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cchtt: action.payload,\r\n                loading: false\r\n            }\r\n        case types.ADD_CCHTT:\r\n            return {\r\n                ...state,\r\n            }\r\n        case types.ADD_CCHTT_SUCCESS: {\r\n            const  data  = action.payload;\r\n            toastSuccess('Thêm mới Work Cchtt thành công!')\r\n            return {\r\n                ...state,\r\n                cchtts: [data, ...state.cchtts],\r\n            };\r\n        }\r\n        case types.ADD_CCHTT_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_CCHTT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cchtts: [...state.cchtts.filter(cchtt => cchtt._id !== action.payload)]\r\n            }\r\n        case types.SET_CCHTT_EDITING: {\r\n            const { cchtt } = action.payload;\r\n            return {\r\n                ...state,\r\n                cchtt,\r\n            };\r\n        }\r\n        case types.UPDATE_CCHTT: {\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.UPDATE_CCHTT_NOTE: {\r\n            const  cchttEditting  = action.payload;\r\n            return {\r\n                ...state,\r\n                cchtt: cchttEditting\r\n            };\r\n        }\r\n        case types.UPDATE_CCHTT_SUCCESS: {\r\n            const  cchttEditting  = action.payload;\r\n            const { cchtts } = state;\r\n            const index = cchtts.findIndex((item) => item._id === cchttEditting._id);\r\n            if (index !== -1) {\r\n                const newList = [\r\n                    ...cchtts.slice(0, index),\r\n                    cchttEditting,\r\n                    ...cchtts.slice(index + 1),\r\n                ];\r\n                // toastSuccess('Cập nhật đơn hàng thành công')\r\n                return {\r\n                    ...state,\r\n                    cchtts: newList,\r\n                    cchtt: cchttEditting\r\n                };\r\n            }\r\n            return { ...state, cchtt: cchttEditting }\r\n        }\r\n        case types.UPDATE_CCHTT_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/cgsat';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    cgsats: [],\r\n    loading: false,\r\n    isCreateSuccess: false,\r\n    cgsatEditting: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_ALL_CGSATS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cgsats: action.payload.Status.StatusCode === 200 && action.payload.Data.Row || [],\r\n                total: action.payload.Status.StatusCode === 200 && action.payload.Data.Total || 0,\r\n                loading: false\r\n            }\r\n        case types.SEARCH_CGSAT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cgsats: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Row || [],\r\n                total: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Total || 0,\r\n                params: action.payload.params.params || {},\r\n                loading: false\r\n            }\r\n        case types.GET_ID_CGSAT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cgsat: action.payload,\r\n                loading: false\r\n            }\r\n        case types.ADD_CGSAT:\r\n            return {\r\n                ...state,\r\n            }\r\n        case types.ADD_CGSAT_SUCCESS: {\r\n            const  data  = action.payload;\r\n            toastSuccess('Thêm mới Work Cgsat thành công!')\r\n            return {\r\n                ...state,\r\n                cgsats: [data, ...state.cgsats],\r\n            };\r\n        }\r\n        case types.ADD_CGSAT_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_CGSAT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cgsats: [...state.cgsats.filter(cgsat => cgsat._id !== action.payload)]\r\n            }\r\n        case types.SET_CGSAT_EDITING: {\r\n            const { cgsat } = action.payload;\r\n            return {\r\n                ...state,\r\n                cgsat,\r\n            };\r\n        }\r\n        case types.UPDATE_CGSAT: {\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.UPDATE_CGSAT_NOTE: {\r\n            const  cgsatEditting  = action.payload;\r\n            return {\r\n                ...state,\r\n                cgsat: cgsatEditting\r\n            };\r\n        }\r\n        case types.UPDATE_CGSAT_SUCCESS: {\r\n            const  cgsatEditting  = action.payload;\r\n            const { cgsats } = state;\r\n            const index = cgsats.findIndex((item) => item._id === cgsatEditting._id);\r\n            if (index !== -1) {\r\n                const newList = [\r\n                    ...cgsats.slice(0, index),\r\n                    cgsatEditting,\r\n                    ...cgsats.slice(index + 1),\r\n                ];\r\n                // toastSuccess('Cập nhật đơn hàng thành công')\r\n                return {\r\n                    ...state,\r\n                    cgsats: newList,\r\n                    cgsat: cgsatEditting\r\n                };\r\n            }\r\n            return { ...state, cgsat: cgsatEditting }\r\n        }\r\n        case types.UPDATE_CGSAT_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/bbdgkt';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    bbdgkts: [],\r\n    loading: false,\r\n    isCreateSuccess: false,\r\n    bbdgktEditting: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_ALL_BBDGKT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                bbdgkts: action.payload.Status.StatusCode === 200 && action.payload.Data.Row || [],\r\n                total: action.payload.Status.StatusCode === 200 && action.payload.Data.Total || 0,\r\n                loading: false\r\n            }\r\n        case types.SEARCH_BBDGKT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                bbdgkts: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Row || [],\r\n                total: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Total || 0,\r\n                params: action.payload.params.params || {},\r\n                loading: false\r\n            }\r\n        case types.GET_ID_BBDGKT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                bbdgkt: action.payload,\r\n                loading: false\r\n            }\r\n        case types.ADD_BBDGKT:\r\n            return {\r\n                ...state,\r\n            }\r\n        case types.ADD_BBDGKT_SUCCESS: {\r\n            const data = action.payload;\r\n            toastSuccess('Thêm mới Work Bbdgkt thành công!')\r\n            return {\r\n                ...state,\r\n                bbdgkts: [data, ...state.bbdgkts],\r\n            };\r\n        }\r\n        case types.ADD_BBDGKT_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_BBDGKT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                bbdgkts: [...state.bbdgkts.filter(bbdgkt => bbdgkt._id !== action.payload)]\r\n            }\r\n        case types.SET_BBDGKT_EDITING: {\r\n            const { bbdgkt } = action.payload;\r\n            return {\r\n                ...state,\r\n                bbdgkt,\r\n            };\r\n        }\r\n        case types.UPDATE_BBDGKT: {\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.UPDATE_BBDGKT_NOTE: {\r\n            const bbdgktEditting = action.payload;\r\n            return {\r\n                ...state,\r\n                bbdgkt: bbdgktEditting\r\n            };\r\n        }\r\n        case types.UPDATE_BBDGKT_SUCCESS: {\r\n            const bbdgktEditting = action.payload;\r\n            const { bbdgkts } = state;\r\n            const index = bbdgkts.findIndex((item) => item._id === bbdgktEditting._id);\r\n            if (index !== -1) {\r\n                const newList = [\r\n                    ...bbdgkts.slice(0, index),\r\n                    bbdgktEditting,\r\n                    ...bbdgkts.slice(index + 1),\r\n                ];\r\n                // toastSuccess('Cập nhật đơn hàng thành công')\r\n                return {\r\n                    ...state,\r\n                    bbdgkts: newList,\r\n                    bbdgkt: bbdgktEditting\r\n                };\r\n            }\r\n            return { ...state, bbdgkt: bbdgktEditting }\r\n        }\r\n        case types.UPDATE_BBDGKT_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/bptc';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    bptcs: [],\r\n    loading: false,\r\n    isCreateSuccess: false,\r\n    bptcEditting: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_ALL_BPTC_SUCCESS:\r\n            return {\r\n                ...state,\r\n                bptcs: action.payload.Status.StatusCode === 200 && action.payload.Data.Row || [],\r\n                total: action.payload.Status.StatusCode === 200 && action.payload.Data.Total || 0,\r\n                loading: false\r\n            }\r\n        case types.SEARCH_BPTC_SUCCESS:\r\n            return {\r\n                ...state,\r\n                bptcs: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Row || [],\r\n                total: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Total || 0,\r\n                params: action.payload.params.params || {},\r\n                loading: false\r\n            }\r\n        case types.GET_ID_BPTC_SUCCESS:\r\n            return {\r\n                ...state,\r\n                bptc: action.payload,\r\n                loading: false\r\n            }\r\n        case types.ADD_BPTC:\r\n            return {\r\n                ...state,\r\n            }\r\n        case types.ADD_BPTC_SUCCESS: {\r\n            const  data  = action.payload;\r\n            toastSuccess('Thêm mới Work Bptc thành công!')\r\n            return {\r\n                ...state,\r\n                bptcs: [data, ...state.bptcs],\r\n            };\r\n        }\r\n        case types.ADD_BPTC_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_BPTC_SUCCESS:\r\n            return {\r\n                ...state,\r\n                bptcs: [...state.bptcs.filter(bptc => bptc._id !== action.payload)]\r\n            }\r\n        case types.SET_BPTC_EDITING: {\r\n            const { bptc } = action.payload;\r\n            return {\r\n                ...state,\r\n                bptc,\r\n            };\r\n        }\r\n        case types.UPDATE_BPTC: {\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.UPDATE_BPTC_NOTE: {\r\n            const  bptcEditting  = action.payload;\r\n            return {\r\n                ...state,\r\n                bptc: bptcEditting\r\n            };\r\n        }\r\n        case types.UPDATE_BPTC_SUCCESS: {\r\n            const  bptcEditting  = action.payload;\r\n            const { bptcs } = state;\r\n            const index = bptcs.findIndex((item) => item._id === bptcEditting._id);\r\n            if (index !== -1) {\r\n                const newList = [\r\n                    ...bptcs.slice(0, index),\r\n                    bptcEditting,\r\n                    ...bptcs.slice(index + 1),\r\n                ];\r\n                // toastSuccess('Cập nhật đơn hàng thành công')\r\n                return {\r\n                    ...state,\r\n                    bptcs: newList,\r\n                    bptc: bptcEditting\r\n                };\r\n            }\r\n            return { ...state, bptc: bptcEditting }\r\n        }\r\n        case types.UPDATE_BPTC_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/thongke';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    thongkes: [],\r\n    loading: false,\r\n    isCreateSuccess: false,\r\n    thongkeEditting: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_ALL_THONGKE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                thongkes: action.payload.Status.StatusCode === 200 && action.payload.Data.Row || [],\r\n                total: action.payload.Status.StatusCode === 200 && action.payload.Data.Total || 0,\r\n                loading: false\r\n            }\r\n        case types.SEARCH_THONGKE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                thongkes: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Row || [],\r\n                total: action.payload.data.Status.StatusCode === 200 && action.payload.data.Data.Total || 0,\r\n                params: action.payload.params.params || {},\r\n                loading: false\r\n            }\r\n        case types.GET_ID_THONGKE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                thongke: action.payload,\r\n                loading: false\r\n            }\r\n        case types.ADD_THONGKE:\r\n            return {\r\n                ...state,\r\n            }\r\n        case types.ADD_THONGKE_SUCCESS: {\r\n            const  data  = action.payload;\r\n            toastSuccess('Thêm mới Work Thongke thành công!')\r\n            return {\r\n                ...state,\r\n                thongkes: [data, ...state.thongkes],\r\n            };\r\n        }\r\n        case types.ADD_THONGKE_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_THONGKE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                thongkes: [...state.thongkes.filter(thongke => thongke._id !== action.payload)]\r\n            }\r\n        case types.SET_THONGKE_EDITING: {\r\n            const { thongke } = action.payload;\r\n            return {\r\n                ...state,\r\n                thongke,\r\n            };\r\n        }\r\n        case types.UPDATE_THONGKE: {\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.UPDATE_THONGKE_NOTE: {\r\n            const  thongkeEditting  = action.payload;\r\n            return {\r\n                ...state,\r\n                thongke: thongkeEditting\r\n            };\r\n        }\r\n        case types.UPDATE_THONGKE_SUCCESS: {\r\n            const  thongkeEditting  = action.payload;\r\n            const { thongkes } = state;\r\n            const index = thongkes.findIndex((item) => item._id === thongkeEditting._id);\r\n            if (index !== -1) {\r\n                const newList = [\r\n                    ...thongkes.slice(0, index),\r\n                    thongkeEditting,\r\n                    ...thongkes.slice(index + 1),\r\n                ];\r\n                // toastSuccess('Cập nhật đơn hàng thành công')\r\n                return {\r\n                    ...state,\r\n                    thongkes: newList,\r\n                    thongke: thongkeEditting\r\n                };\r\n            }\r\n            return { ...state, thongke: thongkeEditting }\r\n        }\r\n        case types.UPDATE_THONGKE_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/customer';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    customers: [],\r\n    loading: false,\r\n    isCreateSuccess: false,\r\n    customerEditting: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_ALL_CUSTOMERS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                customers: action.payload,\r\n                loading: false\r\n            }\r\n        case types.ADD_CUSTOMER:\r\n            return {\r\n                ...state,\r\n            }\r\n        case types.ADD_CUSTOMER_SUCCESS: {\r\n            const  data  = action.payload.user;\r\n            toastSuccess('Thêm mới người dùng thành công!')\r\n            return {\r\n                ...state,\r\n                customers: [data, ...state.customers],\r\n            };\r\n        }\r\n        case types.ADD_CUSTOMER_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_CUSTOMER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                customers: [...state.customers.filter(customer => customer._id !== action.payload)]\r\n            }\r\n        case types.SET_CUSTOMER_EDITING: {\r\n            const { customer } = action.payload;\r\n            return {\r\n                ...state,\r\n                customerEditting: customer,\r\n            };\r\n        }\r\n        case types.UPDATE_CUSTOMER: {\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.UPDATE_CUSTOMER_SUCCESS: {\r\n            const  customerEditting  = action.payload;\r\n            const { customers } = state;\r\n            const index = customers.findIndex((item) => item._id === customerEditting._id);\r\n            if (index !== -1) {\r\n                const newList = [\r\n                    ...customers.slice(0, index),\r\n                    customerEditting,\r\n                    ...customers.slice(index + 1),\r\n                ];\r\n                // toastSuccess('Cập nhật người dùng thành công')\r\n                return {\r\n                    ...state,\r\n                    customers: newList,\r\n                };\r\n            }\r\n            return { ...state, }\r\n        }\r\n        case types.UPDATE_CUSTOMER_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/tool';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    tools: [],\r\n    loading: false,\r\n    isCreateSuccess: false,\r\n    toolEditting: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_ALL_TOOLS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                tools: action.payload,\r\n                loading: false\r\n            }\r\n        case types.SEARCH_TOOLS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                // tools: action.payload,\r\n                params: action.payload.params || {},\r\n                loading: false\r\n            }\r\n        case types.GET_ID_TOOL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                tool: action.payload\r\n            }\r\n        case types.ADD_TOOL:\r\n            return {\r\n                ...state,\r\n            }\r\n        case types.ADD_TOOL_SUCCESS: {\r\n            const  data  = action.payload;\r\n            toastSuccess('Thêm mới sản phẩm thành công thành công!')\r\n            return {\r\n                ...state,\r\n                tools: [data, ...state.tools],\r\n            };\r\n        }\r\n        case types.ADD_TOOL_FAIL: {\r\n            const  error  = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_TOOL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                tools: [...state.tools.filter(tool => tool._id !== action.payload)]\r\n            }\r\n        case types.SET_TOOL_EDITING: {\r\n            const { tool } = action.payload;\r\n            return {\r\n                ...state,\r\n                toolEditting: tool,\r\n            };\r\n        }\r\n        case types.UPDATE_TOOL: {\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.UPDATE_TOOL_SUCCESS: {\r\n            const  toolEditting  = action.payload;\r\n            const { tools } = state;\r\n            const index = tools.findIndex((item) => item._id === toolEditting._id);\r\n            if (index !== -1) {\r\n                const newList = [\r\n                    ...tools.slice(0, index),\r\n                    toolEditting,\r\n                    ...tools.slice(index + 1),\r\n                ];\r\n                // toastSuccess('Cập nhật Work Order thành công')\r\n                return {\r\n                    ...state,\r\n                    tools: newList,\r\n                };\r\n            }\r\n            return { ...state, }\r\n        }\r\n        case types.UPDATE_TOOL_FAIL: {\r\n            const { error } = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/image';\r\nimport * as modalTypes from '../constants/modal';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    images: [],\r\n    loading: false,\r\n    imagesSaveDB: []\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.UPLOAD_IMAGE:\r\n            return {\r\n                ...state,\r\n            }\r\n        // case types.GET_IMAGE_IN_DB:\r\n        //     //     const data = action.payload;\r\n        //     return {\r\n        //         imagesSaveDB: []\r\n        //     }\r\n        case types.UPLOAD_IMAGE_SUCCESS: {\r\n            const data = action.payload;\r\n            console.log(data)\r\n            console.log(state)\r\n            for (let i = 0; i < data.length; i++) {\r\n                state.images.push(data[i])\r\n            }\r\n\r\n            if (state.images && state.images.length > 0) {\r\n                toastSuccess('Upload ảnh thành công!')\r\n            }\r\n            return {\r\n                ...state,\r\n                images: state.images\r\n            };\r\n        }\r\n        case types.UPLOAD_IMAGE_FAIL: {\r\n            const error = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_IMAGE_SUCCESS:\r\n            console.log(action)\r\n            toastError(\"Đã xóa ảnh thành công\");\r\n            return {\r\n                ...state,\r\n                images: [...state.images.filter(image => image.idImage !== action.payload)]\r\n            }\r\n        case types.CLEAN_IMAGES:\r\n        case modalTypes.HIDE_MODAL:\r\n            return {\r\n                ...state,\r\n                images: [],\r\n            }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/file';\r\nimport * as modalTypes from '../constants/modal';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    files: [],\r\n    loading: false,\r\n    upFileSuccess: false\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.UPLOAD_FILE:\r\n            return {\r\n                ...state,\r\n                upFileSuccess: false\r\n            }\r\n        case types.UPLOAD_FILE_SUCCESS: {\r\n            const data = action.payload;\r\n            console.log(data)\r\n            console.log(state)\r\n            if (data) {\r\n                for (let i = 0; i < data.length; i++) {\r\n                    state.files.push(data[i])\r\n                }\r\n                if (state.files && state.files.length > 0) {\r\n                    toastSuccess('Upload file thành công!')\r\n                }\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                files: state.files,\r\n                upFileSuccess: true\r\n            };\r\n        }\r\n        case types.UPLOAD_FILE_FAIL: {\r\n            const error = action.payload;\r\n            toastError(error);\r\n            return {\r\n                ...state,\r\n            };\r\n        }\r\n        case types.DELETE_FILE_SUCCESS:\r\n            console.log(action)\r\n            toastError(\"Đã xóa file thành công\");\r\n            return {\r\n                ...state,\r\n                files: [...state.files.filter(file => file.idFile !== action.payload)]\r\n            }\r\n        case types.CLEAN_FILES:\r\n        case modalTypes.HIDE_MODAL:\r\n            return {\r\n                ...state,\r\n                files: [],\r\n            }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","import * as types from '../constants/tempImageForTool';\r\nimport * as modalTypes from '../constants/modal';\r\nimport { toastError, toastSuccess } from '../helpers/toastHelper';\r\nvar initialState = {\r\n    name: null,\r\n    manufacturer: null,\r\n    type: null,\r\n}\r\nvar myReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.GET_IMAGE_FOR_TOOL:\r\n            return {\r\n                name: action.payload.name,\r\n                manufacturer: action.payload.manufacturer,\r\n                type: action.payload.type,\r\n            }\r\n\r\n        case modalTypes.HIDE_MODAL:\r\n            return {\r\n                name: null,\r\n                manufacturer: null,\r\n                type: null,\r\n            }\r\n        default: return state;\r\n    }\r\n}\r\nexport default myReducer;","export const GET_IMAGE_FOR_TOOL = 'GET_IMAGE_FOR_TOOL';\r\nexport const GET_IMAGE_SUCCESS = 'GET_IMAGE_SUCCESS';\r\nexport const GET_IMAGE_FAIL = 'GET_IMAGE_FAIL';\r\n\r\n\r\nexport const UPLOAD_IMAGE = 'UPLOAD_IMAGE';\r\nexport const UPLOAD_IMAGE_SUCCESS = 'UPLOAD_IMAGE_SUCCESS';\r\nexport const UPLOAD_IMAGE_FAIL = 'UPLOAD_IMAGE_FAIL';\r\n\r\nexport const DELETE_INFO = 'DELETE_INFO';\r\nexport const DELETE_IMAGE_SUCCESS = 'DELETE_IMAGE_SUCCESS';\r\nexport const DELETE_IMAGE_FAIL = 'DELETE_IMAGE_FAIL';\r\n\r\nexport const CLEAN_DATA = 'CLEAN_DATA';\r\n","import { combineReducers } from 'redux';\r\nimport taskReducer from './task';\r\nimport uiReducer from './ui';\r\nimport modalReducer from './modal';\r\nimport auth from './authReducer';\r\nimport errorReducer from './errorReducer';\r\nimport orders from './order';\r\nimport fastReports from './fastReport';\r\nimport cchtts from './cchtt';\r\nimport cgsats from './cgsat';\r\nimport bbdgkts from './bbdgkt';\r\nimport bptcs from './bptc';\r\nimport thongkes from './thongke';\r\nimport customers from './customer';\r\nimport tools from './tool';\r\nimport images from './image';\r\nimport files from './file';\r\nimport tempImageForTool from './tempImageForTool';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nconst rootReducer = combineReducers({\r\n  task: taskReducer,\r\n  ui: uiReducer,\r\n  modal: modalReducer,\r\n  form: formReducer,\r\n  auth,\r\n  error: errorReducer,\r\n  orders,\r\n  fastReports,\r\n  cchtts,\r\n  bbdgkts,\r\n  bptcs,\r\n  thongkes,\r\n  cgsats,\r\n  customers,\r\n  tools,\r\n  images,\r\n  files,\r\n  tempImageForTool,\r\n});\r\n\r\nexport default rootReducer;\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n} from 'redux-saga/effects';\r\nimport {\r\n  loginSuccess,\r\n  loginFail,\r\n} from '../actions/authActions';\r\n\r\nimport { login } from '../apis/auth';\r\n\r\nimport * as authTypes from '../constants/ActionTypes';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* loginSaga({ payload }) {\r\n  const user = payload;\r\n  const resp = yield call(login, user)\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(loginSuccess(data));\r\n  } else {\r\n    yield put(loginFail(resp))\r\n    yield put(returnErrors(data, status, 'LOGIN_FAIL'))\r\n  }\r\n}\r\n\r\nfunction* loginActionSaga() {\r\n  yield takeLatest(authTypes.LOGIN, loginSaga);\r\n}\r\n\r\nexport default (loginActionSaga);\r\n","import { getWithToken, postWithToken, deleteWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const getAllOrder = (token, data) => {\r\n    return getWithToken('api/orders', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const searchOrder = (token, data) => {\r\n    return getWithToken('api/orders/search', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const getIdOrder = (token, id) => {\r\n    return getWithToken('api/orders/' + id, token).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const addOrderRequest = (token, data) => {\r\n    return postWithToken('api/orders', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const deleteOrderRequest = (token, id) => {\r\n    return deleteWithToken('api/orders', token, id).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\nexport const patchOrderRequest = (token, id, orderEditting) => {\r\n    return patchWithToken('api/orders', token, id, orderEditting).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n  delay,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  listAllOrdersSuccess,\r\n  listAllOrdersFail,\r\n  searchOrderSuccess,\r\n  searchOrderFail,\r\n  getIdOrderSuccess,\r\n  getIdOrderFail,\r\n  addOrderSuccess,\r\n  addOrderFail,\r\n  deleteOrderSuccess,\r\n  deleteOrderFail,\r\n  updateOrderSuccess,\r\n  updateOrderFail,\r\n} from '../actions/orderActions';\r\n\r\nimport { getAllOrder, searchOrder, getIdOrder, addOrderRequest, deleteOrderRequest, patchOrderRequest } from '../apis/order';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as orderTypes from '../constants/order';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { hideModal } from '../actions/modal';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* getAllOrderSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getAllOrder, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(listAllOrdersSuccess(data))\r\n  } else {\r\n    yield put(listAllOrdersFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ALL_ORDERS_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* searchOrderSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(searchOrder, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(searchOrderSuccess(data, payload))\r\n  } else {\r\n    yield put(searchOrderFail(data))\r\n    yield put(returnErrors(data, status, 'SEARCH_ORDER_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* getIdOrderSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getIdOrder, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(getIdOrderSuccess(data))\r\n  } else {\r\n    yield put(getIdOrderFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ID_ORDER_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* addOrderSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(addOrderRequest, token, payload);\r\n  const { data, status } = resp;\r\n  console.log(resp);\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    window.location = '/admin/order-detail/' + data._id\r\n    // yield put(addOrderSuccess(data));\r\n    // yield put(hideModal());\r\n  } else {\r\n    yield put(addOrderFail(data));\r\n    yield put(returnErrors(data, status, 'ADD_ORDER_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* deleteOrderSaga({ payload }, params) {\r\n  const { _id } = payload;\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteOrderRequest, token, _id);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    const _resp = yield call(searchOrder, token, {params: payload.params || {}});\r\n    if (_resp.data.Status.StatusCode === STATUS_CODE.SUCCESS) {\r\n      yield put(searchOrderSuccess(_resp.data, {params: payload.params || {}}))\r\n    }\r\n  } else {\r\n    yield put(deleteOrderFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* updateOrderSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  const orderEdited = payload;\r\n  const orderEditting = yield select((state) => state.orders.order);\r\n  const { _id } = orderEditting;\r\n  const orderSendReducer = { _id, ...orderEdited }\r\n  yield put(showLoading());\r\n  const resp = yield call(\r\n    patchOrderRequest,\r\n    token, _id, orderEdited\r\n  );\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(updateOrderSuccess(orderSendReducer));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(updateOrderFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* orderSaga() {\r\n  yield takeLatest(orderTypes.GET_ALL_ORDERS, getAllOrderSaga);\r\n  yield takeLatest(orderTypes.SEARCH_ORDER, searchOrderSaga);\r\n  yield takeLatest(orderTypes.GET_ID_ORDER, getIdOrderSaga);\r\n  yield takeLatest(orderTypes.ADD_ORDER, addOrderSaga);\r\n  yield takeLatest(orderTypes.DELETE_ORDER, deleteOrderSaga);\r\n  yield takeLatest(orderTypes.UPDATE_ORDER, updateOrderSaga);\r\n}\r\n\r\nexport default (orderSaga);\r\n","import { getWithToken, postWithToken, deleteWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const getAllFastReport = (token, data) => {\r\n    return getWithToken('api/fastReports', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const searchFastReport = (token, data) => {\r\n    return getWithToken('api/fastReports/search', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const getIdFastReport = (token, id) => {\r\n    return getWithToken('api/fastReports/' + id, token).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const addFastReportRequest = (token, data) => {\r\n    return postWithToken('api/fastReports', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const deleteFastReportRequest = (token, id) => {\r\n    return deleteWithToken('api/fastReports', token, id).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\nexport const patchFastReportRequest = (token, id, fastReportEditing) => {\r\n    return patchWithToken('api/fastReports', token, id, fastReportEditing).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n  delay,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  listAllFastReportsSuccess,\r\n  listAllFastReportsFail,\r\n  searchFastReportSuccess,\r\n  searchFastReportFail,\r\n  getIdFastReportSuccess,\r\n  getIdFastReportFail,\r\n  addFastReportSuccess,\r\n  addFastReportFail,\r\n  deleteFastReportSuccess,\r\n  deleteFastReportFail,\r\n  updateFastReportSuccess,\r\n  updateFastReportFail,\r\n} from '../actions/fastReportActions';\r\n\r\nimport { getAllFastReport, searchFastReport, getIdFastReport, addFastReportRequest, deleteFastReportRequest, patchFastReportRequest } from '../apis/fastReport';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as fastReportTypes from '../constants/fastReport';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { hideModal } from '../actions/modal';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* getAllFastReportSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getAllFastReport, token, payload);\r\n  const { status, data } = resp;\r\n  console.log('get all')\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(listAllFastReportsSuccess(data))\r\n  } else {\r\n    yield put(listAllFastReportsFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ALL_FASTREPORTS_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* searchFastReportSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(searchFastReport, token, payload);\r\n  const { status, data } = resp;\r\n  console.log('search')\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(searchFastReportSuccess(data, payload))\r\n  } else {\r\n    yield put(searchFastReportFail(data))\r\n    yield put(returnErrors(data, status, 'SEARCH_FASTREPORT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* getIdFastReportSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getIdFastReport, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(getIdFastReportSuccess(data))\r\n  } else {\r\n    yield put(getIdFastReportFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ID_FASTREPORT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* addFastReportSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(addFastReportRequest, token, payload);\r\n  const { data, status } = resp;\r\n  console.log(resp);\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    window.location = '/admin/fastReport-detail/' + data._id\r\n    // yield put(addFastReportSuccess(data));\r\n    // yield put(hideModal());\r\n  } else {\r\n    yield put(addFastReportFail(data));\r\n    yield put(returnErrors(data, status, 'ADD_FASTREPORT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* deleteFastReportSaga({ payload }, params) {\r\n  const { _id } = payload;\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteFastReportRequest, token, _id);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    const _resp = yield call(searchFastReport, token, { params: payload.params || {} });\r\n    if (_resp.data.Status.StatusCode === STATUS_CODE.SUCCESS) {\r\n      yield put(searchFastReportSuccess(_resp.data, { params: payload.params || {} }))\r\n    }\r\n  } else {\r\n    yield put(deleteFastReportFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* updateFastReportSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  const fastReportEdited = payload;\r\n  const fastReportEditting = yield select((state) => state.fastReports.fastReport);\r\n  const { _id } = fastReportEditting;\r\n  const fastReportSendReducer = { _id, ...fastReportEdited }\r\n  yield put(showLoading());\r\n  const resp = yield call(\r\n    patchFastReportRequest,\r\n    token, _id, fastReportEdited\r\n  );\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(updateFastReportSuccess(fastReportSendReducer));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(updateFastReportFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* fastReportSaga() {\r\n  yield takeLatest(fastReportTypes.GET_ALL_FASTREPORTS, getAllFastReportSaga);\r\n  yield takeLatest(fastReportTypes.SEARCH_FASTREPORT, searchFastReportSaga);\r\n  yield takeLatest(fastReportTypes.GET_ID_FASTREPORT, getIdFastReportSaga);\r\n  yield takeLatest(fastReportTypes.ADD_FASTREPORT, addFastReportSaga);\r\n  yield takeLatest(fastReportTypes.DELETE_FASTREPORT, deleteFastReportSaga);\r\n  yield takeLatest(fastReportTypes.UPDATE_FASTREPORT, updateFastReportSaga);\r\n}\r\n\r\nexport default (fastReportSaga);\r\n","import { getWithToken, postWithToken, deleteWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const getAllCchtt = (token, data) => {\r\n    return getWithToken('api/cchtts', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const searchCchtt = (token, data) => {\r\n    return getWithToken('api/cchtts/search', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const getIdCchtt = (token, id) => {\r\n    return getWithToken('api/cchtts/' + id, token).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const addCchttRequest = (token, data) => {\r\n    return postWithToken('api/cchtts', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const deleteCchttRequest = (token, id) => {\r\n    return deleteWithToken('api/cchtts', token, id).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\nexport const patchCchttRequest = (token, id, cchttEditting) => {\r\n    return patchWithToken('api/cchtts', token, id, cchttEditting).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n  delay,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  listAllCchttsSuccess,\r\n  listAllCchttsFail,\r\n  searchCchttSuccess,\r\n  searchCchttFail,\r\n  getIdCchttSuccess,\r\n  getIdCchttFail,\r\n  addCchttSuccess,\r\n  addCchttFail,\r\n  deleteCchttSuccess,\r\n  deleteCchttFail,\r\n  updateCchttSuccess,\r\n  updateCchttFail,\r\n} from '../actions/cchttActions';\r\n\r\nimport { getAllCchtt, searchCchtt, getIdCchtt, addCchttRequest, deleteCchttRequest, patchCchttRequest } from '../apis/cchtt';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as cchttTypes from '../constants/cchtt';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { hideModal } from '../actions/modal';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* getAllCchttSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getAllCchtt, token, payload);\r\n  console.log('aaaa')\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(listAllCchttsSuccess(data))\r\n  } else {\r\n    yield put(listAllCchttsFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ALL_CCHTTS_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* searchCchttSaga({ payload }) {\r\n  console.log(\"search\")\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(searchCchtt, token, payload);\r\n  console.log(resp)\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(searchCchttSuccess(data, payload))\r\n  } else {\r\n    yield put(searchCchttFail(data))\r\n    yield put(returnErrors(data, status, 'SEARCH_CCHTT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* getIdCchttSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getIdCchtt, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(getIdCchttSuccess(data))\r\n  } else {\r\n    yield put(getIdCchttFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ID_CCHTT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* addCchttSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(addCchttRequest, token, payload);\r\n  const { data, status } = resp;\r\n  console.log(resp);\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    window.location = '/admin/cchtt-detail/' + data._id\r\n    // yield put(addCchttSuccess(data));\r\n    // yield put(hideModal());\r\n  } else {\r\n    yield put(addCchttFail(data));\r\n    yield put(returnErrors(data, status, 'ADD_CCHTT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* deleteCchttSaga({ payload }, params) {\r\n  const { _id } = payload;\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteCchttRequest, token, _id);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    const _resp = yield call(searchCchtt, token, {params: payload.params || {}});\r\n    if (_resp.data.Status.StatusCode === STATUS_CODE.SUCCESS) {\r\n      yield put(searchCchttSuccess(_resp.data, {params: payload.params || {}}))\r\n    }\r\n  } else {\r\n    yield put(deleteCchttFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* updateCchttSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  const cchttEdited = payload;\r\n  const cchttEditting = yield select((state) => state.cchtts.cchtt);\r\n  console.log(cchttEdited)\r\n  const { _id } = cchttEditting;\r\n  const cchttSendReducer = { _id, ...cchttEdited }\r\n  yield put(showLoading());\r\n  const resp = yield call(\r\n    patchCchttRequest,\r\n    token, _id, cchttEdited\r\n  );\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(updateCchttSuccess(cchttSendReducer));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(updateCchttFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* cchttSaga() {\r\n  yield takeLatest(cchttTypes.GET_ALL_CCHTTS, getAllCchttSaga);\r\n  yield takeLatest(cchttTypes.SEARCH_CCHTT, searchCchttSaga);\r\n  yield takeLatest(cchttTypes.GET_ID_CCHTT, getIdCchttSaga);\r\n  yield takeLatest(cchttTypes.ADD_CCHTT, addCchttSaga);\r\n  yield takeLatest(cchttTypes.DELETE_CCHTT, deleteCchttSaga);\r\n  yield takeLatest(cchttTypes.UPDATE_CCHTT, updateCchttSaga);\r\n}\r\n\r\nexport default (cchttSaga);\r\n","import { getWithToken, postWithToken, deleteWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const getAllCgsat = (token, data) => {\r\n    return getWithToken('api/cgsats', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const searchCgsat = (token, data) => {\r\n    return getWithToken('api/cgsats/search', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const getIdCgsat = (token, id) => {\r\n    return getWithToken('api/cgsats/' + id, token).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const addCgsatRequest = (token, data) => {\r\n    return postWithToken('api/cgsats', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const deleteCgsatRequest = (token, id) => {\r\n    return deleteWithToken('api/cgsats', token, id).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\nexport const patchCgsatRequest = (token, id, cgsatEditting) => {\r\n    return patchWithToken('api/cgsats', token, id, cgsatEditting).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n  delay,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  listAllCgsatsSuccess,\r\n  listAllCgsatsFail,\r\n  searchCgsatSuccess,\r\n  searchCgsatFail,\r\n  getIdCgsatSuccess,\r\n  getIdCgsatFail,\r\n  addCgsatSuccess,\r\n  addCgsatFail,\r\n  deleteCgsatSuccess,\r\n  deleteCgsatFail,\r\n  updateCgsatSuccess,\r\n  updateCgsatFail,\r\n} from '../actions/cgsatActions';\r\n\r\nimport { getAllCgsat, searchCgsat, getIdCgsat, addCgsatRequest, deleteCgsatRequest, patchCgsatRequest } from '../apis/cgsat';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as cgsatTypes from '../constants/cgsat';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { hideModal } from '../actions/modal';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* getAllCgsatSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getAllCgsat, token, payload);\r\n  console.log('aaaa')\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(listAllCgsatsSuccess(data))\r\n  } else {\r\n    yield put(listAllCgsatsFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ALL_CGSATS_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* searchCgsatSaga({ payload }) {\r\n  console.log(\"search\")\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(searchCgsat, token, payload);\r\n  console.log(resp)\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(searchCgsatSuccess(data, payload))\r\n  } else {\r\n    yield put(searchCgsatFail(data))\r\n    yield put(returnErrors(data, status, 'SEARCH_CGSAT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* getIdCgsatSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getIdCgsat, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(getIdCgsatSuccess(data))\r\n  } else {\r\n    yield put(getIdCgsatFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ID_CGSAT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* addCgsatSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(addCgsatRequest, token, payload);\r\n  const { data, status } = resp;\r\n  console.log(resp);\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    window.location = '/admin/cgsat-detail/' + data._id\r\n    // yield put(addCgsatSuccess(data));\r\n    // yield put(hideModal());\r\n  } else {\r\n    yield put(addCgsatFail(data));\r\n    yield put(returnErrors(data, status, 'ADD_CGSAT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* deleteCgsatSaga({ payload }, params) {\r\n  const { _id } = payload;\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteCgsatRequest, token, _id);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    const _resp = yield call(searchCgsat, token, {params: payload.params || {}});\r\n    if (_resp.data.Status.StatusCode === STATUS_CODE.SUCCESS) {\r\n      yield put(searchCgsatSuccess(_resp.data, {params: payload.params || {}}))\r\n    }\r\n  } else {\r\n    yield put(deleteCgsatFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* updateCgsatSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  const cgsatEdited = payload;\r\n  const cgsatEditting = yield select((state) => state.cgsats.cgsat);\r\n  console.log(cgsatEdited)\r\n  const { _id } = cgsatEditting;\r\n  const cgsatSendReducer = { _id, ...cgsatEdited }\r\n  yield put(showLoading());\r\n  const resp = yield call(\r\n    patchCgsatRequest,\r\n    token, _id, cgsatEdited\r\n  );\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(updateCgsatSuccess(cgsatSendReducer));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(updateCgsatFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* cgsatSaga() {\r\n  yield takeLatest(cgsatTypes.GET_ALL_CGSATS, getAllCgsatSaga);\r\n  yield takeLatest(cgsatTypes.SEARCH_CGSAT, searchCgsatSaga);\r\n  yield takeLatest(cgsatTypes.GET_ID_CGSAT, getIdCgsatSaga);\r\n  yield takeLatest(cgsatTypes.ADD_CGSAT, addCgsatSaga);\r\n  yield takeLatest(cgsatTypes.DELETE_CGSAT, deleteCgsatSaga);\r\n  yield takeLatest(cgsatTypes.UPDATE_CGSAT, updateCgsatSaga);\r\n}\r\n\r\nexport default (cgsatSaga);\r\n","import { getWithToken, postWithToken, deleteWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const getAllBbdgkt = (token, data) => {\r\n    return getWithToken('api/bbdgkts', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const searchBbdgkt = (token, data) => {\r\n    return getWithToken('api/bbdgkts/search', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const getIdBbdgkt = (token, id) => {\r\n    return getWithToken('api/bbdgkts/' + id, token).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const addBbdgktRequest = (token, data) => {\r\n    return postWithToken('api/bbdgkts', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const deleteBbdgktRequest = (token, id) => {\r\n    return deleteWithToken('api/bbdgkts', token, id).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\nexport const patchBbdgktRequest = (token, id, bbdgktEditting) => {\r\n    return patchWithToken('api/bbdgkts', token, id, bbdgktEditting).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n  delay,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  listAllBbdgktsSuccess,\r\n  listAllBbdgktsFail,\r\n  searchBbdgktSuccess,\r\n  searchBbdgktFail,\r\n  getIdBbdgktSuccess,\r\n  getIdBbdgktFail,\r\n  addBbdgktSuccess,\r\n  addBbdgktFail,\r\n  deleteBbdgktSuccess,\r\n  deleteBbdgktFail,\r\n  updateBbdgktSuccess,\r\n  updateBbdgktFail,\r\n} from '../actions/bbdgktActions';\r\n\r\nimport { getAllBbdgkt, searchBbdgkt, getIdBbdgkt, addBbdgktRequest, deleteBbdgktRequest, patchBbdgktRequest } from '../apis/bbdgkt';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as bbdgktTypes from '../constants/bbdgkt';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { hideModal } from '../actions/modal';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* getAllBbdgktSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getAllBbdgkt, token, payload);\r\n  console.log('aaaa')\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(listAllBbdgktsSuccess(data))\r\n  } else {\r\n    yield put(listAllBbdgktsFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ALL_BBDGKTS_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* searchBbdgktSaga({ payload }) {\r\n  console.log(\"search\")\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(searchBbdgkt, token, payload);\r\n  console.log(resp)\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(searchBbdgktSuccess(data, payload))\r\n  } else {\r\n    yield put(searchBbdgktFail(data))\r\n    yield put(returnErrors(data, status, 'SEARCH_BBDGKT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* getIdBbdgktSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getIdBbdgkt, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(getIdBbdgktSuccess(data))\r\n  } else {\r\n    yield put(getIdBbdgktFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ID_BBDGKT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* addBbdgktSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(addBbdgktRequest, token, payload);\r\n  const { data, status } = resp;\r\n  console.log(resp);\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    window.location = '/admin/bbdgkt-detail/' + data._id\r\n    // yield put(addBbdgktSuccess(data));\r\n    // yield put(hideModal());\r\n  } else {\r\n    yield put(addBbdgktFail(data));\r\n    yield put(returnErrors(data, status, 'ADD_BBDGKT_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* deleteBbdgktSaga({ payload }, params) {\r\n  const { _id } = payload;\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteBbdgktRequest, token, _id);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    const _resp = yield call(searchBbdgkt, token, {params: payload.params || {}});\r\n    if (_resp.data.Status.StatusCode === STATUS_CODE.SUCCESS) {\r\n      yield put(searchBbdgktSuccess(_resp.data, {params: payload.params || {}}))\r\n    }\r\n  } else {\r\n    yield put(deleteBbdgktFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* updateBbdgktSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  const bbdgktEdited = payload;\r\n  const bbdgktEditting = yield select((state) => state.bbdgkts.bbdgkt);\r\n  console.log(bbdgktEdited)\r\n  const { _id } = bbdgktEditting;\r\n  const bbdgktSendReducer = { _id, ...bbdgktEdited }\r\n  yield put(showLoading());\r\n  const resp = yield call(\r\n    patchBbdgktRequest,\r\n    token, _id, bbdgktEdited\r\n  );\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(updateBbdgktSuccess(bbdgktSendReducer));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(updateBbdgktFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* bbdgktSaga() {\r\n  yield takeLatest(bbdgktTypes.GET_ALL_BBDGKT, getAllBbdgktSaga);\r\n  yield takeLatest(bbdgktTypes.SEARCH_BBDGKT, searchBbdgktSaga);\r\n  yield takeLatest(bbdgktTypes.GET_ID_BBDGKT, getIdBbdgktSaga);\r\n  yield takeLatest(bbdgktTypes.ADD_BBDGKT, addBbdgktSaga);\r\n  yield takeLatest(bbdgktTypes.DELETE_BBDGKT, deleteBbdgktSaga);\r\n  yield takeLatest(bbdgktTypes.UPDATE_BBDGKT, updateBbdgktSaga);\r\n}\r\n\r\nexport default (bbdgktSaga);\r\n","import { getWithToken, postWithToken, deleteWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const getAllBptc = (token, data) => {\r\n    return getWithToken('api/bptcs', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const searchBptc = (token, data) => {\r\n    return getWithToken('api/bptcs/search', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const getIdBptc = (token, id) => {\r\n    return getWithToken('api/bptcs/' + id, token).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const addBptcRequest = (token, data) => {\r\n    return postWithToken('api/bptcs', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const deleteBptcRequest = (token, id) => {\r\n    return deleteWithToken('api/bptcs', token, id).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\nexport const patchBptcRequest = (token, id, bptcEditting) => {\r\n    return patchWithToken('api/bptcs', token, id, bptcEditting).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n  delay,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  listAllBptcsSuccess,\r\n  listAllBptcsFail,\r\n  searchBptcSuccess,\r\n  searchBptcFail,\r\n  getIdBptcSuccess,\r\n  getIdBptcFail,\r\n  addBptcSuccess,\r\n  addBptcFail,\r\n  deleteBptcSuccess,\r\n  deleteBptcFail,\r\n  updateBptcSuccess,\r\n  updateBptcFail,\r\n} from '../actions/bptcActions';\r\n\r\nimport { getAllBptc, searchBptc, getIdBptc, addBptcRequest, deleteBptcRequest, patchBptcRequest } from '../apis/bptc';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as bptcTypes from '../constants/bptc';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { hideModal } from '../actions/modal';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* getAllBptcSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getAllBptc, token, payload);\r\n  console.log('aaaa')\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(listAllBptcsSuccess(data))\r\n  } else {\r\n    yield put(listAllBptcsFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ALL_BPTCS_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* searchBptcSaga({ payload }) {\r\n  console.log(\"search\")\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(searchBptc, token, payload);\r\n  console.log(resp)\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(searchBptcSuccess(data, payload))\r\n  } else {\r\n    yield put(searchBptcFail(data))\r\n    yield put(returnErrors(data, status, 'SEARCH_BPTC_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* getIdBptcSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getIdBptc, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(getIdBptcSuccess(data))\r\n  } else {\r\n    yield put(getIdBptcFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ID_BPTC_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* addBptcSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(addBptcRequest, token, payload);\r\n  const { data, status } = resp;\r\n  console.log(resp);\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    window.location = '/admin/bptc-detail/' + data._id\r\n    // yield put(addBptcSuccess(data));\r\n    // yield put(hideModal());\r\n  } else {\r\n    yield put(addBptcFail(data));\r\n    yield put(returnErrors(data, status, 'ADD_BPTC_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* deleteBptcSaga({ payload }, params) {\r\n  const { _id } = payload;\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteBptcRequest, token, _id);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    const _resp = yield call(searchBptc, token, {params: payload.params || {}});\r\n    if (_resp.data.Status.StatusCode === STATUS_CODE.SUCCESS) {\r\n      yield put(searchBptcSuccess(_resp.data, {params: payload.params || {}}))\r\n    }\r\n  } else {\r\n    yield put(deleteBptcFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* updateBptcSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  const bptcEdited = payload;\r\n  const bptcEditting = yield select((state) => state.bptcs.bptc);\r\n  console.log(bptcEdited)\r\n  const { _id } = bptcEditting;\r\n  const bptcSendReducer = { _id, ...bptcEdited }\r\n  yield put(showLoading());\r\n  const resp = yield call(\r\n    patchBptcRequest,\r\n    token, _id, bptcEdited\r\n  );\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(updateBptcSuccess(bptcSendReducer));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(updateBptcFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* bptcSaga() {\r\n  yield takeLatest(bptcTypes.GET_ALL_BPTC, getAllBptcSaga);\r\n  yield takeLatest(bptcTypes.SEARCH_BPTC, searchBptcSaga);\r\n  yield takeLatest(bptcTypes.GET_ID_BPTC, getIdBptcSaga);\r\n  yield takeLatest(bptcTypes.ADD_BPTC, addBptcSaga);\r\n  yield takeLatest(bptcTypes.DELETE_BPTC, deleteBptcSaga);\r\n  yield takeLatest(bptcTypes.UPDATE_BPTC, updateBptcSaga);\r\n}\r\n\r\nexport default (bptcSaga);\r\n","import { getWithToken, postWithToken, deleteWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const getAllThongke = (token, data) => {\r\n    return getWithToken('api/thongkes', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const searchThongke = (token, data) => {\r\n    return getWithToken('api/orders/dashboard', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\nexport const getIdThongke = (token, id) => {\r\n    return getWithToken('api/thongkes/' + id, token).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const addThongkeRequest = (token, data) => {\r\n    return postWithToken('api/thongkes', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const deleteThongkeRequest = (token, id) => {\r\n    return deleteWithToken('api/thongkes', token, id).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\nexport const patchThongkeRequest = (token, id, thongkeEditting) => {\r\n    return patchWithToken('api/thongkes', token, id, thongkeEditting).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n  delay,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  listAllThongkesSuccess,\r\n  listAllThongkesFail,\r\n  searchThongkeSuccess,\r\n  searchThongkeFail,\r\n  getIdThongkeSuccess,\r\n  getIdThongkeFail,\r\n  addThongkeSuccess,\r\n  addThongkeFail,\r\n  deleteThongkeSuccess,\r\n  deleteThongkeFail,\r\n  updateThongkeSuccess,\r\n  updateThongkeFail,\r\n} from '../actions/thongkeActions';\r\n\r\nimport { getAllThongke, searchThongke, getIdThongke, addThongkeRequest, deleteThongkeRequest, patchThongkeRequest } from '../apis/thongke';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as thongkeTypes from '../constants/thongke';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { hideModal } from '../actions/modal';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* getAllThongkeSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getAllThongke, token, payload);\r\n  console.log('aaaa')\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(listAllThongkesSuccess(data))\r\n  } else {\r\n    yield put(listAllThongkesFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ALL_THONGKES_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* searchThongkeSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(searchThongke, token, payload);\r\n  console.log(resp)\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(searchThongkeSuccess(data, payload))\r\n  } else {\r\n    yield put(searchThongkeFail(data))\r\n    yield put(returnErrors(data, status, 'SEARCH_THONGKE_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* getIdThongkeSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getIdThongke, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(getIdThongkeSuccess(data))\r\n  } else {\r\n    yield put(getIdThongkeFail(data))\r\n    yield put(returnErrors(data, status, 'GET_ID_THONGKE_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* addThongkeSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(addThongkeRequest, token, payload);\r\n  const { data, status } = resp;\r\n  console.log(resp);\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    window.location = '/admin/thongke-detail/' + data._id\r\n    // yield put(addThongkeSuccess(data));\r\n    // yield put(hideModal());\r\n  } else {\r\n    yield put(addThongkeFail(data));\r\n    yield put(returnErrors(data, status, 'ADD_THONGKE_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* deleteThongkeSaga({ payload }, params) {\r\n  const { _id } = payload;\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteThongkeRequest, token, _id);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    const _resp = yield call(searchThongke, token, {params: payload.params || {}});\r\n    if (_resp.data.Status.StatusCode === STATUS_CODE.SUCCESS) {\r\n      yield put(searchThongkeSuccess(_resp.data, {params: payload.params || {}}))\r\n    }\r\n  } else {\r\n    yield put(deleteThongkeFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* updateThongkeSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  const thongkeEdited = payload;\r\n  const thongkeEditting = yield select((state) => state.thongkes.thongke);\r\n  console.log(thongkeEdited)\r\n  const { _id } = thongkeEditting;\r\n  const thongkeSendReducer = { _id, ...thongkeEdited }\r\n  yield put(showLoading());\r\n  const resp = yield call(\r\n    patchThongkeRequest,\r\n    token, _id, thongkeEdited\r\n  );\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(updateThongkeSuccess(thongkeSendReducer));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(updateThongkeFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* thongkeSaga() {\r\n  yield takeLatest(thongkeTypes.GET_ALL_THONGKE, getAllThongkeSaga);\r\n  yield takeLatest(thongkeTypes.SEARCH_THONGKE, searchThongkeSaga);\r\n  yield takeLatest(thongkeTypes.GET_ID_THONGKE, getIdThongkeSaga);\r\n  yield takeLatest(thongkeTypes.ADD_THONGKE, addThongkeSaga);\r\n  yield takeLatest(thongkeTypes.DELETE_THONGKE, deleteThongkeSaga);\r\n  yield takeLatest(thongkeTypes.UPDATE_THONGKE, updateThongkeSaga);\r\n}\r\n\r\nexport default (thongkeSaga);\r\n","import { getWithToken, postWithToken, deleteWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const getAllCustomer = (token) => {\r\n    return getWithToken('users', token).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const addCustomerRequest = (token, data) => {\r\n    return postWithToken('users/register', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const deleteCustomerRequest = (token, id) => {\r\n    return deleteWithToken('users', token, id).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\nexport const patchCustomerRequest = (token, id, customerEditting) => {\r\n    return patchWithToken('users', token, id, customerEditting).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  listAllCustomersSuccess,\r\n  listAllCustomersFail,\r\n  addCustomerSuccess,\r\n  addCustomerFail,\r\n  deleteCustomerSuccess,\r\n  deleteCustomerFail,\r\n  updateCustomerSuccess,\r\n  updateCustomerFail,\r\n} from '../actions/customerActions';\r\n\r\nimport { getAllCustomer, addCustomerRequest, deleteCustomerRequest, patchCustomerRequest } from '../apis/customer';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as customerTypes from '../constants/customer';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { hideModal } from '../actions/modal';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* getAllCustomerSaga() {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getAllCustomer, token);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(listAllCustomersSuccess(data))\r\n  } else {\r\n    yield put(listAllCustomersFail(data))\r\n    yield put(returnErrors(data, status, 'LIST_ALL_CUSTOMERS_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* addCustomerSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(addCustomerRequest, token, payload);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(addCustomerSuccess(data));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(addCustomerFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* deleteCustomerSaga({ payload }) {\r\n  const { _id } = payload;\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteCustomerRequest, token, _id);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    const _resp = yield call(getAllCustomer, token);\r\n    if (_resp.status === STATUS_CODE.SUCCESS) {\r\n      yield put(listAllCustomersSuccess(_resp.data))\r\n    }\r\n    // yield put(deleteCustomerSuccess(_id));\r\n  } else {\r\n    yield put(deleteCustomerFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* updateCustomerSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  const customerEdited = payload;\r\n  const customerEditting = yield select((state) => state.customers.customerEditting);\r\n  const { _id } = customerEditting;\r\n  const customerSendReducer = { _id, ...customerEdited }\r\n  yield put(showLoading());\r\n  const resp = yield call(\r\n    patchCustomerRequest,\r\n    token, _id, customerEdited\r\n  );\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(updateCustomerSuccess(customerSendReducer));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(updateCustomerFail(data));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* customerSaga() {\r\n  yield takeLatest(customerTypes.GET_ALL_CUSTOMERS, getAllCustomerSaga);\r\n  yield takeLatest(customerTypes.ADD_CUSTOMER, addCustomerSaga);\r\n  yield takeLatest(customerTypes.DELETE_CUSTOMER, deleteCustomerSaga);\r\n  yield takeLatest(customerTypes.UPDATE_CUSTOMER, updateCustomerSaga);\r\n}\r\n\r\nexport default (customerSaga);\r\n","import { getWithToken, postWithToken, deleteWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const getAllTool = (token, data) => {\r\n    return getWithToken('api/tools', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const searchTools = (token, data) => {\r\n    return getWithToken('api/tools/search', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const getIdTool = (token, id) => {\r\n    return getWithToken('api/tools/' + id, token).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const addToolRequest = (token, data) => {\r\n    return postWithToken('api/tools', token, data).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\nexport const deleteToolRequest = (token, id) => {\r\n    return deleteWithToken('api/tools', token, id).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\nexport const patchToolRequest = (token, id, toolEditting) => {\r\n    return patchWithToken('api/tools', token, id, toolEditting).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  listAllToolsSuccess,\r\n  listAllToolsFail,\r\n  searchToolsSuccess,\r\n  searchToolsFail,\r\n  getIdToolSuccess,\r\n  getIdToolFail,\r\n  addToolSuccess,\r\n  addToolFail,\r\n  deleteToolFail,\r\n  updateToolSuccess,\r\n  updateToolFail,\r\n} from '../actions/toolActions';\r\n\r\nimport {\r\n  updateOrderSuccess\r\n} from '../actions/orderActions';\r\n\r\nimport { getAllTool, searchTools, getIdTool, addToolRequest, deleteToolRequest, patchToolRequest } from '../apis/tool';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as toolTypes from '../constants/tool';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { hideModal } from '../actions/modal';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\n\r\nfunction* getAllToolSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getAllTool, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(listAllToolsSuccess(data))\r\n  } else {\r\n    yield put(listAllToolsFail(data))\r\n    yield put(returnErrors(data, status, 'LIST_ALL_TOOLS_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* searchToolsSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(searchTools, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(searchToolsSuccess(data, payload))\r\n  } else {\r\n    yield put(searchToolsFail(data))\r\n    yield put(returnErrors(data, status, 'SEARCH_TOOLS_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* getIdToolSaga({ payload }) {\r\n  yield put(showLoading());\r\n  const token = yield call(getToken);\r\n  const resp = yield call(getIdTool, token, payload);\r\n  const { status, data } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(getIdToolSuccess(payload))\r\n  } else {\r\n    yield put(getIdToolFail(payload))\r\n    yield put(returnErrors(payload, status, 'GET_ID_TOOL_FAIL'))\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* addToolSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(addToolRequest, token, payload);\r\n  const { data, status } = resp;\r\n  \r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(addToolSuccess(data));\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(addToolFail(data));\r\n    yield put(returnErrors(data, status, 'ADD_TOOLS_FAIL'));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* deleteToolSaga({ payload }) {\r\n  const { _id } = payload;\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteToolRequest, token, _id);\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    const _resp = yield call(getAllTool, token, {params: {}});\r\n    if (_resp.status === STATUS_CODE.SUCCESS) {\r\n      yield put(listAllToolsSuccess(_resp.data))\r\n    }\r\n  } else {\r\n    yield put(deleteToolFail(data));\r\n    yield put(returnErrors(data, status, 'DELETE_TOOLS_FAIL'));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* updateToolSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  const toolEdited = payload;\r\n  const toolEditting = yield select((state) => state.tools.toolEditting);\r\n  //console.log(toolEditting)\r\n  //yield put(uploadImagesSuccess())\r\n  const { _id } = toolEditting || toolEdited;\r\n  const toolSendReducer = { _id, ...toolEdited }\r\n  yield put(showLoading());\r\n  const resp = yield call(\r\n    patchToolRequest,\r\n    token, _id, toolEdited\r\n  );\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(updateToolSuccess(toolSendReducer));\r\n    if (payload.woInfo && payload.woInfo._id) {\r\n      yield put(updateOrderSuccess(payload.woInfo));\r\n    }\r\n    yield put(hideModal());\r\n  } else {\r\n    yield put(updateToolFail(data));\r\n    yield put(returnErrors(data, status, 'UPDATE_TOOLS_FAIL'));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\nfunction* toolSaga() {\r\n  yield takeLatest(toolTypes.GET_ALL_TOOLS, getAllToolSaga);\r\n  yield takeLatest(toolTypes.SEARCH_TOOLS, searchToolsSaga);\r\n  yield takeLatest(toolTypes.GET_ID_TOOL, getIdToolSaga);\r\n  yield takeLatest(toolTypes.ADD_TOOL, addToolSaga);\r\n  yield takeLatest(toolTypes.DELETE_TOOL, deleteToolSaga);\r\n  yield takeLatest(toolTypes.UPDATE_TOOL, updateToolSaga);\r\n}\r\n\r\nexport default (toolSaga);\r\n","import { postImagesWithToken, deleteImageWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const uploadImagesRequest = (token, listFile) => {\r\n    return postImagesWithToken('api/upload/upload-photos', token, listFile).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n};\r\n\r\nexport const deleteImageRequest = (token, filename) => {\r\n    return deleteImageWithToken('api/upload/image', token, filename).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  uploadImagesFail,\r\n  uploadImagesSuccess,\r\n  deleteImageSuccess,\r\n  deleteImageFail,\r\n} from '../actions/imageActions';\r\n\r\nimport { uploadImagesRequest, deleteImageRequest } from '../apis/image';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as imageTypes from '../constants/image';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\n\r\nimport { hideTempModal, showModal } from '../actions/modal';\r\n\r\nfunction* uploadImagesSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  yield put(hideTempModal());\r\n  yield put(showLoading());\r\n  console.log('image saga')\r\n  console.log(payload)\r\n  const resp = yield call(uploadImagesRequest, token, payload);\r\n  console.log(resp)\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(uploadImagesSuccess(data.data));\r\n  } else {\r\n    yield put(uploadImagesFail(data));\r\n    yield put(returnErrors(data, status, 'UPLOAD_IMAGES_FAIL'));\r\n  }\r\n  yield put(hideLoading());\r\n  yield put(showModal());\r\n}\r\n\r\nfunction* deleteImageSaga({ payload }) {\r\n  const filename = payload;\r\n  console.log(filename);\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteImageRequest, token, filename);\r\n  const { data, status } = resp;\r\n  console.log(resp)\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(deleteImageSuccess(filename));\r\n  } else {\r\n    yield put(deleteImageFail(data));\r\n    yield put(returnErrors(data, status, 'DELETE_IMAGE_FAIL'));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\n// function* updateProductSaga({ payload }) {\r\n//   const token = yield call(getToken);\r\n//   const productEdited = payload;\r\n//   const productEditting = yield select((state) => state.products.productEditting);\r\n//   const { _id } = productEditting;\r\n//   const productSendReducer = { _id, ...productEdited }\r\n//   yield put(showLoading());\r\n//   const resp = yield call(\r\n//     patchProductRequest,\r\n//     token, _id, productEdited\r\n//   );\r\n//   const { data, status } = resp;\r\n//   if (status === STATUS_CODE.SUCCESS) {\r\n//     yield put(updateProductSuccess(productSendReducer));\r\n//     yield put(hideModal());\r\n//   } else {\r\n//     yield put(updateProductFail(data));\r\n//     yield put(returnErrors(data, status, 'UPDATE_PRODUCTS_FAIL'));\r\n//   }\r\n//   yield put(hideLoading());\r\n// }\r\n\r\nfunction* imageSaga() {\r\n  yield takeLatest(imageTypes.UPLOAD_IMAGE, uploadImagesSaga);\r\n  yield takeLatest(imageTypes.DELETE_IMAGE, deleteImageSaga);\r\n  // yield takeLatest(imageTypes.DELETE_PRODUCT, deleteProductSaga);\r\n  // yield takeLatest(imageTypes.UPDATE_PRODUCT, updateProductSaga);\r\n}\r\n\r\nexport default (imageSaga);\r\n","import { postFilesWithToken, deleteFileWithToken, patchWithToken } from '../commons/utils/apiCaller';\r\n\r\nexport const uploadFilesRequest = (token, listFile) => {\r\n    return postFilesWithToken('api/upload/upload-files', token, listFile).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n};\r\nexport const addFileRequest = (token, id, listFile) => {\r\n    return patchWithToken('api/fastReports/addFiles', token, id, listFile).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n};\r\nexport const addFileRequestToBBDGKT = (token, id, listFile) => {\r\n    return patchWithToken('api/bbdgkts/addFiles', token, id, listFile).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        return err.response\r\n    });\r\n};\r\n\r\nexport const deleteFileRequest = (token, filename) => {\r\n    return deleteFileWithToken('api/upload/file', token, filename).then(res => {\r\n        return res;\r\n    }).catch(err => { return err.response });\r\n}\r\n\r\n\r\n\r\n","import {\r\n  call,\r\n  put,\r\n  takeLatest,\r\n  select,\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  uploadFilesFail,\r\n  uploadFilesSuccess,\r\n  deleteFileSuccess,\r\n  deleteFileFail,\r\n} from '../actions/fileActions';\r\n\r\nimport { uploadFilesRequest, deleteFileRequest, addFileRequest, addFileRequestToBBDGKT } from '../apis/file';\r\nimport { getToken } from '../apis/auth';\r\n\r\nimport * as fileTypes from '../constants/file';\r\n\r\nimport { STATUS_CODE, } from '../constants';\r\n\r\nimport { showLoading, hideLoading } from '../actions/ui';\r\n\r\nimport { returnErrors } from '../actions/errorActions';\r\nimport { hideTempModal, showModal } from '../actions/modal';\r\n\r\nfunction* uploadFilesSaga({ payload }) {\r\n  const token = yield call(getToken);\r\n  //yield put(hideTempModal());\r\n  yield put(showLoading());\r\n  console.log('file saga')\r\n  console.log(payload)\r\n  const resp = yield call(uploadFilesRequest, token, payload);\r\n  console.log(resp)\r\n  const { data, status } = resp;\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(uploadFilesSuccess(data.data));\r\n    console.log(data.data)\r\n    //lấy dữ liệu id của fastReportEditting \r\n    const fastReportEditting = yield select((state) => state.fastReports.fastReport);\r\n    let idFastReport = '';\r\n    let dataSend = {};\r\n    console.log(fastReportEditting)\r\n\r\n    if (fastReportEditting !== undefined && fastReportEditting !== null)\r\n    // `fastReportEditting` có giá trị\r\n    // Thực hiện các hành động mong muốn ở đây\r\n    {\r\n      let arrayFilesFastReport = fastReportEditting.files\r\n      console.log(arrayFilesFastReport)\r\n      for (let i = 0; i < data.data.length; i++) {\r\n        arrayFilesFastReport.push(data.data[i])\r\n      }\r\n      idFastReport = fastReportEditting._id\r\n      dataSend = {\r\n        id: idFastReport,\r\n        listFile: arrayFilesFastReport\r\n      }\r\n      const addFile = yield call(addFileRequest, token, idFastReport, dataSend);\r\n      console.log(addFile)\r\n    }\r\n    const bbdgktEditting = yield select((state) => state.bbdgkts.bbdgkt);\r\n    let idbbdgkt = '';\r\n\r\n    if (bbdgktEditting !== undefined && bbdgktEditting !== null) {\r\n      let arrayFilesbbdgkt = bbdgktEditting.files\r\n      console.log(arrayFilesbbdgkt)\r\n      for (let i = 0; i < data.data.length; i++) {\r\n        arrayFilesbbdgkt.push(data.data[i])\r\n      }\r\n      idbbdgkt = bbdgktEditting._id\r\n      dataSend = {\r\n        id: idbbdgkt,\r\n        listFile: arrayFilesbbdgkt\r\n      }\r\n      const addFile = yield call(addFileRequestToBBDGKT, token, idbbdgkt, dataSend);\r\n      console.log(addFile)\r\n    }\r\n\r\n  } else {\r\n    yield put(uploadFilesFail(data));\r\n    yield put(returnErrors(data, status, 'UPLOAD_FILES_FAIL'));\r\n  }\r\n  yield put(hideLoading());\r\n  //yield put(showModal());\r\n}\r\n\r\nfunction* deleteFileSaga({ payload }) {\r\n  const filename = payload;\r\n  console.log(filename);\r\n  const token = yield call(getToken);\r\n  yield put(showLoading());\r\n  const resp = yield call(deleteFileRequest, token, filename);\r\n  const { data, status } = resp;\r\n  console.log(resp)\r\n  if (status === STATUS_CODE.SUCCESS) {\r\n    yield put(deleteFileSuccess(filename));\r\n  } else {\r\n    yield put(deleteFileFail(data));\r\n    yield put(returnErrors(data, status, 'DELETE_FILE_FAIL'));\r\n  }\r\n  yield put(hideLoading());\r\n}\r\n\r\n// function* updateProductSaga({ payload }) {\r\n//   const token = yield call(getToken);\r\n//   const productEdited = payload;\r\n//   const productEditting = yield select((state) => state.products.productEditting);\r\n//   const { _id } = productEditting;\r\n//   const productSendReducer = { _id, ...productEdited }\r\n//   yield put(showLoading());\r\n//   const resp = yield call(\r\n//     patchProductRequest,\r\n//     token, _id, productEdited\r\n//   );\r\n//   const { data, status } = resp;\r\n//   if (status === STATUS_CODE.SUCCESS) {\r\n//     yield put(updateProductSuccess(productSendReducer));\r\n//     yield put(hideModal());\r\n//   } else {\r\n//     yield put(updateProductFail(data));\r\n//     yield put(returnErrors(data, status, 'UPDATE_PRODUCTS_FAIL'));\r\n//   }\r\n//   yield put(hideLoading());\r\n// }\r\n\r\nfunction* fileSaga() {\r\n  yield takeLatest(fileTypes.UPLOAD_FILE, uploadFilesSaga);\r\n  yield takeLatest(fileTypes.DELETE_FILE, deleteFileSaga);\r\n}\r\n\r\nexport default (fileSaga);\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport rootReducer from '../reducers';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport thunk from 'redux-thunk';\r\n//IMPORT SAGA\r\nimport loginSaga from '../sagas/login';\r\nimport orderSaga from '../sagas/orderSaga';\r\nimport fastReportSaga from '../sagas/fastReportSaga';\r\nimport cchttSaga from '../sagas/cchttSaga';\r\nimport cgsatSaga from '../sagas/cgsatSaga';\r\nimport bbdgktSaga from '../sagas/bbdgktSaga';\r\nimport bptcSaga from '../sagas/bptcSaga';\r\nimport thongkeSaga from '../sagas/thongkeSaga';\r\nimport customerSaga from '../sagas/customerSaga';\r\nimport toolSaga from '../sagas/toolSaga';\r\nimport imageSaga from '../sagas/imageSaga';\r\nimport fileSaga from '../sagas/fileSaga';\r\n\r\nconst composeEnhancers =\r\n  process.env.NODE_ENV !== 'toolion' &&\r\n    typeof window === 'object' &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n      shouldHotReload: false,\r\n    })\r\n    : compose;\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst configureStore = () => {\r\n  const middlewares = [thunk, sagaMiddleware];\r\n  const enhancers = [applyMiddleware(...middlewares)];\r\n  const store = createStore(rootReducer, composeEnhancers(...enhancers));\r\n  sagaMiddleware.run(loginSaga);\r\n  sagaMiddleware.run(orderSaga);\r\n  sagaMiddleware.run(fastReportSaga);\r\n  sagaMiddleware.run(customerSaga);\r\n  sagaMiddleware.run(toolSaga);\r\n  sagaMiddleware.run(imageSaga);\r\n  sagaMiddleware.run(fileSaga);\r\n  sagaMiddleware.run(cchttSaga);\r\n  sagaMiddleware.run(cgsatSaga);\r\n  sagaMiddleware.run(bbdgktSaga);\r\n  sagaMiddleware.run(bptcSaga);\r\n  sagaMiddleware.run(thongkeSaga);\r\n  return store;\r\n};\r\nexport default configureStore;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './containers/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider,} from 'react-redux';\r\nimport configureStore from './redux/configureStore';\r\nconst store = configureStore(); \r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}